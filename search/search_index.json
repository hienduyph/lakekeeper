{"config": {"lang": ["en"], "separator": "[\\s\\-]+", "pipeline": ["stopWordFilter"]}, "docs": [{"location": "", "title": "Lakekeeper", "text": "<p>Lakekeeper is a secure, fast and easy to use Apache Iceberg REST Catalog implementation written in Rust. Start by reading Getting Started, then check Documentation &amp; Concepts for more details information.</p> <p> </p>"}, {"location": "#features", "title": "Features", "text": "<ul> <li>Written in Rust: Single all-in-one binary - no JVM or Python env required.</li> <li>User Friendly: We offer a UI, Helm-Charts, Binary executables for all major platform, a comprehensive documentation and much more. Let us know if you miss anything!</li> <li>Storage Access Management: Lakekeeper secures access to your data using Vended-Credentials and remote signing for S3. All major Hyperscalers (AWS, Azure, GCP) as well as on-premise deployments with S3 are supported.</li> <li>Openid Provider Integration: Use your own identity provider for authentication, just set <code>LAKEKEEPER__OPENID_PROVIDER_URI</code> and you are good to go.</li> <li>Native Kubernetes Integration: Use our helm chart to easily deploy high available setups and natively authenticate kubernetes service accounts with Lakekeeper. Kubernetes and OpenID authentication can be used simultaneously. A Kubernetes Operator is currently in development.</li> <li>Change Events: Built-in support to emit change events (CloudEvents), which enables you to react to any change that happen to your tables.</li> <li>Change Approval: Changes can also be prohibited by external systems. This can be used to prohibit changes to tables that would invalidate Data Contracts, Quality SLOs etc. Simply integrate with your own change approval via our <code>ContractVerification</code> trait.</li> <li>Multi-Tenant capable: A single deployment of Lakekeeper can serve multiple projects - all with a single entrypoint. Each project itself supports multiple Warehouses to which compute engines can connect.</li> <li>Customizable: Lakekeeper is meant to be extended. We expose the Database implementation (<code>Catalog</code>), <code>SecretsStore</code>, <code>Authorizer</code>, Events (<code>CloudEventBackend</code>) and <code>ContractVerification</code> as interfaces (Traits). This allows you to tap into any access management system of your company or stream change events to any system you like - simply by implementing a handful methods.</li> <li>Well-Tested: Integration-tested with <code>spark</code>, <code>pyiceberg</code>, <code>trino</code> and <code>starrocks</code>.</li> <li>High Available &amp; Horizontally Scalable: There is no local state - the catalog can be scaled horizontally easily.</li> <li>Fine Grained Access (FGA): Lakekeeper's default Authorization system leverages OpenFGA. If your company already has a different system in place, you can integrate with it by implementing a handful of methods in the <code>Authorizer</code> trait.</li> <li>Ecosystem First: We are not bound to a vendor. We care about the whole ecosystem and not just a single query engine.</li> </ul> <p>If you are missing something, we would love to hear about it in a Github Issue.</p>"}, {"location": "api/", "title": "API", "text": ""}, {"location": "api/#lakekeeper-management-api-050", "title": "Lakekeeper Management API 0.5.0", "text": "<p>Lakekeeper is a rust-native Apache Iceberg REST Catalog implementation. The Management API provides endpoints to manage the server, projects, warehouses, users, and roles. If Authorization is enabled, permissions can also be managed. An interactive Swagger-UI for the specific Lakekeeper Version and configuration running is available at <code>/swagger-ui/#/</code> of Lakekeeper (by default http://localhost:8181/swagger-ui/#/).</p> License: Apache-2.0"}, {"location": "api/#servers", "title": "Servers", "text": "Description URL Lakekeeper Management API {scheme}://{host}/{basePath}"}, {"location": "api/#server", "title": "server", "text": ""}, {"location": "api/#post-managementv1bootstrap", "title": "POST /management/v1/bootstrap", "text": "<p>Creates the user in the catalog if it does not exist.</p> Description <p>If the user exists, it updates the users' metadata from the token. The token sent to this endpoint should have \"profile\" and \"email\" scopes.</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <p>Request body</p> application/json <p><pre><code>{\n    \"accept-terms-of-use\": true,\n    \"is-operator\": true,\n    \"user-email\": \"string\",\n    \"user-name\": \"string\",\n    \"user-type\": null\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the request body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"accept-terms-of-use\"\n    ],\n    \"properties\": {\n        \"accept-terms-of-use\": {\n            \"type\": \"boolean\",\n            \"description\": \"Set to true if you accept LAKEKEEPER terms of use.\"\n        },\n        \"is-operator\": {\n            \"type\": \"boolean\",\n            \"description\": \"If set to true, the calling user is treated as an operator and obtain\\na corresponding role. If not specified, the user is treated as a human.\"\n        },\n        \"user-email\": {\n            \"type\": \"string\",\n            \"description\": \"Email of the user performing bootstrap. Optional. If not provided\\nthe server will try to parse the email from the provided token.\",\n            \"nullable\": true\n        },\n        \"user-name\": {\n            \"type\": \"string\",\n            \"description\": \"Name of the user performing bootstrap. Optional. If not provided\\nthe server will try to parse the name from the provided token.\\nThe initial user will become the global admin.\",\n            \"nullable\": true\n        },\n        \"user-type\": {\n            \"allOf\": [\n                {\n                    \"$ref\": \"#/components/schemas/UserType\"\n                }\n            ],\n            \"nullable\": true\n        }\n    }\n}\n</code></pre> <p> Response 204 No Content </p> <p> Response 4XX </p> application/json <p><pre><code>{\n    \"error\": {\n        \"code\": 117,\n        \"message\": \"string\",\n        \"stack\": [\n            \"string\"\n        ],\n        \"type\": \"string\"\n    }\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"description\": \"JSON wrapper for all error responses (non-2xx)\",\n    \"required\": [\n        \"error\"\n    ],\n    \"properties\": {\n        \"error\": {\n            \"$ref\": \"#/components/schemas/ErrorModel\"\n        }\n    }\n}\n</code></pre> <p> Response 500 Internal Server Error </p> application/json <p><pre><code>{\n    \"error\": {\n        \"code\": 127,\n        \"message\": \"string\",\n        \"stack\": [\n            \"string\"\n        ],\n        \"type\": \"string\"\n    }\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"description\": \"JSON wrapper for all error responses (non-2xx)\",\n    \"required\": [\n        \"error\"\n    ],\n    \"properties\": {\n        \"error\": {\n            \"$ref\": \"#/components/schemas/ErrorModel\"\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#get-managementv1info", "title": "GET /management/v1/info", "text": "<p>Get information about the server</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"authz-backend\": \"allow-all\",\n    \"bootstrapped\": true,\n    \"default-project-id\": \"b8b8f21d-8a48-4fa9-8abb-641c4a9c2fda\",\n    \"server-id\": \"169ade78-349d-4eb0-988b-bf41884b230b\",\n    \"version\": \"string\"\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"version\",\n        \"bootstrapped\",\n        \"server-id\",\n        \"default-project-id\",\n        \"authz-backend\"\n    ],\n    \"properties\": {\n        \"authz-backend\": {\n            \"$ref\": \"#/components/schemas/AuthZBackend\"\n        },\n        \"bootstrapped\": {\n            \"type\": \"boolean\",\n            \"description\": \"Whether the catalog has been bootstrapped.\"\n        },\n        \"default-project-id\": {\n            \"type\": \"string\",\n            \"format\": \"uuid\",\n            \"description\": \"Default Project ID. Null if not set\"\n        },\n        \"server-id\": {\n            \"type\": \"string\",\n            \"format\": \"uuid\",\n            \"description\": \"ID of the server.\"\n        },\n        \"version\": {\n            \"type\": \"string\",\n            \"description\": \"Version of the server.\"\n        }\n    }\n}\n</code></pre> <p> Response 4XX </p> application/json <p><pre><code>{\n    \"error\": {\n        \"code\": 104,\n        \"message\": \"string\",\n        \"stack\": [\n            \"string\"\n        ],\n        \"type\": \"string\"\n    }\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"description\": \"JSON wrapper for all error responses (non-2xx)\",\n    \"required\": [\n        \"error\"\n    ],\n    \"properties\": {\n        \"error\": {\n            \"$ref\": \"#/components/schemas/ErrorModel\"\n        }\n    }\n}\n</code></pre> <p> Response 500 Internal Server Error </p> application/json <p><pre><code>{\n    \"error\": {\n        \"code\": 167,\n        \"message\": \"string\",\n        \"stack\": [\n            \"string\"\n        ],\n        \"type\": \"string\"\n    }\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"description\": \"JSON wrapper for all error responses (non-2xx)\",\n    \"required\": [\n        \"error\"\n    ],\n    \"properties\": {\n        \"error\": {\n            \"$ref\": \"#/components/schemas/ErrorModel\"\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#project", "title": "project", "text": ""}, {"location": "api/#get-managementv1default-project", "title": "GET /management/v1/default-project", "text": "<p>Get the default project</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"project-id\": \"8c316961-d1dd-4d8e-9019-2d549e6d797e\",\n    \"project-name\": \"string\"\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"project-id\",\n        \"project-name\"\n    ],\n    \"properties\": {\n        \"project-id\": {\n            \"type\": \"string\",\n            \"format\": \"uuid\",\n            \"description\": \"ID of the project.\"\n        },\n        \"project-name\": {\n            \"type\": \"string\",\n            \"description\": \"Name of the project\"\n        }\n    }\n}\n</code></pre> <p> Response 4XX </p> application/json <p><pre><code>{\n    \"error\": {\n        \"code\": 4,\n        \"message\": \"string\",\n        \"stack\": [\n            \"string\"\n        ],\n        \"type\": \"string\"\n    }\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"description\": \"JSON wrapper for all error responses (non-2xx)\",\n    \"required\": [\n        \"error\"\n    ],\n    \"properties\": {\n        \"error\": {\n            \"$ref\": \"#/components/schemas/ErrorModel\"\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#delete-managementv1default-project", "title": "DELETE /management/v1/default-project", "text": "<p>Delete the default project</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <p> Response 204 No Content </p> <p> Response 4XX </p> application/json <p><pre><code>{\n    \"error\": {\n        \"code\": 279,\n        \"message\": \"string\",\n        \"stack\": [\n            \"string\"\n        ],\n        \"type\": \"string\"\n    }\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"description\": \"JSON wrapper for all error responses (non-2xx)\",\n    \"required\": [\n        \"error\"\n    ],\n    \"properties\": {\n        \"error\": {\n            \"$ref\": \"#/components/schemas/ErrorModel\"\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#post-managementv1default-projectrename", "title": "POST /management/v1/default-project/rename", "text": "<p>Rename the default project</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <p>Request body</p> application/json <p><pre><code>{\n    \"new-name\": \"string\",\n    \"project-id\": \"6d2cbb6a-8291-4867-8d1c-bcd4c88de3d4\"\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the request body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"new-name\"\n    ],\n    \"properties\": {\n        \"new-name\": {\n            \"type\": \"string\",\n            \"description\": \"New name for the project.\"\n        },\n        \"project-id\": {\n            \"type\": \"string\",\n            \"format\": \"uuid\",\n            \"description\": \"Optional project ID.\\nOnly required if the project ID cannot be inferred and no default project is set.\",\n            \"nullable\": true\n        }\n    }\n}\n</code></pre> <p> Response 200 OK </p> <p> Response 4XX </p> application/json <p><pre><code>{\n    \"error\": {\n        \"code\": 215,\n        \"message\": \"string\",\n        \"stack\": [\n            \"string\"\n        ],\n        \"type\": \"string\"\n    }\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"description\": \"JSON wrapper for all error responses (non-2xx)\",\n    \"required\": [\n        \"error\"\n    ],\n    \"properties\": {\n        \"error\": {\n            \"$ref\": \"#/components/schemas/ErrorModel\"\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#post-managementv1project", "title": "POST /management/v1/project", "text": "<p>Create a new project</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <p>Request body</p> application/json <p><pre><code>{\n    \"project-id\": \"49d2b0fc-d24e-4240-a778-e9c96c776f8a\",\n    \"project-name\": \"string\"\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the request body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"project-name\"\n    ],\n    \"properties\": {\n        \"project-id\": {\n            \"type\": \"string\",\n            \"format\": \"uuid\",\n            \"description\": \"Request a specific project ID - optional.\\nIf not provided, a new project ID will be generated (recommended).\",\n            \"nullable\": true\n        },\n        \"project-name\": {\n            \"type\": \"string\",\n            \"description\": \"Name of the project to create.\"\n        }\n    }\n}\n</code></pre> <p> Response 201 Created </p> application/json <p><pre><code>{\n    \"project-id\": \"d85a3248-575c-4c34-852a-c27057900d94\"\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"project-id\"\n    ],\n    \"properties\": {\n        \"project-id\": {\n            \"type\": \"string\",\n            \"format\": \"uuid\",\n            \"description\": \"ID of the created project.\"\n        }\n    }\n}\n</code></pre> <p> Response 4XX </p> application/json <p><pre><code>{\n    \"error\": {\n        \"code\": 33,\n        \"message\": \"string\",\n        \"stack\": [\n            \"string\"\n        ],\n        \"type\": \"string\"\n    }\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"description\": \"JSON wrapper for all error responses (non-2xx)\",\n    \"required\": [\n        \"error\"\n    ],\n    \"properties\": {\n        \"error\": {\n            \"$ref\": \"#/components/schemas/ErrorModel\"\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#get-managementv1project-list", "title": "GET /management/v1/project-list", "text": "<p>List all projects the requesting user has access to</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"projects\": [\n        {\n            \"project-id\": \"65e95df4-f73c-4106-98c9-4214f2540bf4\",\n            \"project-name\": \"string\"\n        }\n    ]\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"projects\"\n    ],\n    \"properties\": {\n        \"projects\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/GetProjectResponse\"\n            },\n            \"description\": \"List of projects\"\n        }\n    }\n}\n</code></pre> <p> Response 4XX </p> application/json <p><pre><code>{\n    \"error\": {\n        \"code\": 232,\n        \"message\": \"string\",\n        \"stack\": [\n            \"string\"\n        ],\n        \"type\": \"string\"\n    }\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"description\": \"JSON wrapper for all error responses (non-2xx)\",\n    \"required\": [\n        \"error\"\n    ],\n    \"properties\": {\n        \"error\": {\n            \"$ref\": \"#/components/schemas/ErrorModel\"\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#get-managementv1projectproject_id", "title": "GET /management/v1/project/{project_id}", "text": "<p>Get a specific project by id</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>project_id</code> path string No <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"project-id\": \"2944f496-93b6-4431-ac5e-9dc9815c8bf0\",\n    \"project-name\": \"string\"\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"project-id\",\n        \"project-name\"\n    ],\n    \"properties\": {\n        \"project-id\": {\n            \"type\": \"string\",\n            \"format\": \"uuid\",\n            \"description\": \"ID of the project.\"\n        },\n        \"project-name\": {\n            \"type\": \"string\",\n            \"description\": \"Name of the project\"\n        }\n    }\n}\n</code></pre> <p> Response 4XX </p> application/json <p><pre><code>{\n    \"error\": {\n        \"code\": 112,\n        \"message\": \"string\",\n        \"stack\": [\n            \"string\"\n        ],\n        \"type\": \"string\"\n    }\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"description\": \"JSON wrapper for all error responses (non-2xx)\",\n    \"required\": [\n        \"error\"\n    ],\n    \"properties\": {\n        \"error\": {\n            \"$ref\": \"#/components/schemas/ErrorModel\"\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#delete-managementv1projectproject_id", "title": "DELETE /management/v1/project/{project_id}", "text": "<p>Delete the default project</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>project_id</code> path string No <p> Response 204 No Content </p> <p> Response 4XX </p> application/json <p><pre><code>{\n    \"error\": {\n        \"code\": 112,\n        \"message\": \"string\",\n        \"stack\": [\n            \"string\"\n        ],\n        \"type\": \"string\"\n    }\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"description\": \"JSON wrapper for all error responses (non-2xx)\",\n    \"required\": [\n        \"error\"\n    ],\n    \"properties\": {\n        \"error\": {\n            \"$ref\": \"#/components/schemas/ErrorModel\"\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#post-managementv1projectproject_idrename", "title": "POST /management/v1/project/{project_id}/rename", "text": "<p>Rename project by id</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>project_id</code> path string No <p>Request body</p> application/json <p><pre><code>{\n    \"new-name\": \"string\",\n    \"project-id\": \"bd5a901b-aaa7-4ef4-9fe0-4ccf27ea656e\"\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the request body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"new-name\"\n    ],\n    \"properties\": {\n        \"new-name\": {\n            \"type\": \"string\",\n            \"description\": \"New name for the project.\"\n        },\n        \"project-id\": {\n            \"type\": \"string\",\n            \"format\": \"uuid\",\n            \"description\": \"Optional project ID.\\nOnly required if the project ID cannot be inferred and no default project is set.\",\n            \"nullable\": true\n        }\n    }\n}\n</code></pre> <p> Response 200 OK </p> <p> Response 4XX </p> application/json <p><pre><code>{\n    \"error\": {\n        \"code\": 37,\n        \"message\": \"string\",\n        \"stack\": [\n            \"string\"\n        ],\n        \"type\": \"string\"\n    }\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"description\": \"JSON wrapper for all error responses (non-2xx)\",\n    \"required\": [\n        \"error\"\n    ],\n    \"properties\": {\n        \"error\": {\n            \"$ref\": \"#/components/schemas/ErrorModel\"\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#permissions", "title": "permissions", "text": ""}, {"location": "api/#get-managementv1permissionsnamespacenamespace_id", "title": "GET /management/v1/permissions/namespace/{namespace_id}", "text": "<p>Get Authorization properties of a namespace</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>namespace_id</code> path string No Namespace ID <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"managed-access\": true,\n    \"managed-access-inherited\": true\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"managed-access\",\n        \"managed-access-inherited\"\n    ],\n    \"properties\": {\n        \"managed-access\": {\n            \"type\": \"boolean\"\n        },\n        \"managed-access-inherited\": {\n            \"type\": \"boolean\"\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#get-managementv1permissionsnamespacenamespace_idaccess", "title": "GET /management/v1/permissions/namespace/{namespace_id}/access", "text": "<p>Get my access to a namespace</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>namespace_id</code> path string No Namespace ID <code>principal</code> query None Yes The user or role to show access for. If not specified, shows access for the current user. <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"allowed-actions\": [\n        \"create_table\"\n    ]\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"allowed-actions\"\n    ],\n    \"properties\": {\n        \"allowed-actions\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/NamespaceAction\"\n            }\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#get-managementv1permissionsnamespacenamespace_idassignments", "title": "GET /management/v1/permissions/namespace/{namespace_id}/assignments", "text": "<p>Get user and role assignments for a namespace</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>namespace_id</code> path string No Namespace ID <code>relations</code> query array Yes Relations to be loaded. If not specified, all relations are returned. <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"assignments\": [\n        null\n    ]\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"assignments\"\n    ],\n    \"properties\": {\n        \"assignments\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/NamespaceAssignment\"\n            }\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#post-managementv1permissionsnamespacenamespace_idassignments", "title": "POST /management/v1/permissions/namespace/{namespace_id}/assignments", "text": "<p>Update permissions for a namespace</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>namespace_id</code> path string No Namespace ID <p>Request body</p> application/json <p><pre><code>{\n    \"deletes\": [\n        null\n    ],\n    \"writes\": null\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the request body <pre><code>{\n    \"type\": \"object\",\n    \"properties\": {\n        \"deletes\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/NamespaceAssignment\"\n            }\n        },\n        \"writes\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/NamespaceAssignment\"\n            }\n        }\n    }\n}\n</code></pre> <p> Response 204 No Content </p>"}, {"location": "api/#post-managementv1permissionsnamespacenamespace_idmanaged-access", "title": "POST /management/v1/permissions/namespace/{namespace_id}/managed-access", "text": "<p>Set managed access property of a namespace</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>namespace_id</code> path string No Namespace ID <p>Request body</p> application/json <p><pre><code>{\n    \"managed-access\": true\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the request body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"managed-access\"\n    ],\n    \"properties\": {\n        \"managed-access\": {\n            \"type\": \"boolean\"\n        }\n    }\n}\n</code></pre> <p> Response 200 OK </p>"}, {"location": "api/#get-managementv1permissionsprojectaccess", "title": "GET /management/v1/permissions/project/access", "text": "<p>Get my access to the default project</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>principal</code> query None Yes The user or role to show access for. If not specified, shows access for the current user. <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"allowed-actions\": [\n        \"create_warehouse\"\n    ]\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"allowed-actions\"\n    ],\n    \"properties\": {\n        \"allowed-actions\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/ProjectAction\"\n            }\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#get-managementv1permissionsprojectassignments", "title": "GET /management/v1/permissions/project/assignments", "text": "<p>Get user and role assignments of a project</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>relations</code> query array Yes Relations to be loaded. If not specified, all relations are returned. <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"assignments\": [\n        null\n    ],\n    \"project-id\": \"9af271e0-10c2-406a-ac94-19eab012dfe5\"\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"assignments\",\n        \"project-id\"\n    ],\n    \"properties\": {\n        \"assignments\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/ProjectAssignment\"\n            }\n        },\n        \"project-id\": {\n            \"type\": \"string\",\n            \"format\": \"uuid\"\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#post-managementv1permissionsprojectassignments", "title": "POST /management/v1/permissions/project/assignments", "text": "<p>Update permissions for the default project</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <p>Request body</p> application/json <p><pre><code>{\n    \"deletes\": [\n        null\n    ],\n    \"writes\": null\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the request body <pre><code>{\n    \"type\": \"object\",\n    \"properties\": {\n        \"deletes\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/ProjectAssignment\"\n            }\n        },\n        \"writes\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/ProjectAssignment\"\n            }\n        }\n    }\n}\n</code></pre> <p> Response 204 No Content </p>"}, {"location": "api/#get-managementv1permissionsprojectproject_idaccess", "title": "GET /management/v1/permissions/project/{project_id}/access", "text": "<p>Get my access to the default project</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>principal</code> query None Yes The user or role to show access for. If not specified, shows access for the current user. <code>project_id</code> path string No Project ID <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"allowed-actions\": [\n        \"create_warehouse\"\n    ]\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"allowed-actions\"\n    ],\n    \"properties\": {\n        \"allowed-actions\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/ProjectAction\"\n            }\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#get-managementv1permissionsprojectproject_idassignments", "title": "GET /management/v1/permissions/project/{project_id}/assignments", "text": "<p>Get user and role assignments to a project</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>project_id</code> path string No Project ID <code>relations</code> query array Yes Relations to be loaded. If not specified, all relations are returned. <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"assignments\": [\n        null\n    ],\n    \"project-id\": \"b8f9361b-64a9-4c7f-ae2f-6db3917932f6\"\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"assignments\",\n        \"project-id\"\n    ],\n    \"properties\": {\n        \"assignments\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/ProjectAssignment\"\n            }\n        },\n        \"project-id\": {\n            \"type\": \"string\",\n            \"format\": \"uuid\"\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#post-managementv1permissionsprojectproject_idassignments", "title": "POST /management/v1/permissions/project/{project_id}/assignments", "text": "<p>Update permissions for a project</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>project_id</code> path string No Project ID <p>Request body</p> application/json <p><pre><code>{\n    \"deletes\": [\n        null\n    ],\n    \"writes\": null\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the request body <pre><code>{\n    \"type\": \"object\",\n    \"properties\": {\n        \"deletes\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/ProjectAssignment\"\n            }\n        },\n        \"writes\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/ProjectAssignment\"\n            }\n        }\n    }\n}\n</code></pre> <p> Response 204 No Content </p>"}, {"location": "api/#get-managementv1permissionsrolerole_idaccess", "title": "GET /management/v1/permissions/role/{role_id}/access", "text": "<p>Get my access to the default project</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>principal</code> query None Yes The user or role to show access for. If not specified, shows access for the current user. <code>role_id</code> path string No Role ID <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"allowed-actions\": [\n        \"assume\"\n    ]\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"allowed-actions\"\n    ],\n    \"properties\": {\n        \"allowed-actions\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/RoleAction\"\n            }\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#get-managementv1permissionsrolerole_idassignments", "title": "GET /management/v1/permissions/role/{role_id}/assignments", "text": "<p>Get user and role assignments of a role</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>relations</code> query array Yes Relations to be loaded. If not specified, all relations are returned. <code>role_id</code> path string No Role ID <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"assignments\": [\n        null\n    ]\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"assignments\"\n    ],\n    \"properties\": {\n        \"assignments\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/RoleAssignment\"\n            }\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#post-managementv1permissionsrolerole_idassignments", "title": "POST /management/v1/permissions/role/{role_id}/assignments", "text": "<p>Update permissions for a role</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>role_id</code> path string No Role ID <p>Request body</p> application/json <p><pre><code>{\n    \"deletes\": [\n        null\n    ],\n    \"writes\": null\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the request body <pre><code>{\n    \"type\": \"object\",\n    \"properties\": {\n        \"deletes\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/RoleAssignment\"\n            }\n        },\n        \"writes\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/RoleAssignment\"\n            }\n        }\n    }\n}\n</code></pre> <p> Response 204 No Content </p>"}, {"location": "api/#get-managementv1permissionsserveraccess", "title": "GET /management/v1/permissions/server/access", "text": "<p>Get my access to the server</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>principal</code> query None Yes The user or role to show access for. If not specified, shows access for the current user. <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"allowed-actions\": [\n        \"create_project\"\n    ]\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"allowed-actions\"\n    ],\n    \"properties\": {\n        \"allowed-actions\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/ServerAction\"\n            }\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#get-managementv1permissionsserverassignments", "title": "GET /management/v1/permissions/server/assignments", "text": "<p>Get user and role assignments of the server</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>relations</code> query array Yes Relations to be loaded. If not specified, all relations are returned. <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"assignments\": [\n        null\n    ]\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"assignments\"\n    ],\n    \"properties\": {\n        \"assignments\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/ServerAssignment\"\n            }\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#post-managementv1permissionsserverassignments", "title": "POST /management/v1/permissions/server/assignments", "text": "<p>Update permissions for this server</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <p>Request body</p> application/json <p><pre><code>{\n    \"deletes\": [\n        null\n    ],\n    \"writes\": null\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the request body <pre><code>{\n    \"type\": \"object\",\n    \"properties\": {\n        \"deletes\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/ServerAssignment\"\n            }\n        },\n        \"writes\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/ServerAssignment\"\n            }\n        }\n    }\n}\n</code></pre> <p> Response 204 No Content </p>"}, {"location": "api/#get-managementv1permissionstabletable_idaccess", "title": "GET /management/v1/permissions/table/{table_id}/access", "text": "<p>Get my access to a table</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>principal</code> query None Yes The user or role to show access for. If not specified, shows access for the current user. <code>table_id</code> path string No Table ID <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"allowed-actions\": [\n        \"drop\"\n    ]\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"allowed-actions\"\n    ],\n    \"properties\": {\n        \"allowed-actions\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/TableAction\"\n            }\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#get-managementv1permissionstabletable_idassignments", "title": "GET /management/v1/permissions/table/{table_id}/assignments", "text": "<p>Get user and role assignments for a table</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>relations</code> query array Yes Relations to be loaded. If not specified, all relations are returned. <code>table_id</code> path string No Table ID <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"assignments\": [\n        null\n    ]\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"assignments\"\n    ],\n    \"properties\": {\n        \"assignments\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/TableAssignment\"\n            }\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#post-managementv1permissionstabletable_idassignments", "title": "POST /management/v1/permissions/table/{table_id}/assignments", "text": "<p>Update permissions for a table</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>table_id</code> path string No Table ID <p>Request body</p> application/json <p><pre><code>{\n    \"deletes\": [\n        null\n    ],\n    \"writes\": null\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the request body <pre><code>{\n    \"type\": \"object\",\n    \"properties\": {\n        \"deletes\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/TableAssignment\"\n            }\n        },\n        \"writes\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/TableAssignment\"\n            }\n        }\n    }\n}\n</code></pre> <p> Response 204 No Content </p>"}, {"location": "api/#get-managementv1permissionsviewview_idaccess", "title": "GET /management/v1/permissions/view/{view_id}/access", "text": "<p>Get my access to a view</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>principal</code> query None Yes The user or role to show access for. If not specified, shows access for the current user. <code>view_id</code> path string No View ID <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"allowed-actions\": [\n        \"drop\"\n    ]\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"allowed-actions\"\n    ],\n    \"properties\": {\n        \"allowed-actions\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/ViewAction\"\n            }\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#get-managementv1permissionsviewview_idassignments", "title": "GET /management/v1/permissions/view/{view_id}/assignments", "text": "<p>Get user and role assignments for a view</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>relations</code> query array Yes Relations to be loaded. If not specified, all relations are returned. <code>view_id</code> path string No View ID <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"assignments\": [\n        null\n    ]\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"assignments\"\n    ],\n    \"properties\": {\n        \"assignments\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/ViewAssignment\"\n            }\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#post-managementv1permissionsviewview_idassignments", "title": "POST /management/v1/permissions/view/{view_id}/assignments", "text": "<p>Update permissions for a view</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>view_id</code> path string No View ID <p>Request body</p> application/json <p><pre><code>{\n    \"deletes\": [\n        null\n    ],\n    \"writes\": null\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the request body <pre><code>{\n    \"type\": \"object\",\n    \"properties\": {\n        \"deletes\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/ViewAssignment\"\n            }\n        },\n        \"writes\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/ViewAssignment\"\n            }\n        }\n    }\n}\n</code></pre> <p> Response 204 No Content </p>"}, {"location": "api/#get-managementv1permissionswarehousewarehouse_id", "title": "GET /management/v1/permissions/warehouse/{warehouse_id}", "text": "<p>Get Authorization properties of a warehouse</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>warehouse_id</code> path string No Warehouse ID <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"managed-access\": true\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"managed-access\"\n    ],\n    \"properties\": {\n        \"managed-access\": {\n            \"type\": \"boolean\"\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#get-managementv1permissionswarehousewarehouse_idaccess", "title": "GET /management/v1/permissions/warehouse/{warehouse_id}/access", "text": "<p>Get my access to a warehouse</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>principal</code> query None Yes The user or role to show access for. If not specified, shows access for the current user. <code>warehouse_id</code> path string No Warehouse ID <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"allowed-actions\": [\n        \"create_namespace\"\n    ]\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"allowed-actions\"\n    ],\n    \"properties\": {\n        \"allowed-actions\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/WarehouseAction\"\n            }\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#get-managementv1permissionswarehousewarehouse_idassignments", "title": "GET /management/v1/permissions/warehouse/{warehouse_id}/assignments", "text": "<p>Get user and role assignments for a warehouse</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>relations</code> query array Yes Relations to be loaded. If not specified, all relations are returned. <code>warehouse_id</code> path string No Warehouse ID <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"assignments\": [\n        null\n    ]\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"assignments\"\n    ],\n    \"properties\": {\n        \"assignments\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/WarehouseAssignment\"\n            }\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#post-managementv1permissionswarehousewarehouse_idassignments", "title": "POST /management/v1/permissions/warehouse/{warehouse_id}/assignments", "text": "<p>Update permissions for a project</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>warehouse_id</code> path string No Warehouse ID <p>Request body</p> application/json <p><pre><code>{\n    \"deletes\": [\n        null\n    ],\n    \"writes\": null\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the request body <pre><code>{\n    \"type\": \"object\",\n    \"properties\": {\n        \"deletes\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/WarehouseAssignment\"\n            }\n        },\n        \"writes\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/WarehouseAssignment\"\n            }\n        }\n    }\n}\n</code></pre> <p> Response 204 No Content </p>"}, {"location": "api/#post-managementv1permissionswarehousewarehouse_idmanaged-access", "title": "POST /management/v1/permissions/warehouse/{warehouse_id}/managed-access", "text": "<p>Set managed access property of a warehouse</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>warehouse_id</code> path string No Warehouse ID <p>Request body</p> application/json <p><pre><code>{\n    \"managed-access\": true\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the request body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"managed-access\"\n    ],\n    \"properties\": {\n        \"managed-access\": {\n            \"type\": \"boolean\"\n        }\n    }\n}\n</code></pre> <p> Response 200 OK </p>"}, {"location": "api/#role", "title": "role", "text": ""}, {"location": "api/#get-managementv1role", "title": "GET /management/v1/role", "text": "<p>List roles in a project</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>name</code> query string Yes Search for a specific role name <code>pageSize</code> query integer No Signals an upper bound of the number of results that a client will receive. Default: 100 <code>pageToken</code> query string Yes Next page token <code>projectId</code> query string No Project ID from which roles should be listed Only required if the project ID cannot be inferred from the users token and no default project is set. <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"next_page_token\": \"string\",\n    \"roles\": [\n        {\n            \"created-at\": \"2022-04-13T15:42:05.901Z\",\n            \"description\": \"string\",\n            \"id\": \"353ff012-eb7b-4753-a705-931885f4b65f\",\n            \"name\": \"string\",\n            \"project-id\": \"61509913-b447-40ea-8aa9-8fa002930b31\",\n            \"updated-at\": \"2022-04-13T15:42:05.901Z\"\n        }\n    ]\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"roles\"\n    ],\n    \"properties\": {\n        \"next_page_token\": {\n            \"type\": \"string\",\n            \"nullable\": true\n        },\n        \"roles\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/Role\"\n            }\n        }\n    }\n}\n</code></pre> <p> Response 4XX </p> application/json <p><pre><code>{\n    \"error\": {\n        \"code\": 281,\n        \"message\": \"string\",\n        \"stack\": [\n            \"string\"\n        ],\n        \"type\": \"string\"\n    }\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"description\": \"JSON wrapper for all error responses (non-2xx)\",\n    \"required\": [\n        \"error\"\n    ],\n    \"properties\": {\n        \"error\": {\n            \"$ref\": \"#/components/schemas/ErrorModel\"\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#post-managementv1role", "title": "POST /management/v1/role", "text": "<p>Create a new role</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <p>Request body</p> application/json <p><pre><code>{\n    \"description\": \"string\",\n    \"name\": \"string\",\n    \"project-id\": \"bb89737d-d9bb-488a-a9d2-4eed129891fc\"\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the request body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"name\"\n    ],\n    \"properties\": {\n        \"description\": {\n            \"type\": \"string\",\n            \"description\": \"Description of the role\",\n            \"nullable\": true\n        },\n        \"name\": {\n            \"type\": \"string\",\n            \"description\": \"Name of the role to create\"\n        },\n        \"project-id\": {\n            \"type\": \"string\",\n            \"format\": \"uuid\",\n            \"description\": \"Project ID in which the role is created.\\nOnly required if the project ID cannot be inferred and no default project is set.\"\n        }\n    }\n}\n</code></pre> <p> Response 201 Created </p> application/json <p><pre><code>{\n    \"created-at\": \"2022-04-13T15:42:05.901Z\",\n    \"description\": \"string\",\n    \"id\": \"c4ce44f5-0832-4675-bf41-b462f484cf75\",\n    \"name\": \"string\",\n    \"project-id\": \"4c63cb87-b7a2-447e-9e02-78167860a5bd\",\n    \"updated-at\": \"2022-04-13T15:42:05.901Z\"\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"id\",\n        \"name\",\n        \"project-id\",\n        \"created-at\"\n    ],\n    \"properties\": {\n        \"created-at\": {\n            \"type\": \"string\",\n            \"format\": \"date-time\",\n            \"description\": \"Timestamp when the role was created\"\n        },\n        \"description\": {\n            \"type\": \"string\",\n            \"description\": \"Description of the role\",\n            \"nullable\": true\n        },\n        \"id\": {\n            \"type\": \"string\",\n            \"format\": \"uuid\",\n            \"description\": \"Globally unique id of this role\"\n        },\n        \"name\": {\n            \"type\": \"string\",\n            \"description\": \"Name of the role\"\n        },\n        \"project-id\": {\n            \"type\": \"string\",\n            \"format\": \"uuid\",\n            \"description\": \"Project ID in which the role is created.\"\n        },\n        \"updated-at\": {\n            \"type\": \"string\",\n            \"format\": \"date-time\",\n            \"description\": \"Timestamp when the role was last updated\",\n            \"nullable\": true\n        }\n    }\n}\n</code></pre> <p> Response 4XX </p> application/json <p><pre><code>{\n    \"error\": {\n        \"code\": 48,\n        \"message\": \"string\",\n        \"stack\": [\n            \"string\"\n        ],\n        \"type\": \"string\"\n    }\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"description\": \"JSON wrapper for all error responses (non-2xx)\",\n    \"required\": [\n        \"error\"\n    ],\n    \"properties\": {\n        \"error\": {\n            \"$ref\": \"#/components/schemas/ErrorModel\"\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#get-managementv1roleid", "title": "GET /management/v1/role/{id}", "text": "<p>Get a role</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>id</code> path string No <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"created-at\": \"2022-04-13T15:42:05.901Z\",\n    \"description\": \"string\",\n    \"id\": \"280632db-f6c1-462e-87c9-20b8d026ad2a\",\n    \"name\": \"string\",\n    \"project-id\": \"4cdbeb25-f00d-47f7-bd2e-a2185e0cf3c7\",\n    \"updated-at\": \"2022-04-13T15:42:05.901Z\"\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"id\",\n        \"name\",\n        \"project-id\",\n        \"created-at\"\n    ],\n    \"properties\": {\n        \"created-at\": {\n            \"type\": \"string\",\n            \"format\": \"date-time\",\n            \"description\": \"Timestamp when the role was created\"\n        },\n        \"description\": {\n            \"type\": \"string\",\n            \"description\": \"Description of the role\",\n            \"nullable\": true\n        },\n        \"id\": {\n            \"type\": \"string\",\n            \"format\": \"uuid\",\n            \"description\": \"Globally unique id of this role\"\n        },\n        \"name\": {\n            \"type\": \"string\",\n            \"description\": \"Name of the role\"\n        },\n        \"project-id\": {\n            \"type\": \"string\",\n            \"format\": \"uuid\",\n            \"description\": \"Project ID in which the role is created.\"\n        },\n        \"updated-at\": {\n            \"type\": \"string\",\n            \"format\": \"date-time\",\n            \"description\": \"Timestamp when the role was last updated\",\n            \"nullable\": true\n        }\n    }\n}\n</code></pre> <p> Response 4XX </p> application/json <p><pre><code>{\n    \"error\": {\n        \"code\": 140,\n        \"message\": \"string\",\n        \"stack\": [\n            \"string\"\n        ],\n        \"type\": \"string\"\n    }\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"description\": \"JSON wrapper for all error responses (non-2xx)\",\n    \"required\": [\n        \"error\"\n    ],\n    \"properties\": {\n        \"error\": {\n            \"$ref\": \"#/components/schemas/ErrorModel\"\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#post-managementv1roleid", "title": "POST /management/v1/role/{id}", "text": "<p>Update a role</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>id</code> path string No <p>Request body</p> application/json <p><pre><code>{\n    \"description\": \"string\",\n    \"name\": \"string\"\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the request body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"name\"\n    ],\n    \"properties\": {\n        \"description\": {\n            \"type\": \"string\",\n            \"description\": \"Description of the role. If not set, the description will be removed.\",\n            \"nullable\": true\n        },\n        \"name\": {\n            \"type\": \"string\",\n            \"description\": \"Name of the role to create\"\n        }\n    }\n}\n</code></pre> <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"created-at\": \"2022-04-13T15:42:05.901Z\",\n    \"description\": \"string\",\n    \"id\": \"9faa7080-9e65-4448-b563-e47a6a9353e0\",\n    \"name\": \"string\",\n    \"project-id\": \"06031b47-5585-416d-97c5-1107c8faa603\",\n    \"updated-at\": \"2022-04-13T15:42:05.901Z\"\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"id\",\n        \"name\",\n        \"project-id\",\n        \"created-at\"\n    ],\n    \"properties\": {\n        \"created-at\": {\n            \"type\": \"string\",\n            \"format\": \"date-time\",\n            \"description\": \"Timestamp when the role was created\"\n        },\n        \"description\": {\n            \"type\": \"string\",\n            \"description\": \"Description of the role\",\n            \"nullable\": true\n        },\n        \"id\": {\n            \"type\": \"string\",\n            \"format\": \"uuid\",\n            \"description\": \"Globally unique id of this role\"\n        },\n        \"name\": {\n            \"type\": \"string\",\n            \"description\": \"Name of the role\"\n        },\n        \"project-id\": {\n            \"type\": \"string\",\n            \"format\": \"uuid\",\n            \"description\": \"Project ID in which the role is created.\"\n        },\n        \"updated-at\": {\n            \"type\": \"string\",\n            \"format\": \"date-time\",\n            \"description\": \"Timestamp when the role was last updated\",\n            \"nullable\": true\n        }\n    }\n}\n</code></pre> <p> Response 4XX </p> application/json <p><pre><code>{\n    \"error\": {\n        \"code\": 12,\n        \"message\": \"string\",\n        \"stack\": [\n            \"string\"\n        ],\n        \"type\": \"string\"\n    }\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"description\": \"JSON wrapper for all error responses (non-2xx)\",\n    \"required\": [\n        \"error\"\n    ],\n    \"properties\": {\n        \"error\": {\n            \"$ref\": \"#/components/schemas/ErrorModel\"\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#delete-managementv1roleid", "title": "DELETE /management/v1/role/{id}", "text": "<p>Delete role</p> Description <p>All permissions of the role are permanently removed.</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>id</code> path string No <p> Response 204 No Content </p> <p> Response 4XX </p> application/json <p><pre><code>{\n    \"error\": {\n        \"code\": 169,\n        \"message\": \"string\",\n        \"stack\": [\n            \"string\"\n        ],\n        \"type\": \"string\"\n    }\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"description\": \"JSON wrapper for all error responses (non-2xx)\",\n    \"required\": [\n        \"error\"\n    ],\n    \"properties\": {\n        \"error\": {\n            \"$ref\": \"#/components/schemas/ErrorModel\"\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#post-managementv1searchrole", "title": "POST /management/v1/search/role", "text": "<p>Search for roles (Fuzzy)</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <p>Request body</p> application/json <p><pre><code>{\n    \"project-id\": null,\n    \"search\": \"string\"\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the request body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"search\"\n    ],\n    \"properties\": {\n        \"project-id\": {\n            \"allOf\": [\n                {\n                    \"$ref\": \"#/components/schemas/ProjectIdent\"\n                }\n            ],\n            \"nullable\": true\n        },\n        \"search\": {\n            \"type\": \"string\",\n            \"description\": \"Search string for fuzzy search.\\nLength is truncated to 64 characters.\"\n        }\n    }\n}\n</code></pre> <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"roles\": [\n        {\n            \"created-at\": \"2022-04-13T15:42:05.901Z\",\n            \"description\": \"string\",\n            \"id\": \"f5fa48a8-2942-4df1-8af5-1d83d9a02eef\",\n            \"name\": \"string\",\n            \"project-id\": \"733e2145-c62a-4718-9a12-331d863bf076\",\n            \"updated-at\": \"2022-04-13T15:42:05.901Z\"\n        }\n    ]\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"roles\"\n    ],\n    \"properties\": {\n        \"roles\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/Role\"\n            },\n            \"description\": \"List of users matching the search criteria\"\n        }\n    }\n}\n</code></pre> <p> Response 4XX </p> application/json <p><pre><code>{\n    \"error\": {\n        \"code\": 59,\n        \"message\": \"string\",\n        \"stack\": [\n            \"string\"\n        ],\n        \"type\": \"string\"\n    }\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"description\": \"JSON wrapper for all error responses (non-2xx)\",\n    \"required\": [\n        \"error\"\n    ],\n    \"properties\": {\n        \"error\": {\n            \"$ref\": \"#/components/schemas/ErrorModel\"\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#user", "title": "user", "text": ""}, {"location": "api/#post-managementv1searchuser", "title": "POST /management/v1/search/user", "text": "<p>Search for users (Fuzzy)</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <p>Request body</p> application/json <p><pre><code>{\n    \"search\": \"string\"\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the request body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"search\"\n    ],\n    \"properties\": {\n        \"search\": {\n            \"type\": \"string\",\n            \"description\": \"Search string for fuzzy search.\\nLength is truncated to 64 characters.\"\n        }\n    }\n}\n</code></pre> <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"users\": [\n        {\n            \"email\": \"string\",\n            \"id\": \"string\",\n            \"name\": \"string\",\n            \"user-type\": \"human\"\n        }\n    ]\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"description\": \"Search result for users\",\n    \"required\": [\n        \"users\"\n    ],\n    \"properties\": {\n        \"users\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/SearchUser\"\n            },\n            \"description\": \"List of users matching the search criteria\"\n        }\n    }\n}\n</code></pre> <p> Response 4XX </p> application/json <p><pre><code>{\n    \"error\": {\n        \"code\": 114,\n        \"message\": \"string\",\n        \"stack\": [\n            \"string\"\n        ],\n        \"type\": \"string\"\n    }\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"description\": \"JSON wrapper for all error responses (non-2xx)\",\n    \"required\": [\n        \"error\"\n    ],\n    \"properties\": {\n        \"error\": {\n            \"$ref\": \"#/components/schemas/ErrorModel\"\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#get-managementv1user", "title": "GET /management/v1/user", "text": "<p>List users</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>name</code> query string Yes Search for a specific username <code>pageSize</code> query integer No Signals an upper bound of the number of results that a client will receive. Default: 100 <code>pageToken</code> query string Yes Next page token <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"next_page_token\": \"string\",\n    \"users\": [\n        {\n            \"created-at\": \"2022-04-13T15:42:05.901Z\",\n            \"email\": \"string\",\n            \"id\": \"string\",\n            \"last-updated-with\": \"create-endpoint\",\n            \"name\": \"string\",\n            \"updated-at\": \"2022-04-13T15:42:05.901Z\",\n            \"user-type\": \"human\"\n        }\n    ]\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"users\"\n    ],\n    \"properties\": {\n        \"next_page_token\": {\n            \"type\": \"string\",\n            \"nullable\": true\n        },\n        \"users\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/User\"\n            }\n        }\n    }\n}\n</code></pre> <p> Response 4XX </p> application/json <p><pre><code>{\n    \"error\": {\n        \"code\": 0,\n        \"message\": \"string\",\n        \"stack\": [\n            \"string\"\n        ],\n        \"type\": \"string\"\n    }\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"description\": \"JSON wrapper for all error responses (non-2xx)\",\n    \"required\": [\n        \"error\"\n    ],\n    \"properties\": {\n        \"error\": {\n            \"$ref\": \"#/components/schemas/ErrorModel\"\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#post-managementv1user", "title": "POST /management/v1/user", "text": "<p>Creates the user in the catalog if it does not exist.</p> Description <p>If the user exists, it updates the users' metadata from the token. The token sent to this endpoint should have \"profile\" and \"email\" scopes.</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <p>Request body</p> application/json <p><pre><code>{\n    \"email\": \"string\",\n    \"id\": \"string\",\n    \"name\": \"string\",\n    \"update-if-exists\": true,\n    \"user-type\": null\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the request body <pre><code>{\n    \"type\": \"object\",\n    \"properties\": {\n        \"email\": {\n            \"type\": \"string\",\n            \"description\": \"Email of the user. If id is not specified, the email is extracted\\nfrom the provided token.\",\n            \"nullable\": true\n        },\n        \"id\": {\n            \"type\": \"string\",\n            \"description\": \"Subject id of the user - allows user provisioning.\\nThe id must be identical to the subject in JWT tokens.\\nTo create users in self-service manner, do not set the id.\\nThe id is then extracted from the passed JWT token.\",\n            \"nullable\": true\n        },\n        \"name\": {\n            \"type\": \"string\",\n            \"description\": \"Name of the user. If id is not specified, the name is extracted\\nfrom the provided token.\",\n            \"nullable\": true\n        },\n        \"update-if-exists\": {\n            \"type\": \"boolean\",\n            \"description\": \"Update the user if it already exists\\nDefault: false\"\n        },\n        \"user-type\": {\n            \"allOf\": [\n                {\n                    \"$ref\": \"#/components/schemas/UserType\"\n                }\n            ],\n            \"nullable\": true\n        }\n    }\n}\n</code></pre> <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"created-at\": \"2022-04-13T15:42:05.901Z\",\n    \"email\": \"string\",\n    \"id\": \"string\",\n    \"last-updated-with\": \"create-endpoint\",\n    \"name\": \"string\",\n    \"updated-at\": \"2022-04-13T15:42:05.901Z\",\n    \"user-type\": \"human\"\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"description\": \"User of the catalog\",\n    \"required\": [\n        \"name\",\n        \"id\",\n        \"user-type\",\n        \"last-updated-with\",\n        \"created-at\"\n    ],\n    \"properties\": {\n        \"created-at\": {\n            \"type\": \"string\",\n            \"format\": \"date-time\",\n            \"description\": \"Timestamp when the user was created\"\n        },\n        \"email\": {\n            \"type\": \"string\",\n            \"description\": \"Email of the user\",\n            \"nullable\": true\n        },\n        \"id\": {\n            \"type\": \"string\",\n            \"description\": \"The user's ID\"\n        },\n        \"last-updated-with\": {\n            \"$ref\": \"#/components/schemas/UserLastUpdatedWith\"\n        },\n        \"name\": {\n            \"type\": \"string\",\n            \"description\": \"Name of the user\"\n        },\n        \"updated-at\": {\n            \"type\": \"string\",\n            \"format\": \"date-time\",\n            \"description\": \"Timestamp when the user was last updated\",\n            \"nullable\": true\n        },\n        \"user-type\": {\n            \"$ref\": \"#/components/schemas/UserType\"\n        }\n    }\n}\n</code></pre> <p> Response 201 Created </p> application/json <p><pre><code>{\n    \"created-at\": \"2022-04-13T15:42:05.901Z\",\n    \"email\": \"string\",\n    \"id\": \"string\",\n    \"last-updated-with\": \"create-endpoint\",\n    \"name\": \"string\",\n    \"updated-at\": \"2022-04-13T15:42:05.901Z\",\n    \"user-type\": \"human\"\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"description\": \"User of the catalog\",\n    \"required\": [\n        \"name\",\n        \"id\",\n        \"user-type\",\n        \"last-updated-with\",\n        \"created-at\"\n    ],\n    \"properties\": {\n        \"created-at\": {\n            \"type\": \"string\",\n            \"format\": \"date-time\",\n            \"description\": \"Timestamp when the user was created\"\n        },\n        \"email\": {\n            \"type\": \"string\",\n            \"description\": \"Email of the user\",\n            \"nullable\": true\n        },\n        \"id\": {\n            \"type\": \"string\",\n            \"description\": \"The user's ID\"\n        },\n        \"last-updated-with\": {\n            \"$ref\": \"#/components/schemas/UserLastUpdatedWith\"\n        },\n        \"name\": {\n            \"type\": \"string\",\n            \"description\": \"Name of the user\"\n        },\n        \"updated-at\": {\n            \"type\": \"string\",\n            \"format\": \"date-time\",\n            \"description\": \"Timestamp when the user was last updated\",\n            \"nullable\": true\n        },\n        \"user-type\": {\n            \"$ref\": \"#/components/schemas/UserType\"\n        }\n    }\n}\n</code></pre> <p> Response 4XX </p> application/json <p><pre><code>{\n    \"error\": {\n        \"code\": 28,\n        \"message\": \"string\",\n        \"stack\": [\n            \"string\"\n        ],\n        \"type\": \"string\"\n    }\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"description\": \"JSON wrapper for all error responses (non-2xx)\",\n    \"required\": [\n        \"error\"\n    ],\n    \"properties\": {\n        \"error\": {\n            \"$ref\": \"#/components/schemas/ErrorModel\"\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#get-managementv1userid", "title": "GET /management/v1/user/{id}", "text": "<p>Get a user by ID</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>id</code> path string No <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"created-at\": \"2022-04-13T15:42:05.901Z\",\n    \"email\": \"string\",\n    \"id\": \"string\",\n    \"last-updated-with\": \"create-endpoint\",\n    \"name\": \"string\",\n    \"updated-at\": \"2022-04-13T15:42:05.901Z\",\n    \"user-type\": \"human\"\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"description\": \"User of the catalog\",\n    \"required\": [\n        \"name\",\n        \"id\",\n        \"user-type\",\n        \"last-updated-with\",\n        \"created-at\"\n    ],\n    \"properties\": {\n        \"created-at\": {\n            \"type\": \"string\",\n            \"format\": \"date-time\",\n            \"description\": \"Timestamp when the user was created\"\n        },\n        \"email\": {\n            \"type\": \"string\",\n            \"description\": \"Email of the user\",\n            \"nullable\": true\n        },\n        \"id\": {\n            \"type\": \"string\",\n            \"description\": \"The user's ID\"\n        },\n        \"last-updated-with\": {\n            \"$ref\": \"#/components/schemas/UserLastUpdatedWith\"\n        },\n        \"name\": {\n            \"type\": \"string\",\n            \"description\": \"Name of the user\"\n        },\n        \"updated-at\": {\n            \"type\": \"string\",\n            \"format\": \"date-time\",\n            \"description\": \"Timestamp when the user was last updated\",\n            \"nullable\": true\n        },\n        \"user-type\": {\n            \"$ref\": \"#/components/schemas/UserType\"\n        }\n    }\n}\n</code></pre> <p> Response 4XX </p> application/json <p><pre><code>{\n    \"error\": {\n        \"code\": 107,\n        \"message\": \"string\",\n        \"stack\": [\n            \"string\"\n        ],\n        \"type\": \"string\"\n    }\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"description\": \"JSON wrapper for all error responses (non-2xx)\",\n    \"required\": [\n        \"error\"\n    ],\n    \"properties\": {\n        \"error\": {\n            \"$ref\": \"#/components/schemas/ErrorModel\"\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#put-managementv1userid", "title": "PUT /management/v1/user/{id}", "text": "<p>Update details of a user. Replaces the current details with the new details.</p> Description <p>If a field is not provided, it is set to <code>None</code>.</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>id</code> path string No <p>Request body</p> application/json <p><pre><code>{\n    \"email\": \"string\",\n    \"name\": \"string\",\n    \"user_type\": \"human\"\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the request body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"name\",\n        \"user_type\"\n    ],\n    \"properties\": {\n        \"email\": {\n            \"type\": \"string\",\n            \"nullable\": true\n        },\n        \"name\": {\n            \"type\": \"string\"\n        },\n        \"user_type\": {\n            \"$ref\": \"#/components/schemas/UserType\"\n        }\n    }\n}\n</code></pre> <p> Response 200 OK </p> <p> Response 4XX </p> application/json <p><pre><code>{\n    \"error\": {\n        \"code\": 126,\n        \"message\": \"string\",\n        \"stack\": [\n            \"string\"\n        ],\n        \"type\": \"string\"\n    }\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"description\": \"JSON wrapper for all error responses (non-2xx)\",\n    \"required\": [\n        \"error\"\n    ],\n    \"properties\": {\n        \"error\": {\n            \"$ref\": \"#/components/schemas/ErrorModel\"\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#delete-managementv1userid", "title": "DELETE /management/v1/user/{id}", "text": "<p>Delete user</p> Description <p>All permissions of the user are permanently removed and need to be re-added if the user is re-registered.</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>id</code> path string No <p> Response 204 No Content </p> <p> Response 4XX </p> application/json <p><pre><code>{\n    \"error\": {\n        \"code\": 137,\n        \"message\": \"string\",\n        \"stack\": [\n            \"string\"\n        ],\n        \"type\": \"string\"\n    }\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"description\": \"JSON wrapper for all error responses (non-2xx)\",\n    \"required\": [\n        \"error\"\n    ],\n    \"properties\": {\n        \"error\": {\n            \"$ref\": \"#/components/schemas/ErrorModel\"\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#get-managementv1whoami", "title": "GET /management/v1/whoami", "text": "<p>Get the currently authenticated user</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"created-at\": \"2022-04-13T15:42:05.901Z\",\n    \"email\": \"string\",\n    \"id\": \"string\",\n    \"last-updated-with\": \"create-endpoint\",\n    \"name\": \"string\",\n    \"updated-at\": \"2022-04-13T15:42:05.901Z\",\n    \"user-type\": \"human\"\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"description\": \"User of the catalog\",\n    \"required\": [\n        \"name\",\n        \"id\",\n        \"user-type\",\n        \"last-updated-with\",\n        \"created-at\"\n    ],\n    \"properties\": {\n        \"created-at\": {\n            \"type\": \"string\",\n            \"format\": \"date-time\",\n            \"description\": \"Timestamp when the user was created\"\n        },\n        \"email\": {\n            \"type\": \"string\",\n            \"description\": \"Email of the user\",\n            \"nullable\": true\n        },\n        \"id\": {\n            \"type\": \"string\",\n            \"description\": \"The user's ID\"\n        },\n        \"last-updated-with\": {\n            \"$ref\": \"#/components/schemas/UserLastUpdatedWith\"\n        },\n        \"name\": {\n            \"type\": \"string\",\n            \"description\": \"Name of the user\"\n        },\n        \"updated-at\": {\n            \"type\": \"string\",\n            \"format\": \"date-time\",\n            \"description\": \"Timestamp when the user was last updated\",\n            \"nullable\": true\n        },\n        \"user-type\": {\n            \"$ref\": \"#/components/schemas/UserType\"\n        }\n    }\n}\n</code></pre> <p> Response 4XX </p> application/json <p><pre><code>{\n    \"error\": {\n        \"code\": 93,\n        \"message\": \"string\",\n        \"stack\": [\n            \"string\"\n        ],\n        \"type\": \"string\"\n    }\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"description\": \"JSON wrapper for all error responses (non-2xx)\",\n    \"required\": [\n        \"error\"\n    ],\n    \"properties\": {\n        \"error\": {\n            \"$ref\": \"#/components/schemas/ErrorModel\"\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#warehouse", "title": "warehouse", "text": ""}, {"location": "api/#get-managementv1warehouse", "title": "GET /management/v1/warehouse", "text": "<p>List all warehouses in a project</p> Description <p>By default, this endpoint does not return deactivated warehouses. To include deactivated warehouses, set the <code>include_deactivated</code> query parameter to <code>true</code>.</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>projectId</code> query string Yes The project ID to list warehouses for. Setting a warehouse is required. <code>warehouseStatus</code> query array Yes Optional filter to return only warehouses with the specified status. If not provided, only active warehouses are returned. <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"warehouses\": [\n        {\n            \"delete-profile\": null,\n            \"id\": \"4d127824-8601-4c42-9835-3aee718780ca\",\n            \"name\": \"string\",\n            \"project-id\": \"430afd5b-e45f-46d3-8e4c-c64e4fd018d5\",\n            \"status\": \"active\",\n            \"storage-profile\": null\n        }\n    ]\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"warehouses\"\n    ],\n    \"properties\": {\n        \"warehouses\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/GetWarehouseResponse\"\n            },\n            \"description\": \"List of warehouses in the project.\"\n        }\n    }\n}\n</code></pre> <p> Response 4XX </p> application/json <p><pre><code>{\n    \"error\": {\n        \"code\": 49,\n        \"message\": \"string\",\n        \"stack\": [\n            \"string\"\n        ],\n        \"type\": \"string\"\n    }\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"description\": \"JSON wrapper for all error responses (non-2xx)\",\n    \"required\": [\n        \"error\"\n    ],\n    \"properties\": {\n        \"error\": {\n            \"$ref\": \"#/components/schemas/ErrorModel\"\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#post-managementv1warehouse", "title": "POST /management/v1/warehouse", "text": "<p>Create a new warehouse.</p> Description <p>Create a new warehouse in the given project. The project of a warehouse cannot be changed after creation. The storage configuration is validated by this method.</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <p>Request body</p> application/json <p><pre><code>{\n    \"delete-profile\": null,\n    \"project-id\": \"b753187f-653c-4f83-9e49-8cae3769c298\",\n    \"storage-credential\": null,\n    \"storage-profile\": null,\n    \"warehouse-name\": \"string\"\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the request body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"warehouse-name\",\n        \"storage-profile\"\n    ],\n    \"properties\": {\n        \"delete-profile\": {\n            \"$ref\": \"#/components/schemas/TabularDeleteProfile\"\n        },\n        \"project-id\": {\n            \"type\": \"string\",\n            \"format\": \"uuid\",\n            \"description\": \"Project ID in which to create the warehouse.\\nIf no default project is set for this server, this field is required.\",\n            \"nullable\": true\n        },\n        \"storage-credential\": {\n            \"allOf\": [\n                {\n                    \"$ref\": \"#/components/schemas/StorageCredential\"\n                }\n            ],\n            \"nullable\": true\n        },\n        \"storage-profile\": {\n            \"$ref\": \"#/components/schemas/StorageProfile\"\n        },\n        \"warehouse-name\": {\n            \"type\": \"string\",\n            \"description\": \"Name of the warehouse to create. Must be unique\\nwithin a project and may not contain \\\"/\\\"\"\n        }\n    }\n}\n</code></pre> <p> Response 201 Created </p> application/json <p><pre><code>{\n    \"warehouse-id\": \"a0f122bc-ccbb-402b-b46b-47e149e833de\"\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"warehouse-id\"\n    ],\n    \"properties\": {\n        \"warehouse-id\": {\n            \"type\": \"string\",\n            \"format\": \"uuid\",\n            \"description\": \"ID of the created warehouse.\"\n        }\n    }\n}\n</code></pre> <p> Response 4XX </p> application/json <p><pre><code>{\n    \"error\": {\n        \"code\": 44,\n        \"message\": \"string\",\n        \"stack\": [\n            \"string\"\n        ],\n        \"type\": \"string\"\n    }\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"description\": \"JSON wrapper for all error responses (non-2xx)\",\n    \"required\": [\n        \"error\"\n    ],\n    \"properties\": {\n        \"error\": {\n            \"$ref\": \"#/components/schemas/ErrorModel\"\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#get-managementv1warehousewarehouse_id", "title": "GET /management/v1/warehouse/{warehouse_id}", "text": "<p>Get a warehouse by ID</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>warehouse_id</code> path string No <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"delete-profile\": null,\n    \"id\": \"46bc982b-c989-4a07-81b1-60ac5a1d0a3c\",\n    \"name\": \"string\",\n    \"project-id\": \"e01b15e3-ec49-41ce-b035-389f510e8f04\",\n    \"status\": \"active\",\n    \"storage-profile\": null\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"id\",\n        \"name\",\n        \"project-id\",\n        \"storage-profile\",\n        \"delete-profile\",\n        \"status\"\n    ],\n    \"properties\": {\n        \"delete-profile\": {\n            \"$ref\": \"#/components/schemas/TabularDeleteProfile\"\n        },\n        \"id\": {\n            \"type\": \"string\",\n            \"format\": \"uuid\",\n            \"description\": \"ID of the warehouse.\"\n        },\n        \"name\": {\n            \"type\": \"string\",\n            \"description\": \"Name of the warehouse.\"\n        },\n        \"project-id\": {\n            \"type\": \"string\",\n            \"format\": \"uuid\",\n            \"description\": \"Project ID in which the warehouse is created.\"\n        },\n        \"status\": {\n            \"$ref\": \"#/components/schemas/WarehouseStatus\"\n        },\n        \"storage-profile\": {\n            \"$ref\": \"#/components/schemas/StorageProfile\"\n        }\n    }\n}\n</code></pre> <p> Response 4XX </p> application/json <p><pre><code>{\n    \"error\": {\n        \"code\": 48,\n        \"message\": \"string\",\n        \"stack\": [\n            \"string\"\n        ],\n        \"type\": \"string\"\n    }\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"description\": \"JSON wrapper for all error responses (non-2xx)\",\n    \"required\": [\n        \"error\"\n    ],\n    \"properties\": {\n        \"error\": {\n            \"$ref\": \"#/components/schemas/ErrorModel\"\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#delete-managementv1warehousewarehouse_id", "title": "DELETE /management/v1/warehouse/{warehouse_id}", "text": "<p>Delete a warehouse by ID</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>warehouse_id</code> path string No <p> Response 204 No Content </p> <p> Response 4XX </p> application/json <p><pre><code>{\n    \"error\": {\n        \"code\": 235,\n        \"message\": \"string\",\n        \"stack\": [\n            \"string\"\n        ],\n        \"type\": \"string\"\n    }\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"description\": \"JSON wrapper for all error responses (non-2xx)\",\n    \"required\": [\n        \"error\"\n    ],\n    \"properties\": {\n        \"error\": {\n            \"$ref\": \"#/components/schemas/ErrorModel\"\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#post-managementv1warehousewarehouse_idactivate", "title": "POST /management/v1/warehouse/{warehouse_id}/activate", "text": "<p>Activate a warehouse</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>warehouse_id</code> path string No <p> Response 200 OK </p> <p> Response 4XX </p> application/json <p><pre><code>{\n    \"error\": {\n        \"code\": 88,\n        \"message\": \"string\",\n        \"stack\": [\n            \"string\"\n        ],\n        \"type\": \"string\"\n    }\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"description\": \"JSON wrapper for all error responses (non-2xx)\",\n    \"required\": [\n        \"error\"\n    ],\n    \"properties\": {\n        \"error\": {\n            \"$ref\": \"#/components/schemas/ErrorModel\"\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#post-managementv1warehousewarehouse_iddeactivate", "title": "POST /management/v1/warehouse/{warehouse_id}/deactivate", "text": "<p>Deactivate a warehouse</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>warehouse_id</code> path string No <p> Response 200 OK </p> <p> Response 4XX </p> application/json <p><pre><code>{\n    \"error\": {\n        \"code\": 278,\n        \"message\": \"string\",\n        \"stack\": [\n            \"string\"\n        ],\n        \"type\": \"string\"\n    }\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"description\": \"JSON wrapper for all error responses (non-2xx)\",\n    \"required\": [\n        \"error\"\n    ],\n    \"properties\": {\n        \"error\": {\n            \"$ref\": \"#/components/schemas/ErrorModel\"\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#post-managementv1warehousewarehouse_iddelete-profile", "title": "POST /management/v1/warehouse/{warehouse_id}/delete-profile", "text": "<p>Update the Deletion Profile (soft-delete) of a warehouse.</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>warehouse_id</code> path string No <p>Request body</p> application/json <p><pre><code>{\n    \"delete-profile\": null\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the request body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"delete-profile\"\n    ],\n    \"properties\": {\n        \"delete-profile\": {\n            \"$ref\": \"#/components/schemas/TabularDeleteProfile\"\n        }\n    }\n}\n</code></pre> <p> Response 200 OK </p> <p> Response 4XX </p> application/json <p><pre><code>{\n    \"error\": {\n        \"code\": 31,\n        \"message\": \"string\",\n        \"stack\": [\n            \"string\"\n        ],\n        \"type\": \"string\"\n    }\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"description\": \"JSON wrapper for all error responses (non-2xx)\",\n    \"required\": [\n        \"error\"\n    ],\n    \"properties\": {\n        \"error\": {\n            \"$ref\": \"#/components/schemas/ErrorModel\"\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#get-managementv1warehousewarehouse_iddeleted-tabulars", "title": "GET /management/v1/warehouse/{warehouse_id}/deleted-tabulars", "text": "<p>List soft-deleted tabulars</p> Description <p>List all soft-deleted tabulars in the warehouse that are visible to you.</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>namespaceId</code> query string No Filter by Namespace ID <code>pageSize</code> query integer No Signals an upper bound of the number of results that a client will receive. Default: 100 <code>pageToken</code> query string Yes Next page token <code>warehouse_id</code> path string No <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"next_page_token\": \"string\",\n    \"tabulars\": [\n        {\n            \"created_at\": \"2022-04-13T15:42:05.901Z\",\n            \"deleted_at\": \"2022-04-13T15:42:05.901Z\",\n            \"expiration_date\": \"2022-04-13T15:42:05.901Z\",\n            \"id\": \"74bbd467-3bdc-4ecb-a803-d1a04381afff\",\n            \"name\": \"string\",\n            \"namespace\": [\n                \"string\"\n            ],\n            \"typ\": \"table\",\n            \"warehouse_id\": \"2662dbb8-ad6b-41e4-9e06-429eb6cb74d4\"\n        }\n    ]\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"tabulars\"\n    ],\n    \"properties\": {\n        \"next_page_token\": {\n            \"type\": \"string\",\n            \"description\": \"Token to fetch the next page\",\n            \"nullable\": true\n        },\n        \"tabulars\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/DeletedTabularResponse\"\n            },\n            \"description\": \"List of tabulars\"\n        }\n    }\n}\n</code></pre> <p> Response 4XX </p> application/json <p><pre><code>{\n    \"error\": {\n        \"code\": 35,\n        \"message\": \"string\",\n        \"stack\": [\n            \"string\"\n        ],\n        \"type\": \"string\"\n    }\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"description\": \"JSON wrapper for all error responses (non-2xx)\",\n    \"required\": [\n        \"error\"\n    ],\n    \"properties\": {\n        \"error\": {\n            \"$ref\": \"#/components/schemas/ErrorModel\"\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#post-managementv1warehousewarehouse_iddeleted_tabularsundrop", "title": "POST /management/v1/warehouse/{warehouse_id}/deleted_tabulars/undrop", "text": "<p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>warehouse_id</code> path string No <p>Request body</p> application/json <p><pre><code>{\n    \"targets\": [\n        null\n    ]\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the request body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"targets\"\n    ],\n    \"properties\": {\n        \"targets\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/components/schemas/TabularIdentUuid\"\n            },\n            \"description\": \"Tabulars to undrop\"\n        }\n    }\n}\n</code></pre> <p> Response 204 No Content </p> <p> Response 4XX </p> application/json <p><pre><code>{\n    \"error\": {\n        \"code\": 186,\n        \"message\": \"string\",\n        \"stack\": [\n            \"string\"\n        ],\n        \"type\": \"string\"\n    }\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"description\": \"JSON wrapper for all error responses (non-2xx)\",\n    \"required\": [\n        \"error\"\n    ],\n    \"properties\": {\n        \"error\": {\n            \"$ref\": \"#/components/schemas/ErrorModel\"\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#post-managementv1warehousewarehouse_idrename", "title": "POST /management/v1/warehouse/{warehouse_id}/rename", "text": "<p>Rename a warehouse</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>warehouse_id</code> path string No <p>Request body</p> application/json <p><pre><code>{\n    \"new-name\": \"string\"\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the request body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"new-name\"\n    ],\n    \"properties\": {\n        \"new-name\": {\n            \"type\": \"string\",\n            \"description\": \"New name for the warehouse.\"\n        }\n    }\n}\n</code></pre> <p> Response 200 OK </p> <p> Response 4XX </p> application/json <p><pre><code>{\n    \"error\": {\n        \"code\": 52,\n        \"message\": \"string\",\n        \"stack\": [\n            \"string\"\n        ],\n        \"type\": \"string\"\n    }\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"description\": \"JSON wrapper for all error responses (non-2xx)\",\n    \"required\": [\n        \"error\"\n    ],\n    \"properties\": {\n        \"error\": {\n            \"$ref\": \"#/components/schemas/ErrorModel\"\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#post-managementv1warehousewarehouse_idstorage", "title": "POST /management/v1/warehouse/{warehouse_id}/storage", "text": "<p>Update the storage profile of a warehouse including its storage credential.</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>warehouse_id</code> path string No <p>Request body</p> application/json <p><pre><code>{\n    \"storage-credential\": null,\n    \"storage-profile\": null\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the request body <pre><code>{\n    \"type\": \"object\",\n    \"required\": [\n        \"storage-profile\"\n    ],\n    \"properties\": {\n        \"storage-credential\": {\n            \"allOf\": [\n                {\n                    \"$ref\": \"#/components/schemas/StorageCredential\"\n                }\n            ],\n            \"nullable\": true\n        },\n        \"storage-profile\": {\n            \"$ref\": \"#/components/schemas/StorageProfile\"\n        }\n    }\n}\n</code></pre> <p> Response 200 OK </p> <p> Response 4XX </p> application/json <p><pre><code>{\n    \"error\": {\n        \"code\": 144,\n        \"message\": \"string\",\n        \"stack\": [\n            \"string\"\n        ],\n        \"type\": \"string\"\n    }\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"description\": \"JSON wrapper for all error responses (non-2xx)\",\n    \"required\": [\n        \"error\"\n    ],\n    \"properties\": {\n        \"error\": {\n            \"$ref\": \"#/components/schemas/ErrorModel\"\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#post-managementv1warehousewarehouse_idstorage-credential", "title": "POST /management/v1/warehouse/{warehouse_id}/storage-credential", "text": "<p>Update the storage credential of a warehouse. The storage profile is not modified.</p> Description <p>This can be used to update credentials before expiration.</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>bearerAuth</code> header string N/A No JWT Bearer token <code>warehouse_id</code> path string No <p>Request body</p> application/json <p><pre><code>{\n    \"new-storage-credential\": null\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the request body <pre><code>{\n    \"type\": \"object\",\n    \"properties\": {\n        \"new-storage-credential\": {\n            \"allOf\": [\n                {\n                    \"$ref\": \"#/components/schemas/StorageCredential\"\n                }\n            ],\n            \"nullable\": true\n        }\n    }\n}\n</code></pre> <p> Response 200 OK </p> <p> Response 4XX </p> application/json <p><pre><code>{\n    \"error\": {\n        \"code\": 129,\n        \"message\": \"string\",\n        \"stack\": [\n            \"string\"\n        ],\n        \"type\": \"string\"\n    }\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"description\": \"JSON wrapper for all error responses (non-2xx)\",\n    \"required\": [\n        \"error\"\n    ],\n    \"properties\": {\n        \"error\": {\n            \"$ref\": \"#/components/schemas/ErrorModel\"\n        }\n    }\n}\n</code></pre>"}, {"location": "api/#schemas", "title": "Schemas", "text": ""}, {"location": "api/#adlsprofile", "title": "AdlsProfile", "text": "Name Type <code>account-name</code> string <code>authority-host</code> string(uri)| null <code>filesystem</code> string <code>host</code> string| null <code>key-prefix</code> string| null <code>sas-token-validity-seconds</code> integer(int64)| null"}, {"location": "api/#authzbackend", "title": "AuthZBackend", "text": "<p>Type: string</p>"}, {"location": "api/#azcredential", "title": "AzCredential", "text": "<p>Type: </p>"}, {"location": "api/#bootstraprequest", "title": "BootstrapRequest", "text": "Name Type <code>accept-terms-of-use</code> boolean <code>is-operator</code> boolean <code>user-email</code> string| null <code>user-name</code> string| null <code>user-type</code>"}, {"location": "api/#createprojectrequest", "title": "CreateProjectRequest", "text": "Name Type <code>project-id</code> string(uuid)| null <code>project-name</code> string"}, {"location": "api/#createprojectresponse", "title": "CreateProjectResponse", "text": "Name Type <code>project-id</code> string(uuid)"}, {"location": "api/#createrolerequest", "title": "CreateRoleRequest", "text": "Name Type <code>description</code> string| null <code>name</code> string <code>project-id</code> string(uuid)"}, {"location": "api/#createuserrequest", "title": "CreateUserRequest", "text": "Name Type <code>email</code> string| null <code>id</code> string| null <code>name</code> string| null <code>update-if-exists</code> boolean <code>user-type</code>"}, {"location": "api/#createwarehouserequest", "title": "CreateWarehouseRequest", "text": "Name Type <code>delete-profile</code> TabularDeleteProfile <code>project-id</code> string(uuid)| null <code>storage-credential</code> <code>storage-profile</code> StorageProfile <code>warehouse-name</code> string"}, {"location": "api/#createwarehouseresponse", "title": "CreateWarehouseResponse", "text": "Name Type <code>warehouse-id</code> string(uuid)"}, {"location": "api/#deletedtabularresponse", "title": "DeletedTabularResponse", "text": "Name Type <code>created_at</code> string(date-time) <code>deleted_at</code> string(date-time) <code>expiration_date</code> string(date-time) <code>id</code> string(uuid) <code>name</code> string <code>namespace</code> Array&lt;string&gt; <code>typ</code> TabularType <code>warehouse_id</code> string(uuid)"}, {"location": "api/#deletekind", "title": "DeleteKind", "text": "<p>Type: string</p>"}, {"location": "api/#errormodel", "title": "ErrorModel", "text": "Name Type <code>code</code> integer(int32) <code>message</code> string <code>stack</code> Array&lt;string&gt; <code>type</code> string"}, {"location": "api/#gcscredential", "title": "GcsCredential", "text": "<p>Type: </p>"}, {"location": "api/#gcsprofile", "title": "GcsProfile", "text": "Name Type <code>bucket</code> string <code>key-prefix</code> string| null"}, {"location": "api/#gcsservicekey", "title": "GcsServiceKey", "text": "Name Type <code>auth_provider_x509_cert_url</code> string <code>auth_uri</code> string <code>client_email</code> string <code>client_id</code> string <code>client_x509_cert_url</code> string <code>private_key</code> string <code>private_key_id</code> string <code>project_id</code> string <code>token_uri</code> string <code>type</code> string <code>universe_domain</code> string"}, {"location": "api/#getnamespaceaccessresponse", "title": "GetNamespaceAccessResponse", "text": "Name Type <code>allowed-actions</code> Array&lt;NamespaceAction&gt;"}, {"location": "api/#getnamespaceassignmentsresponse", "title": "GetNamespaceAssignmentsResponse", "text": "Name Type <code>assignments</code> Array&lt;NamespaceAssignment&gt;"}, {"location": "api/#getnamespaceauthpropertiesresponse", "title": "GetNamespaceAuthPropertiesResponse", "text": "Name Type <code>managed-access</code> boolean <code>managed-access-inherited</code> boolean"}, {"location": "api/#getprojectaccessresponse", "title": "GetProjectAccessResponse", "text": "Name Type <code>allowed-actions</code> Array&lt;ProjectAction&gt;"}, {"location": "api/#getprojectassignmentsresponse", "title": "GetProjectAssignmentsResponse", "text": "Name Type <code>assignments</code> Array&lt;ProjectAssignment&gt; <code>project-id</code> string(uuid)"}, {"location": "api/#getprojectresponse", "title": "GetProjectResponse", "text": "Name Type <code>project-id</code> string(uuid) <code>project-name</code> string"}, {"location": "api/#getroleaccessresponse", "title": "GetRoleAccessResponse", "text": "Name Type <code>allowed-actions</code> Array&lt;RoleAction&gt;"}, {"location": "api/#getroleassignmentsresponse", "title": "GetRoleAssignmentsResponse", "text": "Name Type <code>assignments</code> Array&lt;RoleAssignment&gt;"}, {"location": "api/#getserveraccessresponse", "title": "GetServerAccessResponse", "text": "Name Type <code>allowed-actions</code> Array&lt;ServerAction&gt;"}, {"location": "api/#getserverassignmentsresponse", "title": "GetServerAssignmentsResponse", "text": "Name Type <code>assignments</code> Array&lt;ServerAssignment&gt;"}, {"location": "api/#gettableaccessresponse", "title": "GetTableAccessResponse", "text": "Name Type <code>allowed-actions</code> Array&lt;TableAction&gt;"}, {"location": "api/#gettableassignmentsresponse", "title": "GetTableAssignmentsResponse", "text": "Name Type <code>assignments</code> Array&lt;TableAssignment&gt;"}, {"location": "api/#getviewaccessresponse", "title": "GetViewAccessResponse", "text": "Name Type <code>allowed-actions</code> Array&lt;ViewAction&gt;"}, {"location": "api/#getviewassignmentsresponse", "title": "GetViewAssignmentsResponse", "text": "Name Type <code>assignments</code> Array&lt;ViewAssignment&gt;"}, {"location": "api/#getwarehouseaccessresponse", "title": "GetWarehouseAccessResponse", "text": "Name Type <code>allowed-actions</code> Array&lt;WarehouseAction&gt;"}, {"location": "api/#getwarehouseassignmentsresponse", "title": "GetWarehouseAssignmentsResponse", "text": "Name Type <code>assignments</code> Array&lt;WarehouseAssignment&gt;"}, {"location": "api/#getwarehouseauthpropertiesresponse", "title": "GetWarehouseAuthPropertiesResponse", "text": "Name Type <code>managed-access</code> boolean"}, {"location": "api/#getwarehouseresponse", "title": "GetWarehouseResponse", "text": "Name Type <code>delete-profile</code> TabularDeleteProfile <code>id</code> string(uuid) <code>name</code> string <code>project-id</code> string(uuid) <code>status</code> WarehouseStatus <code>storage-profile</code> StorageProfile"}, {"location": "api/#icebergerrorresponse", "title": "IcebergErrorResponse", "text": "Name Type <code>error</code> ErrorModel"}, {"location": "api/#listdeletedtabularsresponse", "title": "ListDeletedTabularsResponse", "text": "Name Type <code>next_page_token</code> string| null <code>tabulars</code> Array&lt;DeletedTabularResponse&gt;"}, {"location": "api/#listprojectsresponse", "title": "ListProjectsResponse", "text": "Name Type <code>projects</code> Array&lt;GetProjectResponse&gt;"}, {"location": "api/#listrolesresponse", "title": "ListRolesResponse", "text": "Name Type <code>next_page_token</code> string| null <code>roles</code> Array&lt;Role&gt;"}, {"location": "api/#listusersresponse", "title": "ListUsersResponse", "text": "Name Type <code>next_page_token</code> string| null <code>users</code> Array&lt;User&gt;"}, {"location": "api/#listwarehousesrequest", "title": "ListWarehousesRequest", "text": "Name Type <code>projectId</code> <code>warehouseStatus</code> Array&lt;WarehouseStatus&gt;"}, {"location": "api/#listwarehousesresponse", "title": "ListWarehousesResponse", "text": "Name Type <code>warehouses</code> Array&lt;GetWarehouseResponse&gt;"}, {"location": "api/#namespaceaction", "title": "NamespaceAction", "text": "<p>Type: string</p>"}, {"location": "api/#namespaceassignment", "title": "NamespaceAssignment", "text": "<p>Type: </p>"}, {"location": "api/#namespacerelation", "title": "NamespaceRelation", "text": "<p>Type: string</p>"}, {"location": "api/#projectaction", "title": "ProjectAction", "text": "<p>Type: string</p>"}, {"location": "api/#projectassignment", "title": "ProjectAssignment", "text": "<p>Type: </p>"}, {"location": "api/#projectident", "title": "ProjectIdent", "text": "<p>Type: string(uuid)</p>"}, {"location": "api/#projectrelation", "title": "ProjectRelation", "text": "<p>Type: string</p>"}, {"location": "api/#renameprojectrequest", "title": "RenameProjectRequest", "text": "Name Type <code>new-name</code> string <code>project-id</code> string(uuid)| null"}, {"location": "api/#renamewarehouserequest", "title": "RenameWarehouseRequest", "text": "Name Type <code>new-name</code> string"}, {"location": "api/#role_1", "title": "Role", "text": "Name Type <code>created-at</code> string(date-time) <code>description</code> string| null <code>id</code> string(uuid) <code>name</code> string <code>project-id</code> string(uuid) <code>updated-at</code> string(date-time)| null"}, {"location": "api/#roleaction", "title": "RoleAction", "text": "<p>Type: string</p>"}, {"location": "api/#roleassignment", "title": "RoleAssignment", "text": "<p>Type: </p>"}, {"location": "api/#rolerelation", "title": "RoleRelation", "text": "<p>Type: string</p>"}, {"location": "api/#s3credential", "title": "S3Credential", "text": "<p>Type: </p>"}, {"location": "api/#s3flavor", "title": "S3Flavor", "text": "<p>Type: string</p>"}, {"location": "api/#s3profile", "title": "S3Profile", "text": "Name Type <code>assume-role-arn</code> string| null <code>bucket</code> string <code>endpoint</code> string(uri)| null <code>flavor</code> S3Flavor <code>key-prefix</code> string| null <code>path-style-access</code> boolean| null <code>region</code> string <code>sts-enabled</code> boolean <code>sts-role-arn</code> string| null"}, {"location": "api/#searchrolerequest", "title": "SearchRoleRequest", "text": "Name Type <code>project-id</code> <code>search</code> string"}, {"location": "api/#searchroleresponse", "title": "SearchRoleResponse", "text": "Name Type <code>roles</code> Array&lt;Role&gt;"}, {"location": "api/#searchuser", "title": "SearchUser", "text": "Name Type <code>email</code> string| null <code>id</code> string <code>name</code> string <code>user-type</code> UserType"}, {"location": "api/#searchuserrequest", "title": "SearchUserRequest", "text": "Name Type <code>search</code> string"}, {"location": "api/#searchuserresponse", "title": "SearchUserResponse", "text": "Name Type <code>users</code> Array&lt;SearchUser&gt;"}, {"location": "api/#serveraction", "title": "ServerAction", "text": "<p>Type: string</p>"}, {"location": "api/#serverassignment", "title": "ServerAssignment", "text": "<p>Type: </p>"}, {"location": "api/#serverinfo", "title": "ServerInfo", "text": "Name Type <code>authz-backend</code> AuthZBackend <code>bootstrapped</code> boolean <code>default-project-id</code> string(uuid) <code>server-id</code> string(uuid) <code>version</code> string"}, {"location": "api/#serverrelation", "title": "ServerRelation", "text": "<p>Type: string</p>"}, {"location": "api/#setmanagedaccessrequest", "title": "SetManagedAccessRequest", "text": "Name Type <code>managed-access</code> boolean"}, {"location": "api/#storagecredential", "title": "StorageCredential", "text": "<p>Type: </p>"}, {"location": "api/#storageprofile", "title": "StorageProfile", "text": "<p>Type: </p>"}, {"location": "api/#tableaction", "title": "TableAction", "text": "<p>Type: string</p>"}, {"location": "api/#tableassignment", "title": "TableAssignment", "text": "<p>Type: </p>"}, {"location": "api/#tablerelation", "title": "TableRelation", "text": "<p>Type: string</p>"}, {"location": "api/#tabulardeleteprofile", "title": "TabularDeleteProfile", "text": "<p>Type: </p>"}, {"location": "api/#tabularidentuuid", "title": "TabularIdentUuid", "text": "<p>Type: </p>"}, {"location": "api/#tabulartype", "title": "TabularType", "text": "<p>Type: string</p>"}, {"location": "api/#undroptabularsrequest", "title": "UndropTabularsRequest", "text": "Name Type <code>targets</code> Array&lt;TabularIdentUuid&gt;"}, {"location": "api/#updatenamespaceassignmentsrequest", "title": "UpdateNamespaceAssignmentsRequest", "text": "Name Type <code>deletes</code> Array&lt;NamespaceAssignment&gt; <code>writes</code> Array&lt;NamespaceAssignment&gt;"}, {"location": "api/#updateprojectassignmentsrequest", "title": "UpdateProjectAssignmentsRequest", "text": "Name Type <code>deletes</code> Array&lt;ProjectAssignment&gt; <code>writes</code> Array&lt;ProjectAssignment&gt;"}, {"location": "api/#updateroleassignmentsrequest", "title": "UpdateRoleAssignmentsRequest", "text": "Name Type <code>deletes</code> Array&lt;RoleAssignment&gt; <code>writes</code> Array&lt;RoleAssignment&gt;"}, {"location": "api/#updaterolerequest", "title": "UpdateRoleRequest", "text": "Name Type <code>description</code> string| null <code>name</code> string"}, {"location": "api/#updateserverassignmentsrequest", "title": "UpdateServerAssignmentsRequest", "text": "Name Type <code>deletes</code> Array&lt;ServerAssignment&gt; <code>writes</code> Array&lt;ServerAssignment&gt;"}, {"location": "api/#updatetableassignmentsrequest", "title": "UpdateTableAssignmentsRequest", "text": "Name Type <code>deletes</code> Array&lt;TableAssignment&gt; <code>writes</code> Array&lt;TableAssignment&gt;"}, {"location": "api/#updateuserrequest", "title": "UpdateUserRequest", "text": "Name Type <code>email</code> string| null <code>name</code> string <code>user_type</code> UserType"}, {"location": "api/#updateviewassignmentsrequest", "title": "UpdateViewAssignmentsRequest", "text": "Name Type <code>deletes</code> Array&lt;ViewAssignment&gt; <code>writes</code> Array&lt;ViewAssignment&gt;"}, {"location": "api/#updatewarehouseassignmentsrequest", "title": "UpdateWarehouseAssignmentsRequest", "text": "Name Type <code>deletes</code> Array&lt;WarehouseAssignment&gt; <code>writes</code> Array&lt;WarehouseAssignment&gt;"}, {"location": "api/#updatewarehousecredentialrequest", "title": "UpdateWarehouseCredentialRequest", "text": "Name Type <code>new-storage-credential</code>"}, {"location": "api/#updatewarehousedeleteprofilerequest", "title": "UpdateWarehouseDeleteProfileRequest", "text": "Name Type <code>delete-profile</code> TabularDeleteProfile"}, {"location": "api/#updatewarehousestoragerequest", "title": "UpdateWarehouseStorageRequest", "text": "Name Type <code>storage-credential</code> <code>storage-profile</code> StorageProfile"}, {"location": "api/#user_1", "title": "User", "text": "Name Type <code>created-at</code> string(date-time) <code>email</code> string| null <code>id</code> string <code>last-updated-with</code> UserLastUpdatedWith <code>name</code> string <code>updated-at</code> string(date-time)| null <code>user-type</code> UserType"}, {"location": "api/#userlastupdatedwith", "title": "UserLastUpdatedWith", "text": "<p>Type: string</p>"}, {"location": "api/#userorrole", "title": "UserOrRole", "text": "<p>Type: </p>"}, {"location": "api/#usertype", "title": "UserType", "text": "<p>Type: string</p>"}, {"location": "api/#viewaction", "title": "ViewAction", "text": "<p>Type: string</p>"}, {"location": "api/#viewassignment", "title": "ViewAssignment", "text": "<p>Type: </p>"}, {"location": "api/#viewrelation", "title": "ViewRelation", "text": "<p>Type: string</p>"}, {"location": "api/#warehouseaction", "title": "WarehouseAction", "text": "<p>Type: string</p>"}, {"location": "api/#warehouseassignment", "title": "WarehouseAssignment", "text": "<p>Type: </p>"}, {"location": "api/#warehouserelation", "title": "WarehouseRelation", "text": "<p>Type: string</p>"}, {"location": "api/#warehousestatus", "title": "WarehouseStatus", "text": "<p>Type: string</p>"}, {"location": "api/#security-schemes", "title": "Security schemes", "text": "Name Type Scheme Description bearerAuth http bearer"}, {"location": "api/#tags", "title": "Tags", "text": "Name Description server Manage Server project Manage Projects warehouse Manage Warehouses user Manage Users role Manage Roles permissions Manage Permissions"}, {"location": "getting-started/", "title": "Getting Started", "text": "<p>There are multiple ways to deploy Lakekeeper. Our self-contained examples are the easiest way to get started and deploy everything you need (including S3, Query Engines, Jupyter, ...). By default, compute outside of the docker network cannot access the example Warehouses due to docker networking.</p> <p>If you have your own Storage (e.g. S3) available, you can deploy Lakekeeper using docker compose, deploy on Kubernetes, deploy the pre-build Binary directly or compile Lakekeeper yourself.</p>"}, {"location": "getting-started/#deployment", "title": "Deployment", "text": ""}, {"location": "getting-started/#option-1-examples", "title": "Option 1: \ud83d\udc33 Examples", "text": "<p>Note</p> <p>Our docker compose examples are not designed to be used with compute outside of the docker network (e.g. external Spark).</p> <p>All docker compose examples come with batteries included (Identity Provider, Storage (S3), Query Engines, Jupyter) but are not accessible (by default) for compute outside of the docker network.</p> \ud83d\udc33 With Authentication &amp; Authorization\ud83d\udc33 Without Authentication <pre><code>git clone https://github.com/lakekeeper/lakekeeper\ncd docker-compose/access-control\ndocker-compose up -d\n</code></pre> <pre><code>git clone https://github.com/lakekeeper/lakekeeper\ncd docker-compose/minimal\ndocker-compose up -d\n</code></pre> <p>Then open your browser and head to <code>localhost:8888</code> to load the example Jupyter notebooks or head to <code>localhost:8181</code> for the Lakekeeper UI.</p>"}, {"location": "getting-started/#option-2-docker-compose", "title": "Option 2: \ud83d\udc33 Docker Compose", "text": "<p>For a Docker-Compose deployment that is used with external object storage, potentially an external Database and an external Identity Provider, we recommend to start from the Example closest to your use-case, and start modifying the compose file according to our User Guides.</p>"}, {"location": "getting-started/#option-3-kubernetes", "title": "Option 3: \u2638\ufe0f Kubernetes", "text": "<p>We recommend deploying the catalog on Kubernetes using our Helm Chart. Please check the Helm Chart's documentation for possible values. To enable Authentication and Authorization, an external identity provider is required.</p> <p>A community driven Kubernetes Operator is currently in development.</p>"}, {"location": "getting-started/#option-4-binary", "title": "Option 4: \u2699\ufe0f Binary", "text": "<p>For single node deployments, you can also download the Binary for your architecture from Github Releases. A basic configuration via environment variables would look like this:</p> <pre><code>export LAKEKEEPER__PG_DATABASE_URL_READ=\"postgres://postgres_user:postgres_urlencoded_password@hostname:5432/catalog_database\"\nexport LAKEKEEPER__PG_DATABASE_URL_WRITE=\"postgres://postgres_user:postgres_urlencoded_password@hostname:5432/catalog_database\"\nexport LAKEKEEPER__PG_ENCRYPTION_KEY=\"MySecretEncryptionKeyThatIBetterNotLoose\"\n\n./lakekeeper migrate\n./lakekeeper serve\n</code></pre> <p>To expose Lakekeeper behind a reverse proxy, most deployments also set: <pre><code>export LAKEKEEPER__BASE_URI=&lt;https://&lt;Url-where-Lakekeeper-is-externally-reachable&gt;\n</code></pre> The default <code>LAKEKEEPER__BASE_URI</code> is <code>https://localhost:8181</code>.</p>"}, {"location": "getting-started/#option-5-build-from-sources", "title": "Option 5: \ud83d\udc68\u200d\ud83d\udcbb Build from Sources", "text": "<p>To customize Lakekeeper, for example to connect to your own Authorization system, you might want to build the binary yourself. Please check the Developer Guide for more information. </p>"}, {"location": "getting-started/#first-steps", "title": "First Steps", "text": "<p>Now that the catalog is up-and-running, the following endpoints are available:</p> <ol> <li><code>&lt;LAKEKEEPER__BASE_URI&gt;/ui/</code> - the UI - by default: http://localhost:8181/ui/</li> <li><code>&lt;LAKEKEEPER__BASE_URI&gt;/catalog</code> is the Iceberg REST API</li> <li><code>&lt;LAKEKEEPER__BASE_URI&gt;/management</code> contains the management API</li> <li><code>&lt;LAKEKEEPER__BASE_URI&gt;/swagger-ui</code> hosts Swagger to inspect the API specifications</li> </ol>"}, {"location": "getting-started/#bootstrapping", "title": "Bootstrapping", "text": "<p>Our self-contained docker compose examples are already bootstrapped and require no further actions.</p> <p>After the initial deployment, Lakekeeper needs to be bootstrapped. This can be done via the UI or the bootstrap endpoint. Among others, bootstrapping sets the initial administrator of Lakekeeper and creates the first project. Please find more information on bootstrapping in the Bootstrap Docs.</p>"}, {"location": "getting-started/#creating-a-warehouse", "title": "Creating a Warehouse", "text": "<p>Now that the server is running, we need to create a new warehouse. We recommend to do this via the UI.</p> <p></p> Create a Warehouse via UI <p></p> <p>Alternatively, we can use the REST-API directly. For an S3 backed warehouse, create a file called <code>create-warehouse-request.json</code>:</p> <pre><code>{\n  \"warehouse-name\": \"my-warehouse\",\n  \"storage-profile\": {\n    \"type\": \"s3\",\n    \"bucket\": \"my-example-bucket\",\n    \"key-prefix\": \"optional/path/in/bucket\",\n    \"region\": \"us-east-1\",\n    \"sts-role-arn\": \"arn:aws:iam::....:role/....\",\n    \"sts-enabled\": true,\n    \"flavor\": \"aws\"\n  },\n  \"storage-credential\": {\n    \"type\": \"s3\",\n    \"credential-type\": \"access-key\",\n    \"aws-access-key-id\": \"...\",\n    \"aws-secret-access-key\": \"...\"\n  }\n}\n</code></pre> <p>We now create a new Warehouse by POSTing the request to the management API:</p> <pre><code>curl -X POST http://localhost:8181/management/v1/warehouse -H \"Content-Type: application/json\" -d @create-warehouse-request.json\n</code></pre> <p>If you want to use a different storage backend, see the Storage Guide for example configurations.</p>"}, {"location": "getting-started/#connect-compute", "title": "Connect Compute", "text": "<p>That's it - we can now use the catalog:</p> <pre><code>import pandas as pd\nimport pyspark\n\nSPARK_VERSION = pyspark.__version__\nSPARK_MINOR_VERSION = '.'.join(SPARK_VERSION.split('.')[:2])\nICEBERG_VERSION = \"1.6.1\"\n\n# if you use adls as storage backend, you need iceberg-azure instead of iceberg-aws-bundle\nconfiguration = {\n    \"spark.jars.packages\": f\"org.apache.iceberg:iceberg-spark-runtime-{SPARK_MINOR_VERSION}_2.12:{ICEBERG_VERSION},org.apache.iceberg:iceberg-aws-bundle:{ICEBERG_VERSION},org.apache.iceberg:iceberg-azure-bundle:{ICEBERG_VERSION},org.apache.iceberg:iceberg-gcp-bundle:{ICEBERG_VERSION}\",\n    \"spark.sql.extensions\": \"org.apache.iceberg.spark.extensions.IcebergSparkSessionExtensions\",\n    \"spark.sql.defaultCatalog\": \"demo\",\n    \"spark.sql.catalog.demo\": \"org.apache.iceberg.spark.SparkCatalog\",\n    \"spark.sql.catalog.demo.catalog-impl\": \"org.apache.iceberg.rest.RESTCatalog\",\n    \"spark.sql.catalog.demo.uri\": \"http://localhost:8181/catalog/\",\n    \"spark.sql.catalog.demo.token\": \"dummy\",\n    \"spark.sql.catalog.demo.warehouse\": \"my-warehouse\",\n}\nspark_conf = pyspark.SparkConf()\nfor k, v in configuration.items():\n    spark_conf = spark_conf.set(k, v)\n\nspark = pyspark.sql.SparkSession.builder.config(conf=spark_conf).getOrCreate()\n\nspark.sql(\"USE demo\")\n\nspark.sql(\"CREATE NAMESPACE IF NOT EXISTS my_namespace\")\nprint(f\"\\n\\nCurrently the following namespace exist:\")\nprint(spark.sql(\"SHOW NAMESPACES\").toPandas())\nprint(\"\\n\\n\")\n\nsdf = spark.createDataFrame(\n    pd.DataFrame(\n        [[1, 1.2, \"foo\"], [2, 2.2, \"bar\"]], columns=[\"my_ints\", \"my_floats\", \"strings\"]\n    )\n)\n\nspark.sql(\"DROP TABLE IF EXISTS demo.my_namespace.my_table\")\nspark.sql(\n    \"CREATE TABLE demo.my_namespace.my_table (my_ints INT, my_floats DOUBLE, strings STRING) USING iceberg\"\n)\nsdf.writeTo(\"demo.my_namespace.my_table\").append()\nspark.table(\"demo.my_namespace.my_table\").show()\n</code></pre>"}, {"location": "support/", "title": "Community", "text": "<ul> <li> <p>:fontawesome-brands-discord: \u00a0 Connect on Discord</p> <p>Connect with us on Discord to ask all your questions, stay up-to-date with the latest announcements and learn how others are using Lakekeeper.</p> </li> <li> <p>:fontawesome-brands-github: \u00a0 Report Issues &amp; Feature Request</p> <p>Open Feature Requests and report Issues on Github.</p> </li> <li> <p>:material-webhook: \u00a0 Enterprise Support</p> <p>Get enterprise support for Lakekeeper in self-hosted or managed environments.</p> </li> </ul>"}, {"location": "about/code-of-conduct/", "title": "Code of Conduct", "text": "<p>Lakekeeper adheres to the Rust Code of Conduct. This describes the minimum behavior expected from all contributors. Instances of violations of the Code of Conduct can be reported by contacting the project team at moderation@vakamo.com.</p> <p>When you contribute code, you affirm that the contribution is your original work and that you license the work to the project under the project's open source license. Whether or not you state this explicitly, by submitting any copyrighted material via pull request, email, or other means you agree to license the material under the project's open source license and warrant that you have the legal authority to do so.</p>"}, {"location": "about/license/", "title": "License", "text": ""}, {"location": "about/license/#included-projects", "title": "Included projects", "text": "<p>Themes documentation is based on <code>MkDocs</code>.</p> <ul> <li>MkDocs - View license.</li> </ul> <p>Many thanks to the authors and contributors of <code>MkDocs</code>!</p>"}, {"location": "about/license/#apache-license", "title": "Apache License", "text": "<pre><code>                             Apache License\n                       Version 2.0, January 2004\n                    http://www.apache.org/licenses/\n</code></pre> <p>TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION</p> <ol> <li> <p>Definitions.</p> <p>\"License\" shall mean the terms and conditions for use, reproduction,   and distribution as defined by Sections 1 through 9 of this document.</p> <p>\"Licensor\" shall mean the copyright owner or entity authorized by   the copyright owner that is granting the License.</p> <p>\"Legal Entity\" shall mean the union of the acting entity and all   other entities that control, are controlled by, or are under common   control with that entity. For the purposes of this definition,   \"control\" means (i) the power, direct or indirect, to cause the   direction or management of such entity, whether by contract or   otherwise, or (ii) ownership of fifty percent (50%) or more of the   outstanding shares, or (iii) beneficial ownership of such entity.</p> <p>\"You\" (or \"Your\") shall mean an individual or Legal Entity   exercising permissions granted by this License.</p> <p>\"Source\" form shall mean the preferred form for making modifications,   including but not limited to software source code, documentation   source, and configuration files.</p> <p>\"Object\" form shall mean any form resulting from mechanical   transformation or translation of a Source form, including but   not limited to compiled object code, generated documentation,   and conversions to other media types.</p> <p>\"Work\" shall mean the work of authorship, whether in Source or   Object form, made available under the License, as indicated by a   copyright notice that is included in or attached to the work   (an example is provided in the Appendix below).</p> <p>\"Derivative Works\" shall mean any work, whether in Source or Object   form, that is based on (or derived from) the Work and for which the   editorial revisions, annotations, elaborations, or other modifications   represent, as a whole, an original work of authorship. For the purposes   of this License, Derivative Works shall not include works that remain   separable from, or merely link (or bind by name) to the interfaces of,   the Work and Derivative Works thereof.</p> <p>\"Contribution\" shall mean any work of authorship, including   the original version of the Work and any modifications or additions   to that Work or Derivative Works thereof, that is intentionally   submitted to Licensor for inclusion in the Work by the copyright owner   or by an individual or Legal Entity authorized to submit on behalf of   the copyright owner. For the purposes of this definition, \"submitted\"   means any form of electronic, verbal, or written communication sent   to the Licensor or its representatives, including but not limited to   communication on electronic mailing lists, source code control systems,   and issue tracking systems that are managed by, or on behalf of, the   Licensor for the purpose of discussing and improving the Work, but   excluding communication that is conspicuously marked or otherwise   designated in writing by the copyright owner as \"Not a Contribution.\"</p> <p>\"Contributor\" shall mean Licensor and any individual or Legal Entity   on behalf of whom a Contribution has been received by Licensor and   subsequently incorporated within the Work.</p> </li> <li> <p>Grant of Copyright License. Subject to the terms and conditions of       this License, each Contributor hereby grants to You a perpetual,       worldwide, non-exclusive, no-charge, royalty-free, irrevocable       copyright license to reproduce, prepare Derivative Works of,       publicly display, publicly perform, sublicense, and distribute the       Work and such Derivative Works in Source or Object form.</p> </li> <li> <p>Grant of Patent License. Subject to the terms and conditions of       this License, each Contributor hereby grants to You a perpetual,       worldwide, non-exclusive, no-charge, royalty-free, irrevocable       (except as stated in this section) patent license to make, have made,       use, offer to sell, sell, import, and otherwise transfer the Work,       where such license applies only to those patent claims licensable       by such Contributor that are necessarily infringed by their       Contribution(s) alone or by combination of their Contribution(s)       with the Work to which such Contribution(s) was submitted. If You       institute patent litigation against any entity (including a       cross-claim or counterclaim in a lawsuit) alleging that the Work       or a Contribution incorporated within the Work constitutes direct       or contributory patent infringement, then any patent licenses       granted to You under this License for that Work shall terminate       as of the date such litigation is filed.</p> </li> <li> <p>Redistribution. You may reproduce and distribute copies of the       Work or Derivative Works thereof in any medium, with or without       modifications, and in Source or Object form, provided that You       meet the following conditions:</p> <p>(a) You must give any other recipients of the Work or       Derivative Works a copy of this License; and</p> <p>(b) You must cause any modified files to carry prominent notices       stating that You changed the files; and</p> <p>(c) You must retain, in the Source form of any Derivative Works       that You distribute, all copyright, patent, trademark, and       attribution notices from the Source form of the Work,       excluding those notices that do not pertain to any part of       the Derivative Works; and</p> <p>(d) If the Work includes a \"NOTICE\" text file as part of its       distribution, then any Derivative Works that You distribute must       include a readable copy of the attribution notices contained       within such NOTICE file, excluding those notices that do not       pertain to any part of the Derivative Works, in at least one       of the following places: within a NOTICE text file distributed       as part of the Derivative Works; within the Source form or       documentation, if provided along with the Derivative Works; or,       within a display generated by the Derivative Works, if and       wherever such third-party notices normally appear. The contents       of the NOTICE file are for informational purposes only and       do not modify the License. You may add Your own attribution       notices within Derivative Works that You distribute, alongside       or as an addendum to the NOTICE text from the Work, provided       that such additional attribution notices cannot be construed       as modifying the License.</p> <p>You may add Your own copyright statement to Your modifications and   may provide additional or different license terms and conditions   for use, reproduction, or distribution of Your modifications, or   for any such Derivative Works as a whole, provided Your use,   reproduction, and distribution of the Work otherwise complies with   the conditions stated in this License.</p> </li> <li> <p>Submission of Contributions. Unless You explicitly state otherwise,       any Contribution intentionally submitted for inclusion in the Work       by You to the Licensor shall be under the terms and conditions of       this License, without any additional terms or conditions.       Notwithstanding the above, nothing herein shall supersede or modify       the terms of any separate license agreement you may have executed       with Licensor regarding such Contributions.</p> </li> <li> <p>Trademarks. This License does not grant permission to use the trade       names, trademarks, service marks, or product names of the Licensor,       except as required for reasonable and customary use in describing the       origin of the Work and reproducing the content of the NOTICE file.</p> </li> <li> <p>Disclaimer of Warranty. Unless required by applicable law or       agreed to in writing, Licensor provides the Work (and each       Contributor provides its Contributions) on an \"AS IS\" BASIS,       WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or       implied, including, without limitation, any warranties or conditions       of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A       PARTICULAR PURPOSE. You are solely responsible for determining the       appropriateness of using or redistributing the Work and assume any       risks associated with Your exercise of permissions under this License.</p> </li> <li> <p>Limitation of Liability. In no event and under no legal theory,       whether in tort (including negligence), contract, or otherwise,       unless required by applicable law (such as deliberate and grossly       negligent acts) or agreed to in writing, shall any Contributor be       liable to You for damages, including any direct, indirect, special,       incidental, or consequential damages of any character arising as a       result of this License or out of the use or inability to use the       Work (including but not limited to damages for loss of goodwill,       work stoppage, computer failure or malfunction, or any and all       other commercial damages or losses), even if such Contributor       has been advised of the possibility of such damages.</p> </li> <li> <p>Accepting Warranty or Additional Liability. While redistributing       the Work or Derivative Works thereof, You may choose to offer,       and charge a fee for, acceptance of support, warranty, indemnity,       or other liability obligations and/or rights consistent with this       License. However, in accepting such obligations, You may act only       on Your own behalf and on Your sole responsibility, not on behalf       of any other Contributor, and only if You agree to indemnify,       defend, and hold each Contributor harmless for any liability       incurred by, or claims asserted against, such Contributor by reason       of your accepting any such warranty or additional liability.</p> </li> </ol> <p>END OF TERMS AND CONDITIONS</p> <p>APPENDIX: How to apply the Apache License to your work.</p> <pre><code>  To apply the Apache License to your work, attach the following\n  boilerplate notice, with the fields enclosed by brackets \"[]\"\n  replaced with your own identifying information. (Don't include\n  the brackets!)  The text should be enclosed in the appropriate\n  comment syntax for the file format. We also recommend that a\n  file or class name and description of purpose be included on the\n  same \"printed page\" as the copyright notice for easier\n  identification within third-party archives.\n</code></pre> <p>Copyright 2024 HANSETAG GmbH</p> <p>Licensed under the Apache License, Version 2.0 (the \"License\");    you may not use this file except in compliance with the License.    You may obtain a copy of the License at</p> <pre><code>   http://www.apache.org/licenses/LICENSE-2.0\n</code></pre> <p>Unless required by applicable law or agreed to in writing, software    distributed under the License is distributed on an \"AS IS\" BASIS,    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.    See the License for the specific language governing permissions and    limitations under the License.</p>"}, {"location": "about/release-notes/", "title": "Release Notes", "text": "<p>Please find following changes that affect the core Lakekeeper library crate. For more information, please also check our Github Releases.</p>"}, {"location": "about/release-notes/#changelog", "title": "Changelog", "text": ""}, {"location": "about/release-notes/#051-2024-12-12", "title": "0.5.1 (2024-12-12)", "text": ""}, {"location": "about/release-notes/#features", "title": "Features", "text": "<ul> <li>openapi: document error models in openapi (#658) (2a67196)</li> <li>undrop  (#517) (658e757)</li> </ul>"}, {"location": "about/release-notes/#bug-fixes", "title": "Bug Fixes", "text": "<ul> <li>allow mixed-case properties (#660) (f435573)</li> <li>potential deadlock for views through uncommitted transactions (#638) (0dda8e3)</li> <li>potential deadlock in load-table (#636) (c22b0e0)</li> <li>remove unused relation from openfga schema (#659) (764ca5b)</li> <li>tokens of humans are wrongly identified as applications if \"appid\" claim is present (#647) (bc6b475)</li> </ul>"}, {"location": "about/release-notes/#miscellaneous-chores", "title": "Miscellaneous Chores", "text": "<ul> <li>release 0.5.1 (f8aa87c)</li> </ul>"}, {"location": "about/release-notes/#050-2024-12-06", "title": "0.5.0 (2024-12-06)", "text": ""}, {"location": "about/release-notes/#breaking-changes", "title": "\u26a0 BREAKING CHANGES", "text": "<ul> <li>Rename S3 minio flavor to s3-compat (#630)</li> <li>Change default port from 8080 to 8181</li> <li>Default to single-tenant / single-project with NIL Project-ID</li> </ul>"}, {"location": "about/release-notes/#features_1", "title": "Features", "text": "<ul> <li>Add iceberg openapi to swagger (#431) (bb3d12f)</li> <li>Add Iceberg REST Spec to swagger (2eaa10e)</li> <li>add kafka support #271 (#340) (7973586)</li> <li>Add namespace_id filter to list deleted tabulars (#443) (cc82736)</li> <li>Add operator role (#543) (bcddb60)</li> <li>Allow configuration of additional Issuer URLs (b712cf0)</li> <li>Allow configuration of multiple Audiences (b712cf0)</li> <li>Change default port from 8080 to 8181 (b712cf0)</li> <li>Create default Project on Bootstrap (2eaa10e)</li> <li>Default to hard deletion (#507) (5d794aa)</li> <li>Default to single-tenant / single-project with NIL Project-ID (2eaa10e)</li> <li>docs (#605) (c1d2348)</li> <li>Embedded UI (#622) (332f3b8)</li> <li>Enable K8s Auth explicitly (#594) (3773141)</li> <li>Extend user search to email field (#477) (9f9f42b)</li> <li>Fine Grained Access Controls with OpenFGA (2eaa10e)</li> <li>Generated TS Client (#453) (24bfccf)</li> <li>Hierarchical Namespaces (2eaa10e)</li> <li>improve latency against aws by reusing http clients (#540) (8c384f7)</li> <li>OIDC Audience validation (#607) (052bb3f)</li> <li>Optionally return uuids for Iceberg APIs (2eaa10e)</li> <li>pagination without empty pages (#450) (c88a59d)</li> <li>Project Management APIs (2eaa10e)</li> <li>Provide inherited managed access via API (#619) (e7b0394)</li> <li>Rename S3 minio flavor to s3-compat (#630) (acb7419)</li> <li>Server Info Endpoint (2eaa10e)</li> <li>split table metadata into tables (#478) (942fa97)</li> <li>support kubernetes service-accounts (#538) (2982210)</li> </ul>"}, {"location": "about/release-notes/#bug-fixes_1", "title": "Bug Fixes", "text": "<ul> <li>aws s3 signer (#493) (b7ad8f4)</li> <li>aws: deal with closed connections via retries (#569) (bbda2c4)</li> <li>azure connection reset (#553) (5d4b041)</li> <li>Bootstrap should return HTTP Code 204 (#597) (25d1d4e)</li> <li>Delete Namespaces with children should not be possible (#482) (7ffd864)</li> <li>flaky aws tests (#545) (f4d46b2)</li> <li>Include Deletion Profile in GetWarehouseResponse (#514) (54a6420)</li> <li>List Namespaces - Top level NS list should only contain top level Namespaces (#512) (795d4f0)</li> <li>list-projects for non admins (#546) (d0066b8)</li> <li>management: deleted tabulars endpoint should not contain underscore (#556) (b15a8fe)</li> <li>only log table load failed when it actually happened (#626) (be5f58c)</li> <li>openapi: Fix Soft-Deletion expiration seconds type (#509) (322a1a0)</li> <li>pagination (#604) (0be19ed)</li> <li>permissions API Parameters (#516) (5133752)</li> <li>prepend a version count to metadata files (#524) (0d9d06f)</li> <li>recreate user (#599) (1194cb0)</li> <li>run metrics router (#628) (f6b47e5)</li> <li>set pool idle timeout to &lt;20 not keepalive timeout (#551) (2ae5b8d)</li> <li>tests: give openfga a bit of time to delete things (#557) (71daf6f)</li> <li>tests: use a shared runtime for tests that share a static reqwest client (#555) (90c6880)</li> <li>Warehouse managed-access in openapi spec (#610) (c860506)</li> <li>WarehouseAdmin renamed to DataAdmin (#515) (7ec4c01)</li> </ul>"}, {"location": "about/release-notes/#miscellaneous-chores_1", "title": "Miscellaneous Chores", "text": "<ul> <li>release 0.5.0 (b1b2ee6)</li> </ul>"}, {"location": "about/release-notes/#043-2024-11-13", "title": "0.4.3 (2024-11-13)", "text": ""}, {"location": "about/release-notes/#bug-fixes_2", "title": "Bug Fixes", "text": "<ul> <li>aws s3 signer (#493) (dea4a57)</li> </ul>"}, {"location": "about/release-notes/#miscellaneous-chores_2", "title": "Miscellaneous Chores", "text": "<ul> <li>release 0.4.3 (e577ab2)</li> </ul>"}, {"location": "about/release-notes/#042-2024-10-28", "title": "0.4.2 (2024-10-28)", "text": ""}, {"location": "about/release-notes/#features_2", "title": "Features", "text": "<ul> <li>enable native-tls-root-certs (af26004)</li> <li>improve azure latency by reusing http clients (af26004)</li> </ul>"}, {"location": "about/release-notes/#miscellaneous-chores_3", "title": "Miscellaneous Chores", "text": "<ul> <li>release 0.4.2 (1d8c469)</li> </ul>"}, {"location": "about/release-notes/#041-2024-10-15", "title": "0.4.1 (2024-10-15)", "text": ""}, {"location": "about/release-notes/#bug-fixes_3", "title": "Bug Fixes", "text": "<ul> <li>bug in join for listing view representations (d2f1d7a)</li> <li>gcs integration test are now running in ci (d2f1d7a)</li> <li>increase keycloak timeout in integration tests (d2f1d7a)</li> <li>purge tests are now properly executed in ci (d2f1d7a)</li> </ul>"}, {"location": "about/release-notes/#040-2024-10-03", "title": "0.4.0 (2024-10-03)", "text": ""}, {"location": "about/release-notes/#breaking-changes_1", "title": "\u26a0 BREAKING CHANGES", "text": "<ul> <li>Rename TIP to Lakekeeper (#372)</li> </ul>"}, {"location": "about/release-notes/#features_3", "title": "Features", "text": "<ul> <li>cache: cache metadata location in signer (#334) (fa0863c)</li> <li>catalog: expiration queue configuration (#330) (fd96861)</li> <li>catalog: Soft-deletions &amp; tabular cleanup queues (#310) (1de63b3)</li> <li>list soft deletions (#302) (0a01eaf)</li> <li>make sure table locations are unique (#335) (543db50)</li> <li>New TableMetadataBuilder with: ID Reassignments, Metadata expiry, safe binding... (#387) (e5c1c77)</li> <li>Rename TIP to Lakekeeper (#372) (57df07e)</li> <li>storage: support for google cloud storage (gcs) (#361) (ebb4e27)</li> <li>tabular: soft-delete &amp; drop purge (#287) (475db44)</li> </ul>"}, {"location": "about/release-notes/#bug-fixes_4", "title": "Bug Fixes", "text": "<ul> <li>make conditional compilation of tests depend on var content (#311) (79036db)</li> <li>replace pretty debug prints with properly formatted errors (#327) (efe9fe9)</li> </ul>"}, {"location": "about/release-notes/#030-2024-08-26", "title": "0.3.0 (2024-08-26)", "text": ""}, {"location": "about/release-notes/#breaking-changes_2", "title": "\u26a0 BREAKING CHANGES", "text": "<ul> <li>dots can no longer be used in namespace names (#257)</li> </ul>"}, {"location": "about/release-notes/#features_4", "title": "Features", "text": "<ul> <li>Add support for custom Locations for Namespaces &amp; Tables (1d2ac6f)</li> <li>aws: sts credentials for s3 (#236) (dbf775b)</li> <li>compression-codec: Support setting and altering write.metadata.compression-codec (#235) (f4fb4cb)</li> <li>storage: add ability to narrow token permissions (#249) (ba9f046)</li> <li>storage: adls (#223) (fd11428)</li> </ul>"}, {"location": "about/release-notes/#bug-fixes_5", "title": "Bug Fixes", "text": "<ul> <li>dots can no longer be used in namespace names (#257) (8ac52e0)</li> <li>kv2: extend docs &amp; fix mismatch between docs and expected env values (#224) (be3e3e6)</li> </ul>"}, {"location": "about/release-notes/#021-2024-07-29", "title": "0.2.1 (2024-07-29)", "text": ""}, {"location": "about/release-notes/#features_5", "title": "Features", "text": "<ul> <li>db: Add Encryption Secret for postgres SecretStore to README &amp; warn on startup (#217) (933409d)</li> <li>secrets: Secret Backend configuration is now case insensitive (#215) (99b19ab)</li> </ul>"}, {"location": "about/release-notes/#bug-fixes_6", "title": "Bug Fixes", "text": "<ul> <li>examples: Fix <code>ICEBERG_REST__BASE_URI</code> (33f213b)</li> <li>s3signing: Add S3 remote signing \"content-md5\" for pyiceberg compatability (33f213b)</li> </ul>"}, {"location": "about/release-notes/#miscellaneous-chores_4", "title": "Miscellaneous Chores", "text": "<ul> <li>release 0.2.1 (587ea12)</li> </ul>"}, {"location": "about/release-notes/#020-2024-07-26", "title": "0.2.0 (2024-07-26)", "text": ""}, {"location": "about/release-notes/#breaking-changes_3", "title": "\u26a0 BREAKING CHANGES", "text": "<ul> <li>Catalog base URL should not contain /catalog suffix (#208)</li> <li>views: split off tabular from table to prepare for views</li> </ul>"}, {"location": "about/release-notes/#features_6", "title": "Features", "text": "<ul> <li>health: Service health checks (#181) (3bf4d4c)</li> <li>pagination: add pagination for namespaces &amp; tables &amp; views (#186) (37b1dbd)</li> <li>prometheus: add prometheus axum metrics (#185) (d60d84a)</li> <li>secrets: add support for kv2 secret storage (#192) (a86b13c)</li> <li>server: make listenport configurable (#183) (9ffe0c2)</li> <li>views: authz interface for views &amp; view-ident resolve (#141) (c5e1f99)</li> <li>views: commit views (#146) (0f6310b)</li> <li>views: create + load view (#142) (328cf33)</li> <li>views: exists (#149) (fdb5013)</li> <li>views: list-views (5917a5e)</li> <li>views: rename views (#148) (4aaaa7d)</li> <li>views: split off tabular from table to prepare for views (f62b329)</li> </ul>"}, {"location": "about/release-notes/#bug-fixes_7", "title": "Bug Fixes", "text": "<ul> <li>Catalog base URL should not contain /catalog suffix (#208) (6aabaa9)</li> <li>db: add wait-for-db command (#196) (c1cd069)</li> <li>remove unused cfg-attributes (#203) (b6d17c4)</li> <li>tables: deny \"write.metadata\" &amp; \"write.data.path\" table properties  (#197) (4b2191e)</li> </ul>"}, {"location": "about/release-notes/#010-2024-06-17", "title": "0.1.0 (2024-06-17)", "text": ""}, {"location": "about/release-notes/#miscellaneous-chores_5", "title": "Miscellaneous Chores", "text": "<ul> <li>\ud83d\ude80 Release 0.1.0 (a5def9a)</li> </ul>"}, {"location": "about/release-notes/#010-rc3-2024-06-17", "title": "0.1.0-rc3 (2024-06-17)", "text": ""}, {"location": "about/release-notes/#miscellaneous-chores_6", "title": "Miscellaneous Chores", "text": "<ul> <li>\ud83d\ude80 Release 0.1.0-rc3 (9b0d219)</li> </ul>"}, {"location": "about/release-notes/#010-rc2-2024-06-17", "title": "0.1.0-rc2 (2024-06-17)", "text": ""}, {"location": "about/release-notes/#bug-fixes_8", "title": "Bug Fixes", "text": "<ul> <li>add view router (#116) (0745cc8)</li> </ul>"}, {"location": "about/release-notes/#miscellaneous-chores_7", "title": "Miscellaneous Chores", "text": "<ul> <li>\ud83d\ude80 Release 0.1.0-rc2 (9bc25ef)</li> </ul>"}, {"location": "about/release-notes/#010-rc1-2024-06-16", "title": "0.1.0-rc1 (2024-06-16)", "text": ""}, {"location": "about/release-notes/#miscellaneous-chores_8", "title": "Miscellaneous Chores", "text": "<ul> <li>\ud83d\ude80 Release 0.1.0-rc1 (ba6e5d5)</li> </ul>"}, {"location": "about/release-notes/#002-rc1-2024-06-16", "title": "0.0.2-rc1 (2024-06-16)", "text": ""}, {"location": "about/release-notes/#miscellaneous-chores_9", "title": "Miscellaneous Chores", "text": "<ul> <li>\ud83d\ude80 Release 0.0.2-rc1 (eb34b9c)</li> </ul>"}, {"location": "about/release-notes/#001-2024-06-15", "title": "0.0.1 (2024-06-15)", "text": ""}, {"location": "about/release-notes/#miscellaneous-chores_10", "title": "Miscellaneous Chores", "text": "<ul> <li>\ud83d\ude80 Release 0.0.1 (c52ddec)</li> </ul>"}, {"location": "docs/latest/authentication/", "title": "Authentication", "text": "<p>Authentication is crucial for securing access to Lakekeeper. By enabling authentication, you ensure that only authorized users can access and interact with your data. Lakekeeper supports authentication via any OpenID (or OAuth 2) capable identity provider as well as authentication for Kubernetes service accounts, allowing you to integrate with your existing identity providers.</p> <p>Authentication and Authorization are distinct processes in Lakekeeper. Authentication verifies the identity of users, ensuring that only authorized individuals can access the system. This is performed via an Identity Provider (IdP) such as OpenID or Kubernetes. Authorization, on the other hand, determines what authenticated users are allowed to do within the system. Lakekeeper uses OpenFGA to manage and evaluate permissions, providing a robust and flexible authorization model. For more details, see the Authorization guide.</p> <p>Lakekeeper does not issue API-Keys or Client-Credentials itself, as this can introduce multiple security risks. Instead, it relies on external IdPs for authentication, ensuring a secure and centralized management of user identities. This approach minimizes the risk of credential leakage and simplifies the integration with existing security infrastructures.</p>"}, {"location": "docs/latest/authentication/#openid-provider", "title": "OpenID Provider", "text": "<p>Lakekeeper can be configured to integrate with all common identity providers. For best performance, tokens are validated locally against the server keys (<code>jwks_uri</code>). This requires all incoming tokens to be JWT tokens. If you require support for opaque tokens, please upvote the corresponding Github Issue.</p> <p>If <code>LAKEKEEPER__OPENID_PROVIDER_URI</code> is specified, Lakekeeper will  verify access tokens against this provider. The provider must provide the <code>.well-known/openid-configuration</code> endpoint and the openid-configuration needs to have <code>jwks_uri</code> and <code>issuer</code> defined. Optionally, if <code>LAKEKEEPER__OPENID_AUDIENCE</code> is specified, Lakekeeper validates the <code>aud</code> field of the provided token to match the specified value. We recommend to specify the audience in all deployments, so that tokens leaked for other applications in the same IdP cannot be used to access data in Lakekeeper.</p> <p>In the following section we describe common setups for popular IdPs. Please refer to the documentation of your IdP for further information.</p>"}, {"location": "docs/latest/authentication/#entra-id-azure", "title": "Entra-ID (Azure)", "text": "<p>We are creating three App-Registrations: One for Lakekeeper itself, one for the Lakekeeper UI and one for a machine client (Spark) to access Lakekeeper. While App-Registrations can also be shared, the recommended setup we propose here offers more flexibility and best security.</p>"}, {"location": "docs/latest/authentication/#app-1-lakekeeper-ui-application", "title": "App 1: Lakekeeper UI Application", "text": "<ol> <li>Create a new \"App Registration\"<ul> <li>Name: choose any, for this example we choose <code>Lakekeeper-UI</code></li> <li>Redirect URI: Add the URL where the Lakekeeper UI is reachable for the user suffixed by <code>/callback</code>. E.g.: <code>http://localhost:8181/ui/callback</code>. If asked, select type \"Single Page Application (SPA)\".</li> </ul> </li> <li>In the \"Overview\" page of the \"App Registration\" note down the <code>Application (client) ID</code>. Also note the <code>Directory (tenant) ID</code>.</li> </ol>"}, {"location": "docs/latest/authentication/#app-2-lakekeeper-application", "title": "App 2: Lakekeeper Application", "text": "<ol> <li>Create a new \"App Registration\"<ul> <li>Name: choose any, for this example we choose <code>Lakekeeper</code></li> <li>Redirect URI: Leave empty.</li> </ul> </li> <li>When the App Registration is created, select \"Manage\" -&gt; \"Expose an API\" and on the top select \"Add\" beside <code>Application ID URI</code>.  Note down the <code>Application ID URI</code> (should be <code>api://&lt;Client ID&gt;</code>).</li> <li>Still in the \"Expose an API\" menus, select \"Add a Scope\". Fill the fields as follows:<ul> <li>Scope name: lakekeeper</li> <li>Who can consent? Admins and users</li> <li>Admin consent display name: Lakekeeper API</li> <li>Admin consent description: Access Lakekeeper API</li> <li>State: Enabled</li> </ul> </li> <li>After the <code>lakekeeper</code> scope is created, click \"Add a client application\" under the \"Authorized client applications\" headline. Select the previously created scope and paste as <code>Client ID</code> the previously noted ID from App 1.</li> <li>In the \"Overview\" page of the \"App Registration\" note down the <code>Application (client) ID</code>.</li> </ol> <p>We are now ready to deploy Lakekeeper and login via the UI. Set the following environment variables / configurations. We are using one Application to secure the Lakekeeper API and login with UI using public flows (Authorization Code Flow): <pre><code>LAKEKEEPER__BASE_URI=&lt;URI where lakekeeper is reachable, in my example http://localhost:8181&gt;\n// Note the v2.0 at the End of the provider URI!\nLAKEKEEPER__OPENID_PROVIDER_URI=https://login.microsoftonline.com/&lt;Tenant ID&gt;/v2.0\nLAKEKEEPER__OPENID_AUDIENCE=\"api://&lt;Client ID from App 2 (lakekeeper)&gt;\"\nLAKEKEEPER__UI__IDP_CLIENT_ID=\"&lt;Client ID from App 1 (lakekeeper-ui)&gt;\"\nLAKEKEEPER__UI__IDP_SCOPE=\"openid profile api://&lt;Client ID from App 2&gt;/lakekeeper\"\nLAKEKEEPER__OPENID_ADDITIONAL_ISSUERS=\"https://sts.windows.net/&lt;Tenant ID&gt;/\"\n// The additional issuer URL is required as https://login.microsoftonline.com/&lt;Tenant ID&gt;/v2.0/.well-known/openid-configuration\n// shows https://login.microsoftonline.com as the issuer but actually\n// issues tokens for https://sts.windows.net/. This is a well-known\n// problem in Entra ID.\n</code></pre></p> <p>Before continuing with App 2, we recommend to create a Warehouse using any of the supported storages. Please check the Storage Documentation for more information. Without a Warehouse, we won't be able to test App 3.</p>"}, {"location": "docs/latest/authentication/#app-3-machine-user-spark", "title": "App 3: Machine User / Spark", "text": "<ol> <li>Create a new \"App Registration\"<ul> <li>Name: choose any, for this example we choose <code>Spark</code></li> <li>Redirect URI: Leave empty - we are going to use the Client Credential Flow</li> </ul> </li> <li>When the App Registration is created, select \"Manage\" -&gt; \"Certificates &amp; secrets\" and create a \"New client secret\". Note down the secrets \"Value\".</li> </ol> <p>That's it! We can now use the second App Registration to sign into Lakekeeper using Spark or other query engines. A Spark configuration would look like:</p> PyIcebergPySpark <pre><code>import pyiceberg.catalog\nimport pyiceberg.catalog.rest\nimport pyiceberg.typedef\n\ncatalog = pyiceberg.catalog.rest.RestCatalog(\n    name=\"my_catalog_name\",\n    uri=\"http://localhost:8181/catalog\",\n    warehouse=\"&lt;warehouse name&gt;\",\n    credential=\"&lt;Client-ID of App 3 (spark)&gt;:&lt;Client-Secret of App 3 (spark)&gt;\",\n    scope=\"email openid api://&lt;Client-ID of App 2 (lakekeeper)&gt;/.default\",\n    **{\n        \"oauth2-server-uri\": \"https://login.microsoftonline.com/&lt;Tenant ID&gt;/oauth2/v2.0/token\"\n    },\n)\n\nprint(catalog.list_namespaces())\n</code></pre> <pre><code>import pyspark\n\nconf = {\n    \"spark.jars.packages\": \"org.apache.iceberg:iceberg-spark-runtime-3.5_2.12:1.7.0,org.apache.iceberg:iceberg-azure-bundle:1.7.0\",\n    \"spark.sql.extensions\": \"org.apache.iceberg.spark.extensions.IcebergSparkSessionExtensions\",\n    \"spark.sql.catalog.azure-docs\": \"org.apache.iceberg.spark.SparkCatalog\",\n    \"spark.sql.catalog.azure-docs.type\": \"rest\",\n    \"spark.sql.catalog.azure-docs.uri\": \"http://localhost:8181/catalog\",\n    \"spark.sql.catalog.azure-docs.credential\": \"&lt;Client-ID of App 3 (spark)&gt;:&lt;Client-Secret of App 3 (spark)&gt;\",\n    \"spark.sql.catalog.azure-docs.warehouse\": \"&lt;warehouse name&gt;\",\n    \"spark.sql.catalog.azure-docs.scope\": \"email openid api://&lt;Client-ID of App 2 (lakekeeper)&gt;/.default\",\n    \"spark.sql.catalog.azure-docs.oauth2-server-uri\": \"https://login.microsoftonline.com/&lt;Tenant ID&gt;/oauth2/v2.0/token\",\n}\nconfig = pyspark.SparkConf().setMaster(\"local\")\n\nfor k, v in conf.items():\n    config = config.set(k, v)\n\nspark = pyspark.sql.SparkSession.builder.config(conf=config).getOrCreate()\n\ntry:\n    spark.sql(\"USE `azure-docs2`\")\nexcept Exception as e:\n    print(e.stackTrace)\n    raise e\nspark.sql(\"CREATE NAMESPACE IF NOT EXISTS `test`\")\nspark.sql(\"CREATE OR REPLACE TABLE `test`.`test_tbl` AS SELECT 1 a\")\n</code></pre> <p>If Authorization is enabled, the client will throw an error as no permissions have been granted yet. During this initial connect to the <code>/config</code> endpoint of Lakekeeper, the user is automatically provisioned so that it should show up when searching for users in the \"Grant\" dialog and user search endpoints. While we try to extract the name of the application from its token, this might not be possible in all setups. As a fallback we use the <code>Client ID</code> as the name of the user. Once permissions have been granted, the user is able to perform actions.</p>"}, {"location": "docs/latest/authentication/#kubernetes", "title": "Kubernetes", "text": "<p>If <code>LAKEKEEPER__ENABLE_KUBERNETES_AUTHENTICATION</code> is set to true, Lakekeeper validates incoming tokens against the default kubernetes context of the system. Lakekeeper uses the <code>TokenReview</code> to determine the validity of a token. By default the <code>TokenReview</code> resource is protected. When deploying Lakekeeper on Kubernetes, make sure to grant the <code>system:auth-delegator</code> Cluster Role to the service account used by Lakekeeper:</p> <p><pre><code>apiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  name: allow-token-review\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: system:auth-delegator\nsubjects:\n- kind: ServiceAccount\n  name: &lt;lakekeeper-serviceaccount&gt;\n  namespace: &lt;lakekeeper-namespace&gt;\n</code></pre> The Lakekeeper Helm Chart creates the required binding by default.</p>"}, {"location": "docs/latest/authorization/", "title": "Authorization", "text": "<p>Authorization can only be enabled if Authentication is set up. Please check the Authentication Docs for more information.</p> <p>Lakekeeper's default permission model uses the CNCF project OpenFGA to store and evaluate permissions. OpenFGA enables a powerful permission model with bi-directional inheritance, essential for managing modern lakehouses with hierarchical namespaces. Our model balances usability and control for administrators.</p> <p>Please check the Authorization Configuration for details on enabling Authorization with Lakekeeper.</p>"}, {"location": "docs/latest/authorization/#grants", "title": "Grants", "text": "<p>The default permission model is focused on collaborating on data. Permissions are additive. The underlying OpenFGA model is defined in <code>schema.fga</code> on Github. The following grants are available:</p> Entity Grant server admin, operator project project_admin, security_admin, data_admin, role_creator, describe, select, create, modify warehouse ownership, pass_grants, manage_grants, describe, select, create, modify namespace ownership, pass_grants, manage_grants, describe, select, create, modify table ownership, pass_grants, manage_grants, describe, select, modify view ownership, pass_grants, manage_grants, describe, modify role assignee, ownership"}, {"location": "docs/latest/authorization/#ownership", "title": "Ownership", "text": "<p>Owners of objects have all rights on the specific object. When principals create new objects, they automatically become owners of these objects. This enables powerful self-service szenarios where users can act autonomously in a (sub-)namespace. By default, Owners of objects are also able to access grants on objects, which enables them to expand the access to their owned objects to new users. Enabling Managed Access for a Warehouse or Namespace removes the <code>grant</code> privilege from owners.</p>"}, {"location": "docs/latest/authorization/#server-admin", "title": "Server: Admin", "text": "<p>A <code>server</code>'s <code>admin</code> role is the most powerful role (apart from <code>operator</code>) on the server. In order to guarantee auditability, this role can list and administrate all Projects, but does not have access to data in projects. While the <code>admin</code> can assign himself the <code>project_admin</code> role for a project, this assignment is tracked by <code>OpenFGA</code> for audits. <code>admin</code>s can also manage all projects (but no entities within it), server settings and users.</p>"}, {"location": "docs/latest/authorization/#server-operator", "title": "Server: Operator", "text": "<p>The <code>operator</code> has unrestricted access to all objects in Lakekeeper. It is designed to be used by technical users (e.g., a Kubernetes Operator) managing the Lakekeeper deployment.</p>"}, {"location": "docs/latest/authorization/#project-security-admin", "title": "Project: Security Admin", "text": "<p>A <code>security_admin</code> in a project can manage all security-related aspects, including grants and ownership for the project and all objects within it. However, they cannot modify or access the content of any object, except for listing and browsing purposes.</p>"}, {"location": "docs/latest/authorization/#project-data-admin", "title": "Project: Data Admin", "text": "<p>A <code>data_admin</code> in a project can manage all data-related aspects, including creating, modifying, and deleting objects within the project. However, they cannot grant privileges or manage ownership.</p>"}, {"location": "docs/latest/authorization/#project-admin", "title": "Project: Admin", "text": "<p>A <code>project_admin</code> in a project has the combined responsibilities of both <code>security_admin</code> and <code>data_admin</code>. They can manage all security-related aspects, including grants and ownership, as well as all data-related aspects, including creating, modifying, and deleting objects within the project.</p>"}, {"location": "docs/latest/authorization/#project-role-creator", "title": "Project: Role Creator", "text": "<p>A <code>role_creator</code> in a project can create new roles within it. This role is essential for delegating the creation of roles without granting broader administrative privileges.</p>"}, {"location": "docs/latest/authorization/#describe", "title": "Describe", "text": "<p>The <code>describe</code> grant allows a user to view metadata and details about an object without modifying it. This includes listing objects and viewing their properties. The <code>describe</code> grant is inherited down the object hierarchy, meaning if a user has the <code>describe</code> grant on a higher-level entity, they can also describe all child entities within it. The <code>describe</code> grant is implicitly included with the <code>select</code>, <code>create</code>, and <code>modify</code> grants.</p>"}, {"location": "docs/latest/authorization/#select", "title": "Select", "text": "<p>The <code>select</code> grant allows a user to read data from an object, such as tables or views. This includes querying and retrieving data. The <code>select</code> grant is inherited down the object hierarchy, meaning if a user has the <code>select</code> grant on a higher-level entity, they can select all views and tables within it. The <code>select</code> grant implicitly includes the <code>describe</code> grant.</p>"}, {"location": "docs/latest/authorization/#create", "title": "Create", "text": "<p>The <code>create</code> grant allows a user to create new objects within an entity, such as tables, views, or namespaces. The <code>create</code> grant is inherited down the object hierarchy, meaning if a user has the <code>create</code> grant on a higher-level entity, they can also create objects within all child entities. The <code>create</code> grant implicitly includes the <code>describe</code> grant.</p>"}, {"location": "docs/latest/authorization/#modify", "title": "Modify", "text": "<p>The <code>modify</code> grant allows a user to change the content or properties of an object, such as updating data in tables or altering views. The <code>modify</code> grant is inherited down the object hierarchy, meaning if a user has the <code>modify</code> grant on a higher-level entity, they can also modify all child entities within it. The <code>modify</code> grant implicitly includes the <code>select</code> and <code>describe</code> grants.</p>"}, {"location": "docs/latest/authorization/#pass-grants", "title": "Pass Grants", "text": "<p>The <code>pass_grants</code> grant allows a user to pass their own privileges to other users. This means that if a user has certain permissions on an object, they can grant those same permissions to others. However, the <code>pass_grants</code> grant does not include the ability to pass the <code>pass_grants</code> privilege itself.</p>"}, {"location": "docs/latest/authorization/#manage-grants", "title": "Manage Grants", "text": "<p>The <code>manage_grants</code> grant allows a user to manage all grants on an object, including creating, modifying, and revoking grants. This also includes <code>manage_grants</code> and <code>pass_grants</code>.</p>"}, {"location": "docs/latest/authorization/#inheritance", "title": "Inheritance", "text": "<ul> <li>To-Down-Inheritance: Permissions in higher up entities are inherited to their children. For example if the <code>modify</code> privilege is granted on a <code>warehouse</code> for a principal, this principal is also able to <code>modify</code> any namespaces, including nesting ones, tables and views within it.</li> <li>Bottom-Up-Inheritance: Permissions on lower entities, for example tables, inherit basic navigational privileges to all higher layer principals. For example, if a user is granted the <code>select</code> privilege on table <code>ns1.ns2.table_1</code>, that user is implicitly granted limited list privileges on <code>ns1</code> and <code>ns2</code>. Only items in the direct path are presented to users. If <code>ns1.ns3</code> would exist as well, a list on <code>ns1</code> would only show <code>ns1.ns2</code>.</li> </ul>"}, {"location": "docs/latest/authorization/#managed-access", "title": "Managed Access", "text": "<p>Managed access is a feature designed to provide stricter control over access privileges within Lakekeeper. It is particularly useful for organizations that require a more restrictive access control model to ensure data security and compliance.</p> <p>In some cases, the default ownership model, which grants all privileges to the creator of an object, can be too permissive. This can lead to situations where non-admin users unintentionally share data with unauthorized users by granting privileges outside the scope defined by administrators. Managed access addresses this concern by removing the <code>grant</code> privilege from owners and centralizing the management of access privileges.</p> <p>With managed access, admin-like users can define access privileges on high-level container objects, such as warehouses or namespaces, and ensure that all child objects inherit these privileges. This approach prevents non-admin users from granting privileges that are not authorized by administrators, thereby reducing the risk of unintentional data sharing and enhancing overall security.</p> <p>Managed access combines elements of Role-Based Access Control (RBAC) and Discretionary Access Control (DAC). While RBAC allows privileges to be assigned to roles and users, DAC assigns ownership to the creator of an object. By integrating managed access, Lakekeeper provides a balanced access control model that supports both self-service analytics and data democratization while maintaining strict security controls.</p> <p>Managed access can be enabled or disabled for warehouses and namespaces using the UI or the <code>../managed-access</code> Endpoints. Managed access settings are inherited down the object hierarchy, meaning if managed access is enabled on a higher-level entity, it applies to all child entities within it.</p>"}, {"location": "docs/latest/authorization/#best-practices", "title": "Best Practices", "text": "<p>We recommend separating access to data from the ability to grant privileges. To achieve this, the <code>security_admin</code> and <code>data_admin</code> roles divide the responsibilities of the initial <code>project_admin</code>, who has the authority to perform tasks in both areas.</p>"}, {"location": "docs/latest/bootstrap/", "title": "Bootstrap / Initialize", "text": "<p>After the initial deployment, Lakekeeper needs to be bootstrapped. This can be done via the UI or the <code>/management/v1/bootstrap</code> endpoint. A typical POST request to bootstrap Lakekeeper looks like this:</p> <pre><code>curl --location 'https://&lt;lakekeeper-url&gt;/management/v1/bootstrap' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer &lt;my-bearer-token&gt;' \\\n--data '{\n    \"accept-terms-of-use\": true\n}'\n</code></pre> <p><code>&lt;my-bearer-token&gt;</code> is obtained by logging into the IdP before bootstrapping Lakekeeper. If authentication is disabled, no token is required. Lakekeeper can only be bootstrapped once.</p> <p>During bootstrapping, Lakekeeper performs the following actions:</p> <ul> <li>Grants the server's <code>admin</code> role to the user performing the POST request. The user is identified by their token. If authentication is disabled, the <code>Authorization</code> header is not required, and no <code>admin</code> is set, as permissions are disabled in this case.</li> <li>Stores the current Server ID to prevent unwanted future changes that would break permissions.</li> <li>Accepts terms of use as defined by our License.</li> </ul> <p>If the initial user is a technical user (e.g., a Kubernetes Operator) managing the Lakekeeper deployment, the <code>admin</code> role might not be sufficient as it limits access to projects until the <code>admin</code> grants themselves permission. For technical users, the <code>operator</code> role grants full access to all APIs and can be obtained by adding <code>\"is-operator\": true</code> to the JSON body of the bootstrap request.</p>"}, {"location": "docs/latest/concepts/", "title": "Concepts", "text": ""}, {"location": "docs/latest/concepts/#architecture", "title": "Architecture", "text": "<p>Lakekeeper is an implementation of the Apache Iceberg REST Catalog API.  Lakekeeper depends on the following, partially optional, external dependencies:</p> Connected systems. Green boxes are recommended for production. <ul> <li>Persistence Backend / Catalog (required): We currently support only Postgres, but plan to expand our support to more Databases in the future.</li> <li>Warehouse Storage (required): When a new Warehouse is created, storage credentials are required.</li> <li>Identity Provider (optional): Lakekeeper can authenticate incoming requests using any OIDC capable Identity Provider (IdP). Lakekeeper can also natively authenticate kubernetes service accounts.</li> <li>Authorization System (optional): For permission management, Lakekeeper uses the wonderful OpenFGA Project. OpenFGA is automatically deployed in our docker-compose and helm installations. Authorization can only be used if Lakekeeper is connected to an Identity Provider.</li> <li>Secret Store (optional): By default, Lakekeeper stores all secrets (i.e. S3 access credentials) encrypted in the Persistence Backend. To increase security, Lakekeeper can also use external systems to store secrets. Currently all Hashicorp-Vault like stores are supported.</li> <li>Event Store (optional): Lakekeeper can send Change Events to an Event Store. Currently Nats is supported, we are working on support for Apache Kafka</li> <li>Data Contract System (optional): Lakekeeper can interface with external data contract systems to prohibit breaking changes to your tables.</li> </ul> <p>To get started quickly with the latest version of Lakekeeper check our Getting Started Guide.</p>"}, {"location": "docs/latest/concepts/#entity-hierarchy", "title": "Entity Hierarchy", "text": "<p>In addition to entities defined in the Apache Iceberg specification or the REST specification (Namespaces, Tables, etc.), Lakekeeper introduces new entities for permission management and multi-tenant setups. The following entities are available in Lakekeeper:</p> <p></p> Lakekeeper Entity Hierarchy <p></p> <p>Project, Server, User and Roles are entities unknown to the Iceberg Rest Specification. Lakekeeper serves two APIs:</p> <ol> <li>The Iceberg REST API is served at endpoints prefixed with <code>/catalog</code>. External query engines connect to this API to interact with the Lakekeeper. Lakekeeper also implements the S3 remote signing API which is hosted at <code>/&lt;warehouse-id&gt;/v1/aws/s3/sign</code>.</li> <li>The Lakekeeper Management API is served at endpoints prefixed with <code>/management</code>. It is used to configure Lakekeeper and manage entities that are not part of the Iceberg REST Catalog specification, such as permissions.</li> </ol>"}, {"location": "docs/latest/concepts/#server", "title": "Server", "text": "<p>The Server is the highest entity in Lakekeeper, representing a single instance or a cluster of Lakekeeper pods sharing a common state. Each server has a unique identifier (UUID). By default, this <code>Server ID</code> is set to <code>00000000-0000-0000-0000-000000000000</code>. It can be changed by setting the <code>LAKEKEEPER__SERVER_ID</code> environment variable. We recommend to not set the <code>Server ID</code> explicitly, unless multiple Lakekeeper instances share a single Authorization system. The <code>Server ID</code> must not be changed after the initial bootstrapping or permissions might not work.</p>"}, {"location": "docs/latest/concepts/#project", "title": "Project", "text": "<p>For single-company setups, we recommend using a single Project setup, which is the default. Unless <code>LAKEKEEPER__ENABLE_DEFAULT_PROJECT</code> is explicitly set to <code>false</code>, a default project is created during bootstrapping with the nil UUID.</p>"}, {"location": "docs/latest/concepts/#warehouse", "title": "Warehouse", "text": "<p>Each Project can contain multiple Warehouses. Query engines connect to Lakekeeper by specifying a Warehouse name in the connection configuration.</p> <p>Each Warehouse is associated with a unique location on object stores. Never share locations between Warehouses to ensure no data is leaked via vended credentials. Each Warehouse stores information on how to connect to its location via a <code>storage-profile</code> and an optional <code>storage-credential</code>.</p> <p>Warehouses can be configured to use Soft-Deletes. When enabled, tables are not eagerly deleted but kept in a deleted state for a configurable amount of time. During this time, they can be restored. Please note that Warehouses and Namespaces cannot be deleted via the <code>/catalog</code> API if child objects are present. This includes soft-deleted Tables. A cascade-drop API is added in one of the next releases as part of the <code>/management</code> API.</p>"}, {"location": "docs/latest/concepts/#namespaces", "title": "Namespaces", "text": "<p>Each Warehouses can contain multiple Namespaces. Namespaces can be nested and serve as containers for Namespaces, Tables and Views. Using the <code>/catalog</code> API, a Namespace cannot be dropped unless it is empty. A cascade-drop API is added in one of the next releases as part of the <code>/management</code> API.</p>"}, {"location": "docs/latest/concepts/#tables-views", "title": "Tables &amp; Views", "text": "<p>Each Namespace can contain multiple Tables and Views. When creating new Tables and Views, we recommend to not specify the <code>location</code> explicitly. If locations are specified explicitly, the location must be a valid sub location of the <code>storage-profile</code> of the Warehouse - this is validated by Lakekeeper upon creation. Lakekeeper also ensures that there are no Tables or Views that use a parent- or sub-folder as their <code>location</code> and that the location is empty on creation. These checks are required to ensure that no data is leaked via vended-credentials.</p>"}, {"location": "docs/latest/concepts/#users", "title": "Users", "text": "<p>Lakekeeper is no Identity Provider. The identities of users are exclusively managed via an external Identity Provider to ensure compliance with basic security standards. Lakekeeper does not store any Password / Certificates / API Keys or any other secret that grants access to data for users. Instead, we only store Name, Email and type of users with the sole purpose of providing a convenient search while assigning privileges.</p> <p>Users can be provisioned to Lakekeeper by either of the following endpoints:</p> <ul> <li>Explicit user creation via the POST <code>/management/user</code> endpoint. This endpoint is called automatically by the UI upon login. Thus, users are \"searchable\" after their first login to the UI.</li> <li>Implicit on-the-fly creation when calling GET <code>/catalog/v1/config</code>. This can be used to register technical users simply by connecting to the Lakekeeper with your favorite tool (i.e. Spark). The initial connection will probably fail because privileges are missing to use this endpoint, but the user is provisioned anyway so that privileges can be assigned before re-connecting.</li> </ul>"}, {"location": "docs/latest/concepts/#roles", "title": "Roles", "text": "<p>Projects can contain multiple Roles, allowing Roles to be reused in all Warehouses within the Project. Roles can be nested arbitrarily, meaning that a role can contain other roles within it. Roles can be provisioned automatically using the <code>/management/v1/role</code> endpoint or manually created via the UI. We are looking into SCIM support to simplify role provisioning. Please consider upvoting the corresponding Github Issue if this would be of interest to you.</p>"}, {"location": "docs/latest/concepts/#dropping-tables", "title": "Dropping Tables", "text": "<p>Currently all tables stored in Lakekeeper are assumed to be managed by Lakekeeper. The concept of \"external\" tables will follow in a later release. When managed tables are dropped, Lakekeeper removes all files of these tables in the storage.</p>"}, {"location": "docs/latest/concepts/#soft-deletion", "title": "Soft Deletion", "text": "<p>In Lakekeeper, warehouses can enable soft deletion. If soft deletion is enabled for a warehouse, when a table or view is dropped, it is not immediately deleted from the catalog. Instead, it is marked as dropped and a job for its cleanup is scheduled. The table is then deleted after the warehouse specific expiration delay has passed. This will allow for a recovery of tables that have been dropped by accident. \"Undropping\" a table is only possible if soft-deletes are enabled for a Warehouse.</p> <p>The undropping Endpoint is going to be release in Lakekeeper 0.6.0.</p>"}, {"location": "docs/latest/concepts/#migration", "title": "Migration", "text": "<p>Migration is a crucial step that must be performed before starting the Lakekeeper. It initializes the persistent backend storage and, if enabled, the authorization system. </p> <p>For each Lakekeeper update, migration must be executed before the <code>serve</code> command can be called. This ensures that all necessary updates and configurations are applied to the system. It is possible to skip Lakekeeper versions during migration.</p>"}, {"location": "docs/latest/configuration/", "title": "Configuration", "text": "<p>Lakekeeper is configured via environment variables. Settings listed in this page are shared between all projects and warehouses. Previous to Lakekeeper Version <code>0.5.0</code> please prefix all environment variables with <code>ICEBERG_REST__</code> instead of <code>LAKEKEEPER__</code>.</p> <p>For most deployments, we recommend to set at least the following variables: <code>LAKEKEEPER__BASE_URI</code>, <code>LAKEKEEPER__PG_DATABASE_URL_READ</code>, <code>LAKEKEEPER__PG_DATABASE_URL_WRITE</code>, <code>LAKEKEEPER__PG_ENCRYPTION_KEY</code>.</p>"}, {"location": "docs/latest/configuration/#general", "title": "General", "text": "Variable Example Description <code>LAKEKEEPER__BASE_URI</code> <code>https://example.com:8181</code> Base URL where the catalog is externally reachable. Default: <code>https://localhost:8181</code> <code>LAKEKEEPER__ENABLE_DEFAULT_PROJECT</code> <code>true</code> If <code>true</code>, the NIL Project ID (\"00000000-0000-0000-0000-000000000000\") is used as a default if the user does not specify a project when connecting. This option is enabled by default, which we recommend for all single-project (single-tenant) setups. Default: <code>true</code>. <code>LAKEKEEPER__RESERVED_NAMESPACES</code> <code>system,examples,information_schema</code> Reserved Namespaces that cannot be created via the REST interface <code>LAKEKEEPER__METRICS_PORT</code> <code>9000</code> Port where the Prometheus metrics endpoint is reachable. Default: <code>9000</code> <code>LAKEKEEPER__LISTEN_PORT</code> <code>8181</code> Port the Lakekeeper listens on. Default: <code>8181</code> <code>LAKEKEEPER__SECRET_BACKEND</code> <code>postgres</code> The secret backend to use. If <code>kv2</code> (Hashicorp KV Version 2) is chosen, you need to provide additional parameters Default: <code>postgres</code>, one-of: [<code>postgres</code>, <code>kv2</code>] <code>LAKEKEEPER__ALLOW_ORIGIN</code> <code>*</code> A comma separated list of allowed origins for CORS."}, {"location": "docs/latest/configuration/#persistence-store", "title": "Persistence Store", "text": "<p>Currently Lakekeeper supports only Postgres as a persistence store. You may either provide connection strings using <code>PG_DATABASE_URL_READ</code> or use the <code>PG_*</code> environment variables. Connection strings take precedence:</p> Variable Example Description <code>LAKEKEEPER__PG_DATABASE_URL_READ</code> <code>postgres://postgres:password@localhost:5432/iceberg</code> Postgres Database connection string used for reading. Defaults to <code>LAKEKEEPER__PG_DATABASE_URL_WRITE</code>. <code>LAKEKEEPER__PG_DATABASE_URL_WRITE</code> <code>postgres://postgres:password@localhost:5432/iceberg</code> Postgres Database connection string used for writing. <code>LAKEKEEPER__PG_ENCRYPTION_KEY</code> <code>This is unsafe, please set a proper key</code> If <code>LAKEKEEPER__SECRET_BACKEND=postgres</code>, this key is used to encrypt secrets. It is required to change this for production deployments. <code>LAKEKEEPER__PG_READ_POOL_CONNECTIONS</code> <code>10</code> Number of connections in the read pool <code>LAKEKEEPER__PG_WRITE_POOL_CONNECTIONS</code> <code>5</code> Number of connections in the write pool <code>LAKEKEEPER__PG_HOST_R</code> <code>localhost</code> Hostname for read operations. Defaults to <code>LAKEKEEPER__PG_HOST_W</code>. <code>LAKEKEEPER__PG_HOST_W</code> <code>localhost</code> Hostname for write operations <code>LAKEKEEPER__PG_PORT</code> <code>5432</code> Port number <code>LAKEKEEPER__PG_USER</code> <code>postgres</code> Username for authentication <code>LAKEKEEPER__PG_PASSWORD</code> <code>password</code> Password for authentication <code>LAKEKEEPER__PG_DATABASE</code> <code>iceberg</code> Database name <code>LAKEKEEPER__PG_SSL_MODE</code> <code>require</code> SSL mode (disable, allow, prefer, require) <code>LAKEKEEPER__PG_SSL_ROOT_CERT</code> <code>/path/to/root/cert</code> Path to SSL root certificate <code>LAKEKEEPER__PG_ENABLE_STATEMENT_LOGGING</code> <code>true</code> Enable SQL statement logging <code>LAKEKEEPER__PG_TEST_BEFORE_ACQUIRE</code> <code>true</code> Test connections before acquiring from the pool <code>LAKEKEEPER__PG_CONNECTION_MAX_LIFETIME</code> <code>1800</code> Maximum lifetime of connections in seconds"}, {"location": "docs/latest/configuration/#vault-kv-version-2", "title": "Vault KV Version 2", "text": "<p>Configuration parameters if a Vault KV version 2 (i.e. Hashicorp Vault) compatible storage is used as a backend. Currently, we only support the <code>userpass</code> authentication method. Configuration may be passed as single values like <code>LAKEKEEPER__KV2__URL=http://vault.local</code> or as a compound value: <code>LAKEKEEPER__KV2='{url=\"http://localhost:1234\", user=\"test\", password=\"test\", secret_mount=\"secret\"}'</code></p> Variable Example Description <code>LAKEKEEPER__KV2__URL</code> <code>https://vault.local</code> URL of the KV2 backend <code>LAKEKEEPER__KV2__USER</code> <code>admin</code> Username to authenticate against the KV2 backend <code>LAKEKEEPER__KV2__PASSWORD</code> <code>password</code> Password to authenticate against the KV2 backend <code>LAKEKEEPER__KV2__SECRET_MOUNT</code> <code>kv/data/iceberg</code> Path to the secret mount in the KV2 backend"}, {"location": "docs/latest/configuration/#task-queues", "title": "Task queues", "text": "<p>Lakekeeper uses task queues internally to remove soft-deleted tabulars and purge tabular files. The following global configuration options are available:</p> Variable Example Description <code>LAKEKEEPER__QUEUE_CONFIG__MAX_RETRIES</code> 5 Number of retries before a task is considered failed  Default: 5 <code>LAKEKEEPER__QUEUE_CONFIG__MAX_AGE</code> 3600 Amount of seconds before a task is considered stale and could be picked up by another worker. Default: 3600 <code>LAKEKEEPER__QUEUE_CONFIG__POLL_INTERVAL</code> 10 Amount of seconds between polling for new tasks. Default: 10"}, {"location": "docs/latest/configuration/#nats", "title": "Nats", "text": "<p>Lakekeeper can publish change events to Nats (Kafka is coming soon). The following configuration options are available:</p> Variable Example Description <code>LAKEKEEPER__NATS_ADDRESS</code> <code>nats://localhost:4222</code> The URL of the NATS server to connect to <code>LAKEKEEPER__NATS_TOPIC</code> <code>iceberg</code> The subject to publish events to <code>LAKEKEEPER__NATS_USER</code> <code>test-user</code> User to authenticate against nats, needs <code>LAKEKEEPER__NATS_PASSWORD</code> <code>LAKEKEEPER__NATS_PASSWORD</code> <code>test-password</code> Password to authenticate against nats, needs <code>LAKEKEEPER__NATS_USER</code> <code>LAKEKEEPER__NATS_CREDS_FILE</code> <code>/path/to/file.creds</code> Path to a file containing nats credentials <code>LAKEKEEPER__NATS_TOKEN</code> <code>xyz</code> Nats token to use for authentication"}, {"location": "docs/latest/configuration/#authentication", "title": "Authentication", "text": "<p>To prohibit unwanted access to data, we recommend to enable Authentication.</p> <p>Authentication is enabled if:</p> <ul> <li><code>LAKEKEEPER__OPENID_PROVIDER_URI</code> is set OR</li> <li><code>LAKEKEEPER__ENABLE_KUBERNETES_AUTHENTICATION</code> is set to true</li> </ul> <p>External OpenID and Kubernetes Authentication can also be enabled together. If <code>LAKEKEEPER__OPENID_PROVIDER_URI</code> is specified, Lakekeeper will  verify access tokens against this provider. The provider must provide the <code>.well-known/openid-configuration</code> endpoint and the openid-configuration needs to have <code>jwks_uri</code> and <code>issuer</code> defined. </p> <p>Typical values for <code>LAKEKEEPER__OPENID_PROVIDER_URI</code> are:</p> <ul> <li>Keycloak: <code>https://keycloak.local/realms/{your-realm}</code></li> <li>Entra-ID: <code>https://login.microsoftonline.com/{your-tenant-id-here}/v2.0/</code></li> </ul> <p>Please check the Authentication Guide for more details.</p> Variable Example Description <code>LAKEKEEPER__OPENID_PROVIDER_URI</code> <code>https://keycloak.local/realms/{your-realm}</code> OpenID Provider URL. <code>LAKEKEEPER__OPENID_AUDIENCE</code> <code>the-client-id-of-my-app</code> If set, the <code>aud</code> of the provided token must match the value provided. Multiple allowed audiences can be provided as a comma separated list. <code>LAKEKEEPER__OPENID_ADDITIONAL_ISSUERS</code> <code>https://sts.windows.net/&lt;Tenant&gt;/</code> A comma separated list of additional issuers to trust. The issuer defined in the <code>issuer</code> field of the <code>.well-known/openid-configuration</code> is always trusted. <code>LAKEKEEPER__OPENID_ADDITIONAL_ISSUERS</code> has no effect if <code>LAKEKEEPER__OPENID_PROVIDER_URI</code> is not set. <code>LAKEKEEPER__ENABLE_KUBERNETES_AUTHENTICATION</code> true If true, kubernetes service accounts can authenticate to Lakekeeper. This option is compatible with <code>LAKEKEEPER__OPENID_PROVIDER_URI</code> - multiple IdPs (OIDC and Kubernetes) can be enabled simultaneously."}, {"location": "docs/latest/configuration/#authorization", "title": "Authorization", "text": "<p>Authorization is only effective if Authentication is enabled.</p> Variable Example Description <code>LAKEKEEPER__AUTHZ_BACKEND</code> <code>allowall</code> The authorization backend to use. If <code>openfga</code> is chosen, you need to provide additional parameters. The <code>allowall</code> backend disables authorization - authenticated users can access all endpoints. Default: <code>allowall</code>, one-of: [<code>openfga</code>, <code>allowall</code>] <code>LAKEKEEPER__OPENFGA__ENDPOINT</code> <code>http://localhost:35081</code> OpenFGA Endpoint (gRPC). <code>LAKEKEEPER__OPENFGA__STORE_NAME</code> <code>lakekeeper</code> The OpenFGA Store to use. Default: <code>lakekeeper</code> <code>LAKEKEEPER__OPENFGA__API_KEY</code> <code>my-api-key</code> The API Key used for Pre-shared key authentication to OpenFGA. If <code>LAKEKEEPER__OPENFGA__CLIENT_ID</code> is set, the API Key is ignored. If neither API Key nor Client ID is specified, no authentication is used. <code>LAKEKEEPER__OPENFGA__CLIENT_ID</code> <code>12345</code> The Client ID to use for Authenticating if OpenFGA is secured via OIDC. <code>LAKEKEEPER__OPENFGA__CLIENT_SECRET</code> <code>abcd</code> Client Secret for the Client ID. <code>LAKEKEEPER__OPENFGA__TOKEN_ENDPOINT</code> <code>https://keycloak.example.com/realms/master/protocol/openid-connect/token</code> Token Endpoint to use when exchanging client credentials for an access token for OpenFGA. Required if Client ID is set"}, {"location": "docs/latest/configuration/#ui", "title": "UI", "text": "<p>When using the built-in UI which is hosted as part of the Lakekeeper binary, most values are pre-set with the corresponding values of Lakekeeper itself. Customization is typically required if Authentication is enabled. Please check the Authentication guide for more information.</p> Variable Example Description <code>LAKEKEEPER__UI__OPENID_PROVIDER_URI</code> <code>https://keycloak.local/realms/{your-realm}</code> OpenID provider URI used for login in the UI. Defaults to <code>LAKEKEEPER__OPENID_PROVIDER_URI</code>. Set this only if the IdP is reachable under a different URI from the users browser and lakekeeper. <code>LAKEKEEPER__UI__OPENID_CLIENT_ID</code> <code>lakekeeper-ui</code> Client ID to use for the Authorization Code Flow of the UI. Required if Authentication is enabled. <code>LAKEKEEPER__UI__OPENID_REDIRECT_PATH</code> <code>/callback</code> Path where the UI receives the callback including the tokens from the users browser. Defaults to: <code>/callback</code> <code>LAKEKEEPER__UI__OPENID_SCOPE</code> <code>openid email</code> Scopes to request from the IdP. If supported by the IdP, we recommend setting at least <code>openid email</code> <code>LAKEKEEPER__UI__OPENID_RESOURCE</code> <code>lakekeeper-api</code> Resources to request from the IdP. <code>LAKEKEEPER__UI__OPENID_POST_LOGOUT_REDIRECT_PATH</code> <code>/logout</code> Path the UI calls when users are logged out from the IdP."}, {"location": "docs/latest/configuration/#ssl-dependencies", "title": "SSL Dependencies", "text": "<p>You may be running Lakekeeper in your own environment which uses self-signed certificates for e.g. Minio. Lakekeeper is built with reqwest's <code>rustls-tls-native-roots</code> feature activated, this means <code>SSL_CERT_FILE</code> and <code>SSL_CERT_DIR</code> environment variables are respected. If both are not set, the system's default CA store is used. If you want to use a custom CA store, set <code>SSL_CERT_FILE</code> to the path of the CA file or <code>SSL_CERT_DIR</code> to the path of the CA directory. The certificate used by the server cannot be a CA. It needs to be an end entity certificate, else you may run into <code>CaUsedAsEndEntity</code> errors.</p>"}, {"location": "docs/latest/customize/", "title": "Customize", "text": "<p>As Customizability is one of the core features we are missing in other IRC implementations, we try to do things differently. The core implementation of this crate is based on four modules that back the <code>axum</code> service router:</p> <ul> <li><code>Catalog</code> is the interface to the DB backend where Warehouses, Namespaces, Tables and other entities are managed.</li> <li><code>SecretStore</code> is the interface to a secure storage for secrets.</li> <li><code>Authorizer</code> is the interface to the permission system used by Lakekeeper. It may expose its own APIs.</li> <li><code>EventPublisher</code> is the interface to message queues to send change events to.</li> <li><code>ContractValidator</code> allows an external system to prohibit changes to tables if, for example, data contracts are violated</li> <li><code>TaskQueue</code> is the interface to the task store, used to schedule tasks like soft-deletes</li> </ul> <p>All components come pre-implemented, however we encourage you to write custom implementations, for example to seamlessly grant access to tables via your companies Data Governance solution, or publish events to your very important messaging service.</p>"}, {"location": "docs/latest/developer-guide/", "title": "Developer Guide", "text": "<p>All commits to main should go through a PR. CI checks should pass before merging the PR. Before merge commits are squashed. PR titles should follow Conventional Commits.</p>"}, {"location": "docs/latest/developer-guide/#foundation-cla", "title": "Foundation &amp; CLA", "text": "<p>We hate red tape. Currently all committers need to sign the CLA in github. To ensure the future of Lakekeeper, we want to donate the project to a foundation. We are not sure yet if this is going to be Apache, Linux, a Lakekeeper foundation or something else. Currently we prefer to spent our time on adding cool new features to Lakekeeper, but we will revisit this topic during 2026.</p>"}, {"location": "docs/latest/developer-guide/#quickstart", "title": "Quickstart", "text": "<pre><code># start postgres\ndocker run -d --name postgres-15 -p 5432:5432 -e POSTGRES_PASSWORD=postgres postgres:15\n# set envs\necho 'export DATABASE_URL=postgresql://postgres:postgres@localhost:5432/postgres' &gt; .env\necho 'export ICEBERG_REST__PG_ENCRYPTION_KEY=\"abc\"' &gt;&gt; .env\necho 'export ICEBERG_REST__PG_DATABASE_URL_READ=\"postgresql://postgres:postgres@localhost/postgres\"' &gt;&gt; .env\necho 'export ICEBERG_REST__PG_DATABASE_URL_WRITE=\"postgresql://postgres:postgres@localhost/postgres\"' &gt;&gt; .env\nsource .env\n\n# migrate db\ncd crates/iceberg-catalog\nsqlx database create &amp;&amp; sqlx migrate run\ncd ../..\n\n# run tests\ncargo test --all-features --all-targets\n\n# run clippy\ncargo clippy --all-features --all-targets\n</code></pre> <p>This quickstart does not run tests against cloud-storage providers or KV2. For that, please refer to the sections below.</p>"}, {"location": "docs/latest/developer-guide/#developing-with-docker-compose", "title": "Developing with docker compose", "text": "<p>The following shell snippet will start a full development environment including the catalog plus its dependencies and a jupyter server with spark. The iceberg-catalog and its migrations will be built from source. This can be useful for development and testing.</p> <pre><code>$ cd examples\n$ docker-compose -f docker-compose.yaml -f docker-compose-latest.yaml up -d --build\n</code></pre> <p>You may then head to <code>localhost:8888</code> and try out one of the notebooks.</p>"}, {"location": "docs/latest/developer-guide/#working-with-sqlx", "title": "Working with SQLx", "text": "<p>This crate uses sqlx. For development and compilation a Postgres Database is required. You can use Docker to launch one.:</p> <p><pre><code>docker run -d --name postgres-15 -p 5432:5432 -e POSTGRES_PASSWORD=postgres postgres:15\n</code></pre> The <code>crates/iceberg-catalog</code> folder contains a <code>.env.sample</code> File. Copy this file to <code>.env</code> and add your database credentials if they differ.</p> <p>Run:</p> <pre><code>sqlx database create\nsqlx migrate run\n</code></pre>"}, {"location": "docs/latest/developer-guide/#kv2-vault", "title": "KV2 / Vault", "text": "<p>This catalog supports KV2 as backend for secrets. Tests for KV2 are disabled by default. To enable them, you need to run the following commands:</p> <pre><code>docker run -d -p 8200:8200 --cap-add=IPC_LOCK -e 'VAULT_DEV_ROOT_TOKEN_ID=myroot' -e 'VAULT_DEV_LISTEN_ADDRESS=0.0.0.0:8200' hashicorp/vault\n\n# append some more env vars to the .env file, it should already have PG related entries defined above.\n\n# this will enable the KV2 tests\necho 'export TEST_KV2=1' &gt;&gt; .env\n# the values below configure KV2\necho 'export ICEBERG_REST__KV2__URL=\"http://localhost:8200\"' &gt;&gt; .env\necho 'export ICEBERG_REST__KV2__USER=\"test\"' &gt;&gt; .env\necho 'export ICEBERG_REST__KV2__PASSWORD=\"test\"' &gt;&gt; .env\necho 'export ICEBERG_REST__KV2__SECRET_MOUNT=\"secret\"' &gt;&gt; .env\n\nsource .env\n# setup vault\n./tests/vault-setup.sh http://localhost:8200\n\ncargo test --all-features --all-targets\n</code></pre>"}, {"location": "docs/latest/developer-guide/#test-cloud-storage-profiles", "title": "Test cloud storage profiles", "text": "<p>Currently, we're not aware of a good way of testing cloud storage integration against local deployments. That means, in order to test against AWS S3, GCS and ADLS Gen2, you need to set the following environment variables. For more information take a look at the Storage Guide. A sample <code>.env</code> could look like this:</p> <pre><code># TEST_AZURE=&lt;some-value&gt; controls a proc macro which either includes or excludes the azure tests\n# if you compiled without TEST_AZURE, you'll have to change a file or do a cargo clean before rerunning tests. The same applies for the TEST_AWS and TEST_MINIO env vars.\nexport TEST_AZURE=1\nexport AZURE_TENANT_ID=&lt;your tenant id&gt;\nexport AZURE_CLIENT_ID=&lt;your entra id app registration client id&gt;\nexport AZURE_CLIENT_SECRET=&lt;your entra id app registration client secret&gt;\nexport AZURE_STORAGE_ACCOUNT_NAME=&lt;your azure storage account name&gt;\nexport AZURE_STORAGE_FILESYSTEM=&lt;your azure adls filesystem name&gt;\n\nexport TEST_AWS=1\nexport AWS_S3_BUCKET=&lt;your aws s3 bucket&gt;\nexport AWS_S3_REGION=&lt;your aws s3 region&gt;\n# replace with actual values\nexport AWS_S3_ACCESS_KEY_ID=AKIAIOSFODNN7EXAMPLE\nexport AWS_S3_SECRET_ACCESS_KEY=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY\nexport AWS_S3_STS_ROLE_ARN=arn:aws:iam::123456789012:role/role-name\n\n# the values below should work with the default minio in our docker-compose\nexport TEST_MINIO=1\nexport LAKEKEEPER_TEST__S3_BUCKET=tests\nexport LAKEKEEPER_TEST__S3_REGION=local\nexport LAKEKEEPER_TEST__S3_ACCESS_KEY=minio-root-user\nexport LAKEKEEPER_TEST__S3_SECRET_KEY=minio-root-password\nexport LAKEKEEPER_TEST__S3_ENDPOINT=http://localhost:9000\n</code></pre> <p>You may then run a test via:</p> <pre><code>source .example.env-from-above\ncargo test service::storage::s3::test::aws::test_can_validate\n</code></pre>"}, {"location": "docs/latest/developer-guide/#running-integration-test", "title": "Running integration test", "text": "<p>Please check the Integration Test Docs.</p>"}, {"location": "docs/latest/production/", "title": "Production Checklist", "text": "<p>Lakekeeper is the heart of your data platform and needs to integrate deeply with your existing infrastructure such as IdPs. The easiest way to get Lakekeeper to production is our enterprise support. Please find more information on our commercial offerings at lakekeeper.io</p> <p>Please find following some general recommendations for productive setups:</p> <ul> <li>Use an external high-available database as a catalog backend. We recommend using a managed service in your preferred Cloud or host a high available cluster on Kubernetes yourself using your preferred operator. We are using the amazing CloudNativePG internally. Make sure the Database is backed-up regularly.</li> <li>Ensure sure both <code>LAKEKEEPER__PG_DATABASE_URL_READ</code> and <code>LAKEKEEPER__PG_DATABASE_URL_WRITE</code> are set for ideal load distribution. Most postgres deployments specify separate URLs for reading and writing to channel writes to the master while distributing reads across replicas.</li> <li>For high-available setups, ensure that multiple Lakekeeper instances are running on different nodes. We recommend our helm chart for production deployments.</li> <li>Ensure that Authentication is enabled, typically by setting <code>LAKEKEEPER__OPENID_PROVIDER_URI</code> and / or <code>LAKEKEEPER__ENABLE_KUBERNETES_AUTHENTICATION</code>. Check our Authentication Guide for more information.</li> <li>If <code>LAKEKEEPER__OPENID_PROVIDER_URI</code> is set, we recommend to set <code>LAKEKEEPER__OPENID_AUDIENCE</code> as well.</li> <li>If Authorization is desired, follow our Authorization Guide. Ensure that OpenFGA is hosted in close proximity to Lakekeeper - ideally on the same VM or Kubernetes node. In our Helm-Chart we use <code>PodAffinity</code> to achieve this.</li> <li>If the default Postgres secret backend is used, ensure that <code>LAKEKEEPER__PG_ENCRYPTION_KEY</code> is set to a long random string.</li> <li>Ensure that all Warehouses use distinct storage locations / prefixes and distinct credentials that only grant access to the prefix used for a Warehouse.</li> <li>Ensure that SSL / TLS is enabled. Lakekeeper does not terminate connections natively. Please use a reverse proxy like Nginx or Envoy to secure the connection to Lakekeeper. On Kubernetes, any Ingress controller can be used. For high-availability, failover should be handled by the reverse proxy. Lakekeeper exposes a <code>/health</code> endpoint that can be used to determine its current status. If you are using our helm-chart, probes are already built-in.</li> </ul>"}, {"location": "docs/latest/storage/", "title": "Storage", "text": "<p>Storage in Lakekeeper is bound to a Warehouse. Each Warehouse stores data in a location defined by a <code>StorageProfile</code> attached to it.</p> <p>Currently, we support the following storages:</p> <ul> <li>S3 (tested with AWS &amp; Minio)</li> <li>Azure Data Lake Storage Gen 2</li> <li>Google Cloud Storage</li> </ul> <p>When creating a Warehouse or updating storage information, Lakekeeper validates the configuration.</p>"}, {"location": "docs/latest/storage/#s3", "title": "S3", "text": "<p>We support remote signing and vended-credentials with Minio &amp; AWS. Both provide a secure way to access data on S3:</p> <ul> <li>Remote Signing: The client prepares an S3 request and sends its headers to the sign endpoint of Lakekeeper. Lakekeeper checks if the request is allowed, if so, it signs the request with its own credentials, creating additional headers during the process. These additional signing headers are returned to the client, which then contacts S3 directly to perform the operation on files.</li> <li>Vended Credentials: Lakekeeper uses the \"STS\" Endpoint of S3 to generate temporary credentials which are then returned to clients.</li> </ul> <p>Remote signing works natively with all S3 storages that support the default <code>AWS Signature Version 4</code>. This includes almost all S3 solutions on the market today, including Minio, Rook Ceph and others. Vended credentials in turn depend on an additional \"STS\" Endpoint, that is not supported by all S3 implementations. We run our integration tests for vended credentials against Minio and AWS. We recommend to setup vended credentials for all supported stores, remote signing is not supported by all clients.</p>"}, {"location": "docs/latest/storage/#aws", "title": "AWS", "text": "<p>First create a new S3 bucket for the warehouse. Buckets can be re-used for multiple Warehouses as long as the <code>key-prefix</code> is different. We recommend to block all public access.</p> <p>Secondly we need to create an AWS role that can access and delegate access to the bucket. We start by creating a new Policy that allows access to data in the bucket. We call this policy <code>LakekeeperWarehouseDev</code>:</p> <pre><code>{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Sid\": \"ListBuckets\",\n            \"Action\": [\n                \"s3:ListAllMyBuckets\",\n                \"s3:GetBucketLocation\"\n            ],\n            \"Effect\": \"Allow\",\n            \"Resource\": [\n                \"arn:aws:s3:::*\"\n            ]\n        },\n        {\n            \"Sid\": \"ListBucketContent\",\n            \"Action\": [\n                \"s3:ListBucket\"\n            ],\n            \"Effect\": \"Allow\",\n            \"Resource\": \"arn:aws:s3:::lakekeeper-aws-demo\"\n        },\n        {\n            \"Sid\": \"DataAccess\",\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"s3:*\"\n            ],\n            \"Resource\": [\n                \"arn:aws:s3:::lakekeeper-aws-demo/*\"\n            ]\n        }\n    ]\n}\n</code></pre> <p>Now create a new user, we call the user <code>LakekeeperWarehouseDev</code>, and attach the previously created policy. When the user is created, click on \"Security credentials\" and \"Create access key\". Note down the access key and secret key for later use.</p> <p>We are done if we only rely on remote signing. For vended credentials, we need to perform one more step. Create a new role that we call <code>LakekeeperWarehouseDevRole</code>. This role needs to be trusted by the user, which is achieved via with the following trust policy: <pre><code>{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Sid\": \"TrustLakekeeperWarehouseDev\",\n            \"Effect\": \"Allow\",\n            \"Principal\": {\n                \"AWS\": \"arn:aws:iam::&lt;aws-account-id&gt;:user/LakekeeperWarehouseDev\"\n            },\n            \"Action\": \"sts:AssumeRole\"\n        }\n    ]\n}\n</code></pre></p> <p>Also attach the <code>LakekeeperWarehouseDev</code> policy created earlier.</p> <p>We are now ready to create the Warehouse via the UI or REST-API using the following values (make sure to replace everything in <code>&lt;&gt;</code>):</p> <pre><code>{\n    \"warehouse-name\": \"aws_docs\",\n    \"storage-credential\": {\n        \"type\": \"s3\",\n        \"aws-access-key-id\": \"&lt;Access Key of the created user&gt;\",\n        \"aws-secret-access-key\": \"&lt;Secret Key of the created user&gt;\",\n        \"credential-type\": \"access-key\"\n    },\n    \"storage-profile\": {\n        \"type\": \"s3\",\n        \"bucket\": \"&lt;name of the bucket&gt;\",\n        \"region\": \"&lt;region of the bucket&gt;\",\n        \"sts-enabled\": true,\n        \"flavor\": \"aws\",\n        \"key-prefix\": \"lakekeeper-dev-warehouse\",\n        \"sts-role-arn\": \"arn:aws:iam::&lt;aws account id&gt;:role/LakekeeperWarehouseDevRole\"\n    },\n    \"delete-profile\": {\n        \"type\": \"hard\"\n    }\n}\n</code></pre>"}, {"location": "docs/latest/storage/#s3-compatible", "title": "S3 Compatible", "text": "<p>Unlike for AWS, we do not need any special trust-setup for vended credentials / STS with most S3 compatible solutions like Minio. Instead, we just need a bucket and an access key / secret key combination that is able to read and write from it. If <code>sts-role-arn</code> is provided, it is ignored. Make sure to select <code>flavor</code> to have the value <code>s3-compat</code>! This setting should work for most self-hosted S3 solutions.</p> <p>An warehouse create call could look like this:</p> <pre><code>{\n    \"warehouse-name\": \"minio_dev\",\n    \"storage-credential\": {\n        \"type\": \"s3\",\n        \"aws-access-key-id\": \"&lt;Access Key of the created user&gt;\",\n        \"aws-secret-access-key\": \"&lt;Secret Key of the created user&gt;\",\n        \"credential-type\": \"access-key\"\n    },\n    \"storage-profile\": {\n        \"type\": \"s3\",\n        \"bucket\": \"&lt;name of the bucket&gt;\",\n        \"region\": \"local-01\",\n        \"sts-enabled\": true,\n        \"flavor\": \"s3-compat\",\n        \"key-prefix\": \"lakekeeper-dev-warehouse\",\n    },\n    \"delete-profile\": {\n        \"type\": \"hard\"\n    }\n}\n</code></pre>"}, {"location": "docs/latest/storage/#azure-data-lake-storage-gen-2", "title": "Azure Data Lake Storage Gen 2", "text": "<p>To add a Warehouse backed by ADLS, we need two Azure objects: The Storage Account itself and an App Registration which Lakekeeper can use to access it and delegate access to compute engines.</p> <p>Lets start by creating a new \"App Registration\":</p> <ol> <li>Create a new \"App Registration\"<ul> <li>Name: choose any, for this example we choose <code>Lakekeeper Warehouse (Development)</code></li> <li>Redirect URI: Leave empty</li> </ul> </li> <li>When the App Registration is created, select \"Manage\" -&gt; \"Certificates &amp; secrets\" and create a \"New client secret\". Note down the secrets \"Value\".</li> <li>In the \"Overview\" page of the \"App Registration\" note down the <code>Application (client) ID</code> and the <code>Directory (tenant) ID</code>.</li> </ol> <p>Next, we create a new Storage Account. Make sure to select \"Enable hierarchical namespace\" in the \"Advanced\" section. For existing Storage Accounts make sure \"Hierarchical namespace: Enabled\" is shown in the \"Overview\" page. There are no specific requirements otherwise. Note down the name of the storage account. When the storage account is created, we need to grant the correct permissions to the \"App Registration\" and create the filesystem / container where the data is stored:</p> <ol> <li>Open the Storage Account and select \"Data storage\" -&gt; Containers. Add a new Container, we call it <code>warehouse-dev</code>.</li> <li>Next, select \"Access Control (IAM)\" in the left menu and \"Add role assignment\". Grant the <code>Storage Blob Data Contributor</code> and <code>Storage Blob Delegator</code> roles to the <code>Lakekeeper Warehouse (Development)</code> App Registration that we previously created.</li> </ol> <p>We are now ready to create the Warehouse via the UI or the REST API. Use the following information:</p> <ul> <li>client-id: The <code>Application (client) ID</code> of the <code>Lakekeeper Warehouse (Development)</code> App Registration.</li> <li>client-secret: The \"Value\" of the client secret that we noted down previously.</li> <li>tenant-id: The <code>Directory (tenant) ID</code> from the Applications Overview page.</li> <li>account-name: Name of the Storage Account</li> <li>filesystem: Name of the container (that Azure also calls filesystem) previously created. In our example its <code>warehouse-dev</code>.</li> </ul> <p>A POST request to <code>/management/v1/warehouse</code> would expects the following body:</p> <pre><code>{\n  \"warehouse-name\": \"azure_dev\",\n  \"delete-profile\": { \"type\": \"hard\" },\n  \"storage-credential\":\n    {\n      \"client-id\": \"...\",\n      \"client-secret\": \"...\",\n      \"credential-type\": \"client-credentials\",\n      \"tenant-id\": \"...\",\n      \"type\": \"az\",\n    },\n  \"storage-profile\":\n    {\n      \"account-name\": \"...\",\n      \"filesystem\": \"warehouse-dev\",\n      \"type\": \"adls\",\n    },\n}\n</code></pre>"}, {"location": "docs/latest/storage/#gcs", "title": "GCS", "text": "<p>For GCS, the used bucket needs to disable hierarchical namespaces and should have the storage admin role.</p> <p>A sample storage profile could look like this.</p> <pre><code>{\n  \"warehouse-name\": \"gcs_dev\",\n  \"storage-profile\": {\n    \"type\": \"gcs\",\n    \"bucket\": \"...\",\n    \"key-prefix\": \"...\"\n  },\n  \"storage-credential\": {\n    \"type\": \"gcs\",\n    \"credential-type\": \"service-account-key\",\n    \"key\": {\n      \"type\": \"service_account\",\n      \"project_id\": \"example-project-1234\",\n      \"private_key_id\": \"....\",\n      \"private_key\": \"-----BEGIN PRIVATE KEY-----\\n.....\\n-----END PRIVATE KEY-----\\n\",\n      \"client_email\": \"abc@example-project-1234.iam.gserviceaccount.com\",\n      \"client_id\": \"123456789012345678901\",\n      \"auth_uri\": \"https://accounts.google.com/o/oauth2/auth\",\n      \"token_uri\": \"https://oauth2.googleapis.com/token\",\n      \"auth_provider_x509_cert_url\": \"https://www.googleapis.com/oauth2/v1/certs\",\n      \"client_x509_cert_url\": \"https://www.googleapis.com/robot/v1/metadata/x509/abc%example-project-1234.iam.gserviceaccount.com\",\n      \"universe_domain\": \"googleapis.com\"\n    }\n  }\n}\n</code></pre>"}, {"location": "docs/latest/docs/authentication/", "title": "Authentication", "text": "<p>Authentication is crucial for securing access to Lakekeeper. By enabling authentication, you ensure that only authorized users can access and interact with your data. Lakekeeper supports authentication via any OpenID (or OAuth 2) capable identity provider as well as authentication for Kubernetes service accounts, allowing you to integrate with your existing identity providers.</p> <p>Authentication and Authorization are distinct processes in Lakekeeper. Authentication verifies the identity of users, ensuring that only authorized individuals can access the system. This is performed via an Identity Provider (IdP) such as OpenID or Kubernetes. Authorization, on the other hand, determines what authenticated users are allowed to do within the system. Lakekeeper uses OpenFGA to manage and evaluate permissions, providing a robust and flexible authorization model. For more details, see the Authorization guide.</p> <p>Lakekeeper does not issue API-Keys or Client-Credentials itself, as this can introduce multiple security risks. Instead, it relies on external IdPs for authentication, ensuring a secure and centralized management of user identities. This approach minimizes the risk of credential leakage and simplifies the integration with existing security infrastructures.</p>"}, {"location": "docs/latest/docs/authentication/#openid-provider", "title": "OpenID Provider", "text": "<p>Lakekeeper can be configured to integrate with all common identity providers. For best performance, tokens are validated locally against the server keys (<code>jwks_uri</code>). This requires all incoming tokens to be JWT tokens. If you require support for opaque tokens, please upvote the corresponding Github Issue.</p> <p>If <code>LAKEKEEPER__OPENID_PROVIDER_URI</code> is specified, Lakekeeper will  verify access tokens against this provider. The provider must provide the <code>.well-known/openid-configuration</code> endpoint and the openid-configuration needs to have <code>jwks_uri</code> and <code>issuer</code> defined. Optionally, if <code>LAKEKEEPER__OPENID_AUDIENCE</code> is specified, Lakekeeper validates the <code>aud</code> field of the provided token to match the specified value. We recommend to specify the audience in all deployments, so that tokens leaked for other applications in the same IdP cannot be used to access data in Lakekeeper.</p> <p>In the following section we describe common setups for popular IdPs. Please refer to the documentation of your IdP for further information.</p>"}, {"location": "docs/latest/docs/authentication/#entra-id-azure", "title": "Entra-ID (Azure)", "text": "<p>We are creating three App-Registrations: One for Lakekeeper itself, one for the Lakekeeper UI and one for a machine client (Spark) to access Lakekeeper. While App-Registrations can also be shared, the recommended setup we propose here offers more flexibility and best security.</p>"}, {"location": "docs/latest/docs/authentication/#app-1-lakekeeper-ui-application", "title": "App 1: Lakekeeper UI Application", "text": "<ol> <li>Create a new \"App Registration\"<ul> <li>Name: choose any, for this example we choose <code>Lakekeeper-UI</code></li> <li>Redirect URI: Add the URL where the Lakekeeper UI is reachable for the user suffixed by <code>/callback</code>. E.g.: <code>http://localhost:8181/ui/callback</code>. If asked, select type \"Single Page Application (SPA)\".</li> </ul> </li> <li>In the \"Overview\" page of the \"App Registration\" note down the <code>Application (client) ID</code>. Also note the <code>Directory (tenant) ID</code>.</li> </ol>"}, {"location": "docs/latest/docs/authentication/#app-2-lakekeeper-application", "title": "App 2: Lakekeeper Application", "text": "<ol> <li>Create a new \"App Registration\"<ul> <li>Name: choose any, for this example we choose <code>Lakekeeper</code></li> <li>Redirect URI: Leave empty.</li> </ul> </li> <li>When the App Registration is created, select \"Manage\" -&gt; \"Expose an API\" and on the top select \"Add\" beside <code>Application ID URI</code>.  Note down the <code>Application ID URI</code> (should be <code>api://&lt;Client ID&gt;</code>).</li> <li>Still in the \"Expose an API\" menus, select \"Add a Scope\". Fill the fields as follows:<ul> <li>Scope name: lakekeeper</li> <li>Who can consent? Admins and users</li> <li>Admin consent display name: Lakekeeper API</li> <li>Admin consent description: Access Lakekeeper API</li> <li>State: Enabled</li> </ul> </li> <li>After the <code>lakekeeper</code> scope is created, click \"Add a client application\" under the \"Authorized client applications\" headline. Select the previously created scope and paste as <code>Client ID</code> the previously noted ID from App 1.</li> <li>In the \"Overview\" page of the \"App Registration\" note down the <code>Application (client) ID</code>.</li> </ol> <p>We are now ready to deploy Lakekeeper and login via the UI. Set the following environment variables / configurations. We are using one Application to secure the Lakekeeper API and login with UI using public flows (Authorization Code Flow): <pre><code>LAKEKEEPER__BASE_URI=&lt;URI where lakekeeper is reachable, in my example http://localhost:8181&gt;\n// Note the v2.0 at the End of the provider URI!\nLAKEKEEPER__OPENID_PROVIDER_URI=https://login.microsoftonline.com/&lt;Tenant ID&gt;/v2.0\nLAKEKEEPER__OPENID_AUDIENCE=\"api://&lt;Client ID from App 2 (lakekeeper)&gt;\"\nLAKEKEEPER__UI__IDP_CLIENT_ID=\"&lt;Client ID from App 1 (lakekeeper-ui)&gt;\"\nLAKEKEEPER__UI__IDP_SCOPE=\"openid profile api://&lt;Client ID from App 2&gt;/lakekeeper\"\nLAKEKEEPER__OPENID_ADDITIONAL_ISSUERS=\"https://sts.windows.net/&lt;Tenant ID&gt;/\"\n// The additional issuer URL is required as https://login.microsoftonline.com/&lt;Tenant ID&gt;/v2.0/.well-known/openid-configuration\n// shows https://login.microsoftonline.com as the issuer but actually\n// issues tokens for https://sts.windows.net/. This is a well-known\n// problem in Entra ID.\n</code></pre></p> <p>Before continuing with App 2, we recommend to create a Warehouse using any of the supported storages. Please check the Storage Documentation for more information. Without a Warehouse, we won't be able to test App 3.</p>"}, {"location": "docs/latest/docs/authentication/#app-3-machine-user-spark", "title": "App 3: Machine User / Spark", "text": "<ol> <li>Create a new \"App Registration\"<ul> <li>Name: choose any, for this example we choose <code>Spark</code></li> <li>Redirect URI: Leave empty - we are going to use the Client Credential Flow</li> </ul> </li> <li>When the App Registration is created, select \"Manage\" -&gt; \"Certificates &amp; secrets\" and create a \"New client secret\". Note down the secrets \"Value\".</li> </ol> <p>That's it! We can now use the second App Registration to sign into Lakekeeper using Spark or other query engines. A Spark configuration would look like:</p> PyIcebergPySpark <pre><code>import pyiceberg.catalog\nimport pyiceberg.catalog.rest\nimport pyiceberg.typedef\n\ncatalog = pyiceberg.catalog.rest.RestCatalog(\n    name=\"my_catalog_name\",\n    uri=\"http://localhost:8181/catalog\",\n    warehouse=\"&lt;warehouse name&gt;\",\n    credential=\"&lt;Client-ID of App 3 (spark)&gt;:&lt;Client-Secret of App 3 (spark)&gt;\",\n    scope=\"email openid api://&lt;Client-ID of App 2 (lakekeeper)&gt;/.default\",\n    **{\n        \"oauth2-server-uri\": \"https://login.microsoftonline.com/&lt;Tenant ID&gt;/oauth2/v2.0/token\"\n    },\n)\n\nprint(catalog.list_namespaces())\n</code></pre> <pre><code>import pyspark\n\nconf = {\n    \"spark.jars.packages\": \"org.apache.iceberg:iceberg-spark-runtime-3.5_2.12:1.7.0,org.apache.iceberg:iceberg-azure-bundle:1.7.0\",\n    \"spark.sql.extensions\": \"org.apache.iceberg.spark.extensions.IcebergSparkSessionExtensions\",\n    \"spark.sql.catalog.azure-docs\": \"org.apache.iceberg.spark.SparkCatalog\",\n    \"spark.sql.catalog.azure-docs.type\": \"rest\",\n    \"spark.sql.catalog.azure-docs.uri\": \"http://localhost:8181/catalog\",\n    \"spark.sql.catalog.azure-docs.credential\": \"&lt;Client-ID of App 3 (spark)&gt;:&lt;Client-Secret of App 3 (spark)&gt;\",\n    \"spark.sql.catalog.azure-docs.warehouse\": \"&lt;warehouse name&gt;\",\n    \"spark.sql.catalog.azure-docs.scope\": \"email openid api://&lt;Client-ID of App 2 (lakekeeper)&gt;/.default\",\n    \"spark.sql.catalog.azure-docs.oauth2-server-uri\": \"https://login.microsoftonline.com/&lt;Tenant ID&gt;/oauth2/v2.0/token\",\n}\nconfig = pyspark.SparkConf().setMaster(\"local\")\n\nfor k, v in conf.items():\n    config = config.set(k, v)\n\nspark = pyspark.sql.SparkSession.builder.config(conf=config).getOrCreate()\n\ntry:\n    spark.sql(\"USE `azure-docs2`\")\nexcept Exception as e:\n    print(e.stackTrace)\n    raise e\nspark.sql(\"CREATE NAMESPACE IF NOT EXISTS `test`\")\nspark.sql(\"CREATE OR REPLACE TABLE `test`.`test_tbl` AS SELECT 1 a\")\n</code></pre> <p>If Authorization is enabled, the client will throw an error as no permissions have been granted yet. During this initial connect to the <code>/config</code> endpoint of Lakekeeper, the user is automatically provisioned so that it should show up when searching for users in the \"Grant\" dialog and user search endpoints. While we try to extract the name of the application from its token, this might not be possible in all setups. As a fallback we use the <code>Client ID</code> as the name of the user. Once permissions have been granted, the user is able to perform actions.</p>"}, {"location": "docs/latest/docs/authentication/#kubernetes", "title": "Kubernetes", "text": "<p>If <code>LAKEKEEPER__ENABLE_KUBERNETES_AUTHENTICATION</code> is set to true, Lakekeeper validates incoming tokens against the default kubernetes context of the system. Lakekeeper uses the <code>TokenReview</code> to determine the validity of a token. By default the <code>TokenReview</code> resource is protected. When deploying Lakekeeper on Kubernetes, make sure to grant the <code>system:auth-delegator</code> Cluster Role to the service account used by Lakekeeper:</p> <p><pre><code>apiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  name: allow-token-review\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: system:auth-delegator\nsubjects:\n- kind: ServiceAccount\n  name: &lt;lakekeeper-serviceaccount&gt;\n  namespace: &lt;lakekeeper-namespace&gt;\n</code></pre> The Lakekeeper Helm Chart creates the required binding by default.</p>"}, {"location": "docs/latest/docs/authorization/", "title": "Authorization", "text": "<p>Authorization can only be enabled if Authentication is set up. Please check the Authentication Docs for more information.</p> <p>Lakekeeper's default permission model uses the CNCF project OpenFGA to store and evaluate permissions. OpenFGA enables a powerful permission model with bi-directional inheritance, essential for managing modern lakehouses with hierarchical namespaces. Our model balances usability and control for administrators.</p> <p>Please check the Authorization Configuration for details on enabling Authorization with Lakekeeper.</p>"}, {"location": "docs/latest/docs/authorization/#grants", "title": "Grants", "text": "<p>The default permission model is focused on collaborating on data. Permissions are additive. The underlying OpenFGA model is defined in <code>schema.fga</code> on Github. The following grants are available:</p> Entity Grant server admin, operator project project_admin, security_admin, data_admin, role_creator, describe, select, create, modify warehouse ownership, pass_grants, manage_grants, describe, select, create, modify namespace ownership, pass_grants, manage_grants, describe, select, create, modify table ownership, pass_grants, manage_grants, describe, select, modify view ownership, pass_grants, manage_grants, describe, modify role assignee, ownership"}, {"location": "docs/latest/docs/authorization/#ownership", "title": "Ownership", "text": "<p>Owners of objects have all rights on the specific object. When principals create new objects, they automatically become owners of these objects. This enables powerful self-service szenarios where users can act autonomously in a (sub-)namespace. By default, Owners of objects are also able to access grants on objects, which enables them to expand the access to their owned objects to new users. Enabling Managed Access for a Warehouse or Namespace removes the <code>grant</code> privilege from owners.</p>"}, {"location": "docs/latest/docs/authorization/#server-admin", "title": "Server: Admin", "text": "<p>A <code>server</code>'s <code>admin</code> role is the most powerful role (apart from <code>operator</code>) on the server. In order to guarantee auditability, this role can list and administrate all Projects, but does not have access to data in projects. While the <code>admin</code> can assign himself the <code>project_admin</code> role for a project, this assignment is tracked by <code>OpenFGA</code> for audits. <code>admin</code>s can also manage all projects (but no entities within it), server settings and users.</p>"}, {"location": "docs/latest/docs/authorization/#server-operator", "title": "Server: Operator", "text": "<p>The <code>operator</code> has unrestricted access to all objects in Lakekeeper. It is designed to be used by technical users (e.g., a Kubernetes Operator) managing the Lakekeeper deployment.</p>"}, {"location": "docs/latest/docs/authorization/#project-security-admin", "title": "Project: Security Admin", "text": "<p>A <code>security_admin</code> in a project can manage all security-related aspects, including grants and ownership for the project and all objects within it. However, they cannot modify or access the content of any object, except for listing and browsing purposes.</p>"}, {"location": "docs/latest/docs/authorization/#project-data-admin", "title": "Project: Data Admin", "text": "<p>A <code>data_admin</code> in a project can manage all data-related aspects, including creating, modifying, and deleting objects within the project. However, they cannot grant privileges or manage ownership.</p>"}, {"location": "docs/latest/docs/authorization/#project-admin", "title": "Project: Admin", "text": "<p>A <code>project_admin</code> in a project has the combined responsibilities of both <code>security_admin</code> and <code>data_admin</code>. They can manage all security-related aspects, including grants and ownership, as well as all data-related aspects, including creating, modifying, and deleting objects within the project.</p>"}, {"location": "docs/latest/docs/authorization/#project-role-creator", "title": "Project: Role Creator", "text": "<p>A <code>role_creator</code> in a project can create new roles within it. This role is essential for delegating the creation of roles without granting broader administrative privileges.</p>"}, {"location": "docs/latest/docs/authorization/#describe", "title": "Describe", "text": "<p>The <code>describe</code> grant allows a user to view metadata and details about an object without modifying it. This includes listing objects and viewing their properties. The <code>describe</code> grant is inherited down the object hierarchy, meaning if a user has the <code>describe</code> grant on a higher-level entity, they can also describe all child entities within it. The <code>describe</code> grant is implicitly included with the <code>select</code>, <code>create</code>, and <code>modify</code> grants.</p>"}, {"location": "docs/latest/docs/authorization/#select", "title": "Select", "text": "<p>The <code>select</code> grant allows a user to read data from an object, such as tables or views. This includes querying and retrieving data. The <code>select</code> grant is inherited down the object hierarchy, meaning if a user has the <code>select</code> grant on a higher-level entity, they can select all views and tables within it. The <code>select</code> grant implicitly includes the <code>describe</code> grant.</p>"}, {"location": "docs/latest/docs/authorization/#create", "title": "Create", "text": "<p>The <code>create</code> grant allows a user to create new objects within an entity, such as tables, views, or namespaces. The <code>create</code> grant is inherited down the object hierarchy, meaning if a user has the <code>create</code> grant on a higher-level entity, they can also create objects within all child entities. The <code>create</code> grant implicitly includes the <code>describe</code> grant.</p>"}, {"location": "docs/latest/docs/authorization/#modify", "title": "Modify", "text": "<p>The <code>modify</code> grant allows a user to change the content or properties of an object, such as updating data in tables or altering views. The <code>modify</code> grant is inherited down the object hierarchy, meaning if a user has the <code>modify</code> grant on a higher-level entity, they can also modify all child entities within it. The <code>modify</code> grant implicitly includes the <code>select</code> and <code>describe</code> grants.</p>"}, {"location": "docs/latest/docs/authorization/#pass-grants", "title": "Pass Grants", "text": "<p>The <code>pass_grants</code> grant allows a user to pass their own privileges to other users. This means that if a user has certain permissions on an object, they can grant those same permissions to others. However, the <code>pass_grants</code> grant does not include the ability to pass the <code>pass_grants</code> privilege itself.</p>"}, {"location": "docs/latest/docs/authorization/#manage-grants", "title": "Manage Grants", "text": "<p>The <code>manage_grants</code> grant allows a user to manage all grants on an object, including creating, modifying, and revoking grants. This also includes <code>manage_grants</code> and <code>pass_grants</code>.</p>"}, {"location": "docs/latest/docs/authorization/#inheritance", "title": "Inheritance", "text": "<ul> <li>To-Down-Inheritance: Permissions in higher up entities are inherited to their children. For example if the <code>modify</code> privilege is granted on a <code>warehouse</code> for a principal, this principal is also able to <code>modify</code> any namespaces, including nesting ones, tables and views within it.</li> <li>Bottom-Up-Inheritance: Permissions on lower entities, for example tables, inherit basic navigational privileges to all higher layer principals. For example, if a user is granted the <code>select</code> privilege on table <code>ns1.ns2.table_1</code>, that user is implicitly granted limited list privileges on <code>ns1</code> and <code>ns2</code>. Only items in the direct path are presented to users. If <code>ns1.ns3</code> would exist as well, a list on <code>ns1</code> would only show <code>ns1.ns2</code>.</li> </ul>"}, {"location": "docs/latest/docs/authorization/#managed-access", "title": "Managed Access", "text": "<p>Managed access is a feature designed to provide stricter control over access privileges within Lakekeeper. It is particularly useful for organizations that require a more restrictive access control model to ensure data security and compliance.</p> <p>In some cases, the default ownership model, which grants all privileges to the creator of an object, can be too permissive. This can lead to situations where non-admin users unintentionally share data with unauthorized users by granting privileges outside the scope defined by administrators. Managed access addresses this concern by removing the <code>grant</code> privilege from owners and centralizing the management of access privileges.</p> <p>With managed access, admin-like users can define access privileges on high-level container objects, such as warehouses or namespaces, and ensure that all child objects inherit these privileges. This approach prevents non-admin users from granting privileges that are not authorized by administrators, thereby reducing the risk of unintentional data sharing and enhancing overall security.</p> <p>Managed access combines elements of Role-Based Access Control (RBAC) and Discretionary Access Control (DAC). While RBAC allows privileges to be assigned to roles and users, DAC assigns ownership to the creator of an object. By integrating managed access, Lakekeeper provides a balanced access control model that supports both self-service analytics and data democratization while maintaining strict security controls.</p> <p>Managed access can be enabled or disabled for warehouses and namespaces using the UI or the <code>../managed-access</code> Endpoints. Managed access settings are inherited down the object hierarchy, meaning if managed access is enabled on a higher-level entity, it applies to all child entities within it.</p>"}, {"location": "docs/latest/docs/authorization/#best-practices", "title": "Best Practices", "text": "<p>We recommend separating access to data from the ability to grant privileges. To achieve this, the <code>security_admin</code> and <code>data_admin</code> roles divide the responsibilities of the initial <code>project_admin</code>, who has the authority to perform tasks in both areas.</p>"}, {"location": "docs/latest/docs/bootstrap/", "title": "Bootstrap / Initialize", "text": "<p>After the initial deployment, Lakekeeper needs to be bootstrapped. This can be done via the UI or the <code>/management/v1/bootstrap</code> endpoint. A typical POST request to bootstrap Lakekeeper looks like this:</p> <pre><code>curl --location 'https://&lt;lakekeeper-url&gt;/management/v1/bootstrap' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer &lt;my-bearer-token&gt;' \\\n--data '{\n    \"accept-terms-of-use\": true\n}'\n</code></pre> <p><code>&lt;my-bearer-token&gt;</code> is obtained by logging into the IdP before bootstrapping Lakekeeper. If authentication is disabled, no token is required. Lakekeeper can only be bootstrapped once.</p> <p>During bootstrapping, Lakekeeper performs the following actions:</p> <ul> <li>Grants the server's <code>admin</code> role to the user performing the POST request. The user is identified by their token. If authentication is disabled, the <code>Authorization</code> header is not required, and no <code>admin</code> is set, as permissions are disabled in this case.</li> <li>Stores the current Server ID to prevent unwanted future changes that would break permissions.</li> <li>Accepts terms of use as defined by our License.</li> </ul> <p>If the initial user is a technical user (e.g., a Kubernetes Operator) managing the Lakekeeper deployment, the <code>admin</code> role might not be sufficient as it limits access to projects until the <code>admin</code> grants themselves permission. For technical users, the <code>operator</code> role grants full access to all APIs and can be obtained by adding <code>\"is-operator\": true</code> to the JSON body of the bootstrap request.</p>"}, {"location": "docs/latest/docs/concepts/", "title": "Concepts", "text": ""}, {"location": "docs/latest/docs/concepts/#architecture", "title": "Architecture", "text": "<p>Lakekeeper is an implementation of the Apache Iceberg REST Catalog API.  Lakekeeper depends on the following, partially optional, external dependencies:</p> Connected systems. Green boxes are recommended for production. <ul> <li>Persistence Backend / Catalog (required): We currently support only Postgres, but plan to expand our support to more Databases in the future.</li> <li>Warehouse Storage (required): When a new Warehouse is created, storage credentials are required.</li> <li>Identity Provider (optional): Lakekeeper can authenticate incoming requests using any OIDC capable Identity Provider (IdP). Lakekeeper can also natively authenticate kubernetes service accounts.</li> <li>Authorization System (optional): For permission management, Lakekeeper uses the wonderful OpenFGA Project. OpenFGA is automatically deployed in our docker-compose and helm installations. Authorization can only be used if Lakekeeper is connected to an Identity Provider.</li> <li>Secret Store (optional): By default, Lakekeeper stores all secrets (i.e. S3 access credentials) encrypted in the Persistence Backend. To increase security, Lakekeeper can also use external systems to store secrets. Currently all Hashicorp-Vault like stores are supported.</li> <li>Event Store (optional): Lakekeeper can send Change Events to an Event Store. Currently Nats is supported, we are working on support for Apache Kafka</li> <li>Data Contract System (optional): Lakekeeper can interface with external data contract systems to prohibit breaking changes to your tables.</li> </ul> <p>To get started quickly with the latest version of Lakekeeper check our Getting Started Guide.</p>"}, {"location": "docs/latest/docs/concepts/#entity-hierarchy", "title": "Entity Hierarchy", "text": "<p>In addition to entities defined in the Apache Iceberg specification or the REST specification (Namespaces, Tables, etc.), Lakekeeper introduces new entities for permission management and multi-tenant setups. The following entities are available in Lakekeeper:</p> <p></p> Lakekeeper Entity Hierarchy <p></p> <p>Project, Server, User and Roles are entities unknown to the Iceberg Rest Specification. Lakekeeper serves two APIs:</p> <ol> <li>The Iceberg REST API is served at endpoints prefixed with <code>/catalog</code>. External query engines connect to this API to interact with the Lakekeeper. Lakekeeper also implements the S3 remote signing API which is hosted at <code>/&lt;warehouse-id&gt;/v1/aws/s3/sign</code>.</li> <li>The Lakekeeper Management API is served at endpoints prefixed with <code>/management</code>. It is used to configure Lakekeeper and manage entities that are not part of the Iceberg REST Catalog specification, such as permissions.</li> </ol>"}, {"location": "docs/latest/docs/concepts/#server", "title": "Server", "text": "<p>The Server is the highest entity in Lakekeeper, representing a single instance or a cluster of Lakekeeper pods sharing a common state. Each server has a unique identifier (UUID). By default, this <code>Server ID</code> is set to <code>00000000-0000-0000-0000-000000000000</code>. It can be changed by setting the <code>LAKEKEEPER__SERVER_ID</code> environment variable. We recommend to not set the <code>Server ID</code> explicitly, unless multiple Lakekeeper instances share a single Authorization system. The <code>Server ID</code> must not be changed after the initial bootstrapping or permissions might not work.</p>"}, {"location": "docs/latest/docs/concepts/#project", "title": "Project", "text": "<p>For single-company setups, we recommend using a single Project setup, which is the default. Unless <code>LAKEKEEPER__ENABLE_DEFAULT_PROJECT</code> is explicitly set to <code>false</code>, a default project is created during bootstrapping with the nil UUID.</p>"}, {"location": "docs/latest/docs/concepts/#warehouse", "title": "Warehouse", "text": "<p>Each Project can contain multiple Warehouses. Query engines connect to Lakekeeper by specifying a Warehouse name in the connection configuration.</p> <p>Each Warehouse is associated with a unique location on object stores. Never share locations between Warehouses to ensure no data is leaked via vended credentials. Each Warehouse stores information on how to connect to its location via a <code>storage-profile</code> and an optional <code>storage-credential</code>.</p> <p>Warehouses can be configured to use Soft-Deletes. When enabled, tables are not eagerly deleted but kept in a deleted state for a configurable amount of time. During this time, they can be restored. Please note that Warehouses and Namespaces cannot be deleted via the <code>/catalog</code> API if child objects are present. This includes soft-deleted Tables. A cascade-drop API is added in one of the next releases as part of the <code>/management</code> API.</p>"}, {"location": "docs/latest/docs/concepts/#namespaces", "title": "Namespaces", "text": "<p>Each Warehouses can contain multiple Namespaces. Namespaces can be nested and serve as containers for Namespaces, Tables and Views. Using the <code>/catalog</code> API, a Namespace cannot be dropped unless it is empty. A cascade-drop API is added in one of the next releases as part of the <code>/management</code> API.</p>"}, {"location": "docs/latest/docs/concepts/#tables-views", "title": "Tables &amp; Views", "text": "<p>Each Namespace can contain multiple Tables and Views. When creating new Tables and Views, we recommend to not specify the <code>location</code> explicitly. If locations are specified explicitly, the location must be a valid sub location of the <code>storage-profile</code> of the Warehouse - this is validated by Lakekeeper upon creation. Lakekeeper also ensures that there are no Tables or Views that use a parent- or sub-folder as their <code>location</code> and that the location is empty on creation. These checks are required to ensure that no data is leaked via vended-credentials.</p>"}, {"location": "docs/latest/docs/concepts/#users", "title": "Users", "text": "<p>Lakekeeper is no Identity Provider. The identities of users are exclusively managed via an external Identity Provider to ensure compliance with basic security standards. Lakekeeper does not store any Password / Certificates / API Keys or any other secret that grants access to data for users. Instead, we only store Name, Email and type of users with the sole purpose of providing a convenient search while assigning privileges.</p> <p>Users can be provisioned to Lakekeeper by either of the following endpoints:</p> <ul> <li>Explicit user creation via the POST <code>/management/user</code> endpoint. This endpoint is called automatically by the UI upon login. Thus, users are \"searchable\" after their first login to the UI.</li> <li>Implicit on-the-fly creation when calling GET <code>/catalog/v1/config</code>. This can be used to register technical users simply by connecting to the Lakekeeper with your favorite tool (i.e. Spark). The initial connection will probably fail because privileges are missing to use this endpoint, but the user is provisioned anyway so that privileges can be assigned before re-connecting.</li> </ul>"}, {"location": "docs/latest/docs/concepts/#roles", "title": "Roles", "text": "<p>Projects can contain multiple Roles, allowing Roles to be reused in all Warehouses within the Project. Roles can be nested arbitrarily, meaning that a role can contain other roles within it. Roles can be provisioned automatically using the <code>/management/v1/role</code> endpoint or manually created via the UI. We are looking into SCIM support to simplify role provisioning. Please consider upvoting the corresponding Github Issue if this would be of interest to you.</p>"}, {"location": "docs/latest/docs/concepts/#dropping-tables", "title": "Dropping Tables", "text": "<p>Currently all tables stored in Lakekeeper are assumed to be managed by Lakekeeper. The concept of \"external\" tables will follow in a later release. When managed tables are dropped, Lakekeeper removes all files of these tables in the storage.</p>"}, {"location": "docs/latest/docs/concepts/#soft-deletion", "title": "Soft Deletion", "text": "<p>In Lakekeeper, warehouses can enable soft deletion. If soft deletion is enabled for a warehouse, when a table or view is dropped, it is not immediately deleted from the catalog. Instead, it is marked as dropped and a job for its cleanup is scheduled. The table is then deleted after the warehouse specific expiration delay has passed. This will allow for a recovery of tables that have been dropped by accident. \"Undropping\" a table is only possible if soft-deletes are enabled for a Warehouse.</p> <p>The undropping Endpoint is going to be release in Lakekeeper 0.6.0.</p>"}, {"location": "docs/latest/docs/concepts/#migration", "title": "Migration", "text": "<p>Migration is a crucial step that must be performed before starting the Lakekeeper. It initializes the persistent backend storage and, if enabled, the authorization system. </p> <p>For each Lakekeeper update, migration must be executed before the <code>serve</code> command can be called. This ensures that all necessary updates and configurations are applied to the system. It is possible to skip Lakekeeper versions during migration.</p>"}, {"location": "docs/latest/docs/configuration/", "title": "Configuration", "text": "<p>Lakekeeper is configured via environment variables. Settings listed in this page are shared between all projects and warehouses. Previous to Lakekeeper Version <code>0.5.0</code> please prefix all environment variables with <code>ICEBERG_REST__</code> instead of <code>LAKEKEEPER__</code>.</p> <p>For most deployments, we recommend to set at least the following variables: <code>LAKEKEEPER__BASE_URI</code>, <code>LAKEKEEPER__PG_DATABASE_URL_READ</code>, <code>LAKEKEEPER__PG_DATABASE_URL_WRITE</code>, <code>LAKEKEEPER__PG_ENCRYPTION_KEY</code>.</p>"}, {"location": "docs/latest/docs/configuration/#general", "title": "General", "text": "Variable Example Description <code>LAKEKEEPER__BASE_URI</code> <code>https://example.com:8181</code> Base URL where the catalog is externally reachable. Default: <code>https://localhost:8181</code> <code>LAKEKEEPER__ENABLE_DEFAULT_PROJECT</code> <code>true</code> If <code>true</code>, the NIL Project ID (\"00000000-0000-0000-0000-000000000000\") is used as a default if the user does not specify a project when connecting. This option is enabled by default, which we recommend for all single-project (single-tenant) setups. Default: <code>true</code>. <code>LAKEKEEPER__RESERVED_NAMESPACES</code> <code>system,examples,information_schema</code> Reserved Namespaces that cannot be created via the REST interface <code>LAKEKEEPER__METRICS_PORT</code> <code>9000</code> Port where the Prometheus metrics endpoint is reachable. Default: <code>9000</code> <code>LAKEKEEPER__LISTEN_PORT</code> <code>8181</code> Port the Lakekeeper listens on. Default: <code>8181</code> <code>LAKEKEEPER__SECRET_BACKEND</code> <code>postgres</code> The secret backend to use. If <code>kv2</code> (Hashicorp KV Version 2) is chosen, you need to provide additional parameters Default: <code>postgres</code>, one-of: [<code>postgres</code>, <code>kv2</code>] <code>LAKEKEEPER__ALLOW_ORIGIN</code> <code>*</code> A comma separated list of allowed origins for CORS."}, {"location": "docs/latest/docs/configuration/#persistence-store", "title": "Persistence Store", "text": "<p>Currently Lakekeeper supports only Postgres as a persistence store. You may either provide connection strings using <code>PG_DATABASE_URL_READ</code> or use the <code>PG_*</code> environment variables. Connection strings take precedence:</p> Variable Example Description <code>LAKEKEEPER__PG_DATABASE_URL_READ</code> <code>postgres://postgres:password@localhost:5432/iceberg</code> Postgres Database connection string used for reading. Defaults to <code>LAKEKEEPER__PG_DATABASE_URL_WRITE</code>. <code>LAKEKEEPER__PG_DATABASE_URL_WRITE</code> <code>postgres://postgres:password@localhost:5432/iceberg</code> Postgres Database connection string used for writing. <code>LAKEKEEPER__PG_ENCRYPTION_KEY</code> <code>This is unsafe, please set a proper key</code> If <code>LAKEKEEPER__SECRET_BACKEND=postgres</code>, this key is used to encrypt secrets. It is required to change this for production deployments. <code>LAKEKEEPER__PG_READ_POOL_CONNECTIONS</code> <code>10</code> Number of connections in the read pool <code>LAKEKEEPER__PG_WRITE_POOL_CONNECTIONS</code> <code>5</code> Number of connections in the write pool <code>LAKEKEEPER__PG_HOST_R</code> <code>localhost</code> Hostname for read operations. Defaults to <code>LAKEKEEPER__PG_HOST_W</code>. <code>LAKEKEEPER__PG_HOST_W</code> <code>localhost</code> Hostname for write operations <code>LAKEKEEPER__PG_PORT</code> <code>5432</code> Port number <code>LAKEKEEPER__PG_USER</code> <code>postgres</code> Username for authentication <code>LAKEKEEPER__PG_PASSWORD</code> <code>password</code> Password for authentication <code>LAKEKEEPER__PG_DATABASE</code> <code>iceberg</code> Database name <code>LAKEKEEPER__PG_SSL_MODE</code> <code>require</code> SSL mode (disable, allow, prefer, require) <code>LAKEKEEPER__PG_SSL_ROOT_CERT</code> <code>/path/to/root/cert</code> Path to SSL root certificate <code>LAKEKEEPER__PG_ENABLE_STATEMENT_LOGGING</code> <code>true</code> Enable SQL statement logging <code>LAKEKEEPER__PG_TEST_BEFORE_ACQUIRE</code> <code>true</code> Test connections before acquiring from the pool <code>LAKEKEEPER__PG_CONNECTION_MAX_LIFETIME</code> <code>1800</code> Maximum lifetime of connections in seconds"}, {"location": "docs/latest/docs/configuration/#vault-kv-version-2", "title": "Vault KV Version 2", "text": "<p>Configuration parameters if a Vault KV version 2 (i.e. Hashicorp Vault) compatible storage is used as a backend. Currently, we only support the <code>userpass</code> authentication method. Configuration may be passed as single values like <code>LAKEKEEPER__KV2__URL=http://vault.local</code> or as a compound value: <code>LAKEKEEPER__KV2='{url=\"http://localhost:1234\", user=\"test\", password=\"test\", secret_mount=\"secret\"}'</code></p> Variable Example Description <code>LAKEKEEPER__KV2__URL</code> <code>https://vault.local</code> URL of the KV2 backend <code>LAKEKEEPER__KV2__USER</code> <code>admin</code> Username to authenticate against the KV2 backend <code>LAKEKEEPER__KV2__PASSWORD</code> <code>password</code> Password to authenticate against the KV2 backend <code>LAKEKEEPER__KV2__SECRET_MOUNT</code> <code>kv/data/iceberg</code> Path to the secret mount in the KV2 backend"}, {"location": "docs/latest/docs/configuration/#task-queues", "title": "Task queues", "text": "<p>Lakekeeper uses task queues internally to remove soft-deleted tabulars and purge tabular files. The following global configuration options are available:</p> Variable Example Description <code>LAKEKEEPER__QUEUE_CONFIG__MAX_RETRIES</code> 5 Number of retries before a task is considered failed  Default: 5 <code>LAKEKEEPER__QUEUE_CONFIG__MAX_AGE</code> 3600 Amount of seconds before a task is considered stale and could be picked up by another worker. Default: 3600 <code>LAKEKEEPER__QUEUE_CONFIG__POLL_INTERVAL</code> 10 Amount of seconds between polling for new tasks. Default: 10"}, {"location": "docs/latest/docs/configuration/#nats", "title": "Nats", "text": "<p>Lakekeeper can publish change events to Nats (Kafka is coming soon). The following configuration options are available:</p> Variable Example Description <code>LAKEKEEPER__NATS_ADDRESS</code> <code>nats://localhost:4222</code> The URL of the NATS server to connect to <code>LAKEKEEPER__NATS_TOPIC</code> <code>iceberg</code> The subject to publish events to <code>LAKEKEEPER__NATS_USER</code> <code>test-user</code> User to authenticate against nats, needs <code>LAKEKEEPER__NATS_PASSWORD</code> <code>LAKEKEEPER__NATS_PASSWORD</code> <code>test-password</code> Password to authenticate against nats, needs <code>LAKEKEEPER__NATS_USER</code> <code>LAKEKEEPER__NATS_CREDS_FILE</code> <code>/path/to/file.creds</code> Path to a file containing nats credentials <code>LAKEKEEPER__NATS_TOKEN</code> <code>xyz</code> Nats token to use for authentication"}, {"location": "docs/latest/docs/configuration/#authentication", "title": "Authentication", "text": "<p>To prohibit unwanted access to data, we recommend to enable Authentication.</p> <p>Authentication is enabled if:</p> <ul> <li><code>LAKEKEEPER__OPENID_PROVIDER_URI</code> is set OR</li> <li><code>LAKEKEEPER__ENABLE_KUBERNETES_AUTHENTICATION</code> is set to true</li> </ul> <p>External OpenID and Kubernetes Authentication can also be enabled together. If <code>LAKEKEEPER__OPENID_PROVIDER_URI</code> is specified, Lakekeeper will  verify access tokens against this provider. The provider must provide the <code>.well-known/openid-configuration</code> endpoint and the openid-configuration needs to have <code>jwks_uri</code> and <code>issuer</code> defined. </p> <p>Typical values for <code>LAKEKEEPER__OPENID_PROVIDER_URI</code> are:</p> <ul> <li>Keycloak: <code>https://keycloak.local/realms/{your-realm}</code></li> <li>Entra-ID: <code>https://login.microsoftonline.com/{your-tenant-id-here}/v2.0/</code></li> </ul> <p>Please check the Authentication Guide for more details.</p> Variable Example Description <code>LAKEKEEPER__OPENID_PROVIDER_URI</code> <code>https://keycloak.local/realms/{your-realm}</code> OpenID Provider URL. <code>LAKEKEEPER__OPENID_AUDIENCE</code> <code>the-client-id-of-my-app</code> If set, the <code>aud</code> of the provided token must match the value provided. Multiple allowed audiences can be provided as a comma separated list. <code>LAKEKEEPER__OPENID_ADDITIONAL_ISSUERS</code> <code>https://sts.windows.net/&lt;Tenant&gt;/</code> A comma separated list of additional issuers to trust. The issuer defined in the <code>issuer</code> field of the <code>.well-known/openid-configuration</code> is always trusted. <code>LAKEKEEPER__OPENID_ADDITIONAL_ISSUERS</code> has no effect if <code>LAKEKEEPER__OPENID_PROVIDER_URI</code> is not set. <code>LAKEKEEPER__ENABLE_KUBERNETES_AUTHENTICATION</code> true If true, kubernetes service accounts can authenticate to Lakekeeper. This option is compatible with <code>LAKEKEEPER__OPENID_PROVIDER_URI</code> - multiple IdPs (OIDC and Kubernetes) can be enabled simultaneously."}, {"location": "docs/latest/docs/configuration/#authorization", "title": "Authorization", "text": "<p>Authorization is only effective if Authentication is enabled.</p> Variable Example Description <code>LAKEKEEPER__AUTHZ_BACKEND</code> <code>allowall</code> The authorization backend to use. If <code>openfga</code> is chosen, you need to provide additional parameters. The <code>allowall</code> backend disables authorization - authenticated users can access all endpoints. Default: <code>allowall</code>, one-of: [<code>openfga</code>, <code>allowall</code>] <code>LAKEKEEPER__OPENFGA__ENDPOINT</code> <code>http://localhost:35081</code> OpenFGA Endpoint (gRPC). <code>LAKEKEEPER__OPENFGA__STORE_NAME</code> <code>lakekeeper</code> The OpenFGA Store to use. Default: <code>lakekeeper</code> <code>LAKEKEEPER__OPENFGA__API_KEY</code> <code>my-api-key</code> The API Key used for Pre-shared key authentication to OpenFGA. If <code>LAKEKEEPER__OPENFGA__CLIENT_ID</code> is set, the API Key is ignored. If neither API Key nor Client ID is specified, no authentication is used. <code>LAKEKEEPER__OPENFGA__CLIENT_ID</code> <code>12345</code> The Client ID to use for Authenticating if OpenFGA is secured via OIDC. <code>LAKEKEEPER__OPENFGA__CLIENT_SECRET</code> <code>abcd</code> Client Secret for the Client ID. <code>LAKEKEEPER__OPENFGA__TOKEN_ENDPOINT</code> <code>https://keycloak.example.com/realms/master/protocol/openid-connect/token</code> Token Endpoint to use when exchanging client credentials for an access token for OpenFGA. Required if Client ID is set"}, {"location": "docs/latest/docs/configuration/#ui", "title": "UI", "text": "<p>When using the built-in UI which is hosted as part of the Lakekeeper binary, most values are pre-set with the corresponding values of Lakekeeper itself. Customization is typically required if Authentication is enabled. Please check the Authentication guide for more information.</p> Variable Example Description <code>LAKEKEEPER__UI__OPENID_PROVIDER_URI</code> <code>https://keycloak.local/realms/{your-realm}</code> OpenID provider URI used for login in the UI. Defaults to <code>LAKEKEEPER__OPENID_PROVIDER_URI</code>. Set this only if the IdP is reachable under a different URI from the users browser and lakekeeper. <code>LAKEKEEPER__UI__OPENID_CLIENT_ID</code> <code>lakekeeper-ui</code> Client ID to use for the Authorization Code Flow of the UI. Required if Authentication is enabled. <code>LAKEKEEPER__UI__OPENID_REDIRECT_PATH</code> <code>/callback</code> Path where the UI receives the callback including the tokens from the users browser. Defaults to: <code>/callback</code> <code>LAKEKEEPER__UI__OPENID_SCOPE</code> <code>openid email</code> Scopes to request from the IdP. If supported by the IdP, we recommend setting at least <code>openid email</code> <code>LAKEKEEPER__UI__OPENID_RESOURCE</code> <code>lakekeeper-api</code> Resources to request from the IdP. <code>LAKEKEEPER__UI__OPENID_POST_LOGOUT_REDIRECT_PATH</code> <code>/logout</code> Path the UI calls when users are logged out from the IdP."}, {"location": "docs/latest/docs/configuration/#ssl-dependencies", "title": "SSL Dependencies", "text": "<p>You may be running Lakekeeper in your own environment which uses self-signed certificates for e.g. Minio. Lakekeeper is built with reqwest's <code>rustls-tls-native-roots</code> feature activated, this means <code>SSL_CERT_FILE</code> and <code>SSL_CERT_DIR</code> environment variables are respected. If both are not set, the system's default CA store is used. If you want to use a custom CA store, set <code>SSL_CERT_FILE</code> to the path of the CA file or <code>SSL_CERT_DIR</code> to the path of the CA directory. The certificate used by the server cannot be a CA. It needs to be an end entity certificate, else you may run into <code>CaUsedAsEndEntity</code> errors.</p>"}, {"location": "docs/latest/docs/customize/", "title": "Customize", "text": "<p>As Customizability is one of the core features we are missing in other IRC implementations, we try to do things differently. The core implementation of this crate is based on four modules that back the <code>axum</code> service router:</p> <ul> <li><code>Catalog</code> is the interface to the DB backend where Warehouses, Namespaces, Tables and other entities are managed.</li> <li><code>SecretStore</code> is the interface to a secure storage for secrets.</li> <li><code>Authorizer</code> is the interface to the permission system used by Lakekeeper. It may expose its own APIs.</li> <li><code>EventPublisher</code> is the interface to message queues to send change events to.</li> <li><code>ContractValidator</code> allows an external system to prohibit changes to tables if, for example, data contracts are violated</li> <li><code>TaskQueue</code> is the interface to the task store, used to schedule tasks like soft-deletes</li> </ul> <p>All components come pre-implemented, however we encourage you to write custom implementations, for example to seamlessly grant access to tables via your companies Data Governance solution, or publish events to your very important messaging service.</p>"}, {"location": "docs/latest/docs/developer-guide/", "title": "Developer Guide", "text": "<p>All commits to main should go through a PR. CI checks should pass before merging the PR. Before merge commits are squashed. PR titles should follow Conventional Commits.</p>"}, {"location": "docs/latest/docs/developer-guide/#foundation-cla", "title": "Foundation &amp; CLA", "text": "<p>We hate red tape. Currently all committers need to sign the CLA in github. To ensure the future of Lakekeeper, we want to donate the project to a foundation. We are not sure yet if this is going to be Apache, Linux, a Lakekeeper foundation or something else. Currently we prefer to spent our time on adding cool new features to Lakekeeper, but we will revisit this topic during 2026.</p>"}, {"location": "docs/latest/docs/developer-guide/#quickstart", "title": "Quickstart", "text": "<pre><code># start postgres\ndocker run -d --name postgres-15 -p 5432:5432 -e POSTGRES_PASSWORD=postgres postgres:15\n# set envs\necho 'export DATABASE_URL=postgresql://postgres:postgres@localhost:5432/postgres' &gt; .env\necho 'export ICEBERG_REST__PG_ENCRYPTION_KEY=\"abc\"' &gt;&gt; .env\necho 'export ICEBERG_REST__PG_DATABASE_URL_READ=\"postgresql://postgres:postgres@localhost/postgres\"' &gt;&gt; .env\necho 'export ICEBERG_REST__PG_DATABASE_URL_WRITE=\"postgresql://postgres:postgres@localhost/postgres\"' &gt;&gt; .env\nsource .env\n\n# migrate db\ncd crates/iceberg-catalog\nsqlx database create &amp;&amp; sqlx migrate run\ncd ../..\n\n# run tests\ncargo test --all-features --all-targets\n\n# run clippy\ncargo clippy --all-features --all-targets\n</code></pre> <p>This quickstart does not run tests against cloud-storage providers or KV2. For that, please refer to the sections below.</p>"}, {"location": "docs/latest/docs/developer-guide/#developing-with-docker-compose", "title": "Developing with docker compose", "text": "<p>The following shell snippet will start a full development environment including the catalog plus its dependencies and a jupyter server with spark. The iceberg-catalog and its migrations will be built from source. This can be useful for development and testing.</p> <pre><code>$ cd examples\n$ docker-compose -f docker-compose.yaml -f docker-compose-latest.yaml up -d --build\n</code></pre> <p>You may then head to <code>localhost:8888</code> and try out one of the notebooks.</p>"}, {"location": "docs/latest/docs/developer-guide/#working-with-sqlx", "title": "Working with SQLx", "text": "<p>This crate uses sqlx. For development and compilation a Postgres Database is required. You can use Docker to launch one.:</p> <p><pre><code>docker run -d --name postgres-15 -p 5432:5432 -e POSTGRES_PASSWORD=postgres postgres:15\n</code></pre> The <code>crates/iceberg-catalog</code> folder contains a <code>.env.sample</code> File. Copy this file to <code>.env</code> and add your database credentials if they differ.</p> <p>Run:</p> <pre><code>sqlx database create\nsqlx migrate run\n</code></pre>"}, {"location": "docs/latest/docs/developer-guide/#kv2-vault", "title": "KV2 / Vault", "text": "<p>This catalog supports KV2 as backend for secrets. Tests for KV2 are disabled by default. To enable them, you need to run the following commands:</p> <pre><code>docker run -d -p 8200:8200 --cap-add=IPC_LOCK -e 'VAULT_DEV_ROOT_TOKEN_ID=myroot' -e 'VAULT_DEV_LISTEN_ADDRESS=0.0.0.0:8200' hashicorp/vault\n\n# append some more env vars to the .env file, it should already have PG related entries defined above.\n\n# this will enable the KV2 tests\necho 'export TEST_KV2=1' &gt;&gt; .env\n# the values below configure KV2\necho 'export ICEBERG_REST__KV2__URL=\"http://localhost:8200\"' &gt;&gt; .env\necho 'export ICEBERG_REST__KV2__USER=\"test\"' &gt;&gt; .env\necho 'export ICEBERG_REST__KV2__PASSWORD=\"test\"' &gt;&gt; .env\necho 'export ICEBERG_REST__KV2__SECRET_MOUNT=\"secret\"' &gt;&gt; .env\n\nsource .env\n# setup vault\n./tests/vault-setup.sh http://localhost:8200\n\ncargo test --all-features --all-targets\n</code></pre>"}, {"location": "docs/latest/docs/developer-guide/#test-cloud-storage-profiles", "title": "Test cloud storage profiles", "text": "<p>Currently, we're not aware of a good way of testing cloud storage integration against local deployments. That means, in order to test against AWS S3, GCS and ADLS Gen2, you need to set the following environment variables. For more information take a look at the Storage Guide. A sample <code>.env</code> could look like this:</p> <pre><code># TEST_AZURE=&lt;some-value&gt; controls a proc macro which either includes or excludes the azure tests\n# if you compiled without TEST_AZURE, you'll have to change a file or do a cargo clean before rerunning tests. The same applies for the TEST_AWS and TEST_MINIO env vars.\nexport TEST_AZURE=1\nexport AZURE_TENANT_ID=&lt;your tenant id&gt;\nexport AZURE_CLIENT_ID=&lt;your entra id app registration client id&gt;\nexport AZURE_CLIENT_SECRET=&lt;your entra id app registration client secret&gt;\nexport AZURE_STORAGE_ACCOUNT_NAME=&lt;your azure storage account name&gt;\nexport AZURE_STORAGE_FILESYSTEM=&lt;your azure adls filesystem name&gt;\n\nexport TEST_AWS=1\nexport AWS_S3_BUCKET=&lt;your aws s3 bucket&gt;\nexport AWS_S3_REGION=&lt;your aws s3 region&gt;\n# replace with actual values\nexport AWS_S3_ACCESS_KEY_ID=AKIAIOSFODNN7EXAMPLE\nexport AWS_S3_SECRET_ACCESS_KEY=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY\nexport AWS_S3_STS_ROLE_ARN=arn:aws:iam::123456789012:role/role-name\n\n# the values below should work with the default minio in our docker-compose\nexport TEST_MINIO=1\nexport LAKEKEEPER_TEST__S3_BUCKET=tests\nexport LAKEKEEPER_TEST__S3_REGION=local\nexport LAKEKEEPER_TEST__S3_ACCESS_KEY=minio-root-user\nexport LAKEKEEPER_TEST__S3_SECRET_KEY=minio-root-password\nexport LAKEKEEPER_TEST__S3_ENDPOINT=http://localhost:9000\n</code></pre> <p>You may then run a test via:</p> <pre><code>source .example.env-from-above\ncargo test service::storage::s3::test::aws::test_can_validate\n</code></pre>"}, {"location": "docs/latest/docs/developer-guide/#running-integration-test", "title": "Running integration test", "text": "<p>Please check the Integration Test Docs.</p>"}, {"location": "docs/latest/docs/production/", "title": "Production Checklist", "text": "<p>Lakekeeper is the heart of your data platform and needs to integrate deeply with your existing infrastructure such as IdPs. The easiest way to get Lakekeeper to production is our enterprise support. Please find more information on our commercial offerings at lakekeeper.io</p> <p>Please find following some general recommendations for productive setups:</p> <ul> <li>Use an external high-available database as a catalog backend. We recommend using a managed service in your preferred Cloud or host a high available cluster on Kubernetes yourself using your preferred operator. We are using the amazing CloudNativePG internally. Make sure the Database is backed-up regularly.</li> <li>Ensure sure both <code>LAKEKEEPER__PG_DATABASE_URL_READ</code> and <code>LAKEKEEPER__PG_DATABASE_URL_WRITE</code> are set for ideal load distribution. Most postgres deployments specify separate URLs for reading and writing to channel writes to the master while distributing reads across replicas.</li> <li>For high-available setups, ensure that multiple Lakekeeper instances are running on different nodes. We recommend our helm chart for production deployments.</li> <li>Ensure that Authentication is enabled, typically by setting <code>LAKEKEEPER__OPENID_PROVIDER_URI</code> and / or <code>LAKEKEEPER__ENABLE_KUBERNETES_AUTHENTICATION</code>. Check our Authentication Guide for more information.</li> <li>If <code>LAKEKEEPER__OPENID_PROVIDER_URI</code> is set, we recommend to set <code>LAKEKEEPER__OPENID_AUDIENCE</code> as well.</li> <li>If Authorization is desired, follow our Authorization Guide. Ensure that OpenFGA is hosted in close proximity to Lakekeeper - ideally on the same VM or Kubernetes node. In our Helm-Chart we use <code>PodAffinity</code> to achieve this.</li> <li>If the default Postgres secret backend is used, ensure that <code>LAKEKEEPER__PG_ENCRYPTION_KEY</code> is set to a long random string.</li> <li>Ensure that all Warehouses use distinct storage locations / prefixes and distinct credentials that only grant access to the prefix used for a Warehouse.</li> <li>Ensure that SSL / TLS is enabled. Lakekeeper does not terminate connections natively. Please use a reverse proxy like Nginx or Envoy to secure the connection to Lakekeeper. On Kubernetes, any Ingress controller can be used. For high-availability, failover should be handled by the reverse proxy. Lakekeeper exposes a <code>/health</code> endpoint that can be used to determine its current status. If you are using our helm-chart, probes are already built-in.</li> </ul>"}, {"location": "docs/latest/docs/storage/", "title": "Storage", "text": "<p>Storage in Lakekeeper is bound to a Warehouse. Each Warehouse stores data in a location defined by a <code>StorageProfile</code> attached to it.</p> <p>Currently, we support the following storages:</p> <ul> <li>S3 (tested with AWS &amp; Minio)</li> <li>Azure Data Lake Storage Gen 2</li> <li>Google Cloud Storage</li> </ul> <p>When creating a Warehouse or updating storage information, Lakekeeper validates the configuration.</p>"}, {"location": "docs/latest/docs/storage/#s3", "title": "S3", "text": "<p>We support remote signing and vended-credentials with Minio &amp; AWS. Both provide a secure way to access data on S3:</p> <ul> <li>Remote Signing: The client prepares an S3 request and sends its headers to the sign endpoint of Lakekeeper. Lakekeeper checks if the request is allowed, if so, it signs the request with its own credentials, creating additional headers during the process. These additional signing headers are returned to the client, which then contacts S3 directly to perform the operation on files.</li> <li>Vended Credentials: Lakekeeper uses the \"STS\" Endpoint of S3 to generate temporary credentials which are then returned to clients.</li> </ul> <p>Remote signing works natively with all S3 storages that support the default <code>AWS Signature Version 4</code>. This includes almost all S3 solutions on the market today, including Minio, Rook Ceph and others. Vended credentials in turn depend on an additional \"STS\" Endpoint, that is not supported by all S3 implementations. We run our integration tests for vended credentials against Minio and AWS. We recommend to setup vended credentials for all supported stores, remote signing is not supported by all clients.</p>"}, {"location": "docs/latest/docs/storage/#aws", "title": "AWS", "text": "<p>First create a new S3 bucket for the warehouse. Buckets can be re-used for multiple Warehouses as long as the <code>key-prefix</code> is different. We recommend to block all public access.</p> <p>Secondly we need to create an AWS role that can access and delegate access to the bucket. We start by creating a new Policy that allows access to data in the bucket. We call this policy <code>LakekeeperWarehouseDev</code>:</p> <pre><code>{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Sid\": \"ListBuckets\",\n            \"Action\": [\n                \"s3:ListAllMyBuckets\",\n                \"s3:GetBucketLocation\"\n            ],\n            \"Effect\": \"Allow\",\n            \"Resource\": [\n                \"arn:aws:s3:::*\"\n            ]\n        },\n        {\n            \"Sid\": \"ListBucketContent\",\n            \"Action\": [\n                \"s3:ListBucket\"\n            ],\n            \"Effect\": \"Allow\",\n            \"Resource\": \"arn:aws:s3:::lakekeeper-aws-demo\"\n        },\n        {\n            \"Sid\": \"DataAccess\",\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"s3:*\"\n            ],\n            \"Resource\": [\n                \"arn:aws:s3:::lakekeeper-aws-demo/*\"\n            ]\n        }\n    ]\n}\n</code></pre> <p>Now create a new user, we call the user <code>LakekeeperWarehouseDev</code>, and attach the previously created policy. When the user is created, click on \"Security credentials\" and \"Create access key\". Note down the access key and secret key for later use.</p> <p>We are done if we only rely on remote signing. For vended credentials, we need to perform one more step. Create a new role that we call <code>LakekeeperWarehouseDevRole</code>. This role needs to be trusted by the user, which is achieved via with the following trust policy: <pre><code>{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Sid\": \"TrustLakekeeperWarehouseDev\",\n            \"Effect\": \"Allow\",\n            \"Principal\": {\n                \"AWS\": \"arn:aws:iam::&lt;aws-account-id&gt;:user/LakekeeperWarehouseDev\"\n            },\n            \"Action\": \"sts:AssumeRole\"\n        }\n    ]\n}\n</code></pre></p> <p>Also attach the <code>LakekeeperWarehouseDev</code> policy created earlier.</p> <p>We are now ready to create the Warehouse via the UI or REST-API using the following values (make sure to replace everything in <code>&lt;&gt;</code>):</p> <pre><code>{\n    \"warehouse-name\": \"aws_docs\",\n    \"storage-credential\": {\n        \"type\": \"s3\",\n        \"aws-access-key-id\": \"&lt;Access Key of the created user&gt;\",\n        \"aws-secret-access-key\": \"&lt;Secret Key of the created user&gt;\",\n        \"credential-type\": \"access-key\"\n    },\n    \"storage-profile\": {\n        \"type\": \"s3\",\n        \"bucket\": \"&lt;name of the bucket&gt;\",\n        \"region\": \"&lt;region of the bucket&gt;\",\n        \"sts-enabled\": true,\n        \"flavor\": \"aws\",\n        \"key-prefix\": \"lakekeeper-dev-warehouse\",\n        \"sts-role-arn\": \"arn:aws:iam::&lt;aws account id&gt;:role/LakekeeperWarehouseDevRole\"\n    },\n    \"delete-profile\": {\n        \"type\": \"hard\"\n    }\n}\n</code></pre>"}, {"location": "docs/latest/docs/storage/#s3-compatible", "title": "S3 Compatible", "text": "<p>Unlike for AWS, we do not need any special trust-setup for vended credentials / STS with most S3 compatible solutions like Minio. Instead, we just need a bucket and an access key / secret key combination that is able to read and write from it. If <code>sts-role-arn</code> is provided, it is ignored. Make sure to select <code>flavor</code> to have the value <code>s3-compat</code>! This setting should work for most self-hosted S3 solutions.</p> <p>An warehouse create call could look like this:</p> <pre><code>{\n    \"warehouse-name\": \"minio_dev\",\n    \"storage-credential\": {\n        \"type\": \"s3\",\n        \"aws-access-key-id\": \"&lt;Access Key of the created user&gt;\",\n        \"aws-secret-access-key\": \"&lt;Secret Key of the created user&gt;\",\n        \"credential-type\": \"access-key\"\n    },\n    \"storage-profile\": {\n        \"type\": \"s3\",\n        \"bucket\": \"&lt;name of the bucket&gt;\",\n        \"region\": \"local-01\",\n        \"sts-enabled\": true,\n        \"flavor\": \"s3-compat\",\n        \"key-prefix\": \"lakekeeper-dev-warehouse\",\n    },\n    \"delete-profile\": {\n        \"type\": \"hard\"\n    }\n}\n</code></pre>"}, {"location": "docs/latest/docs/storage/#azure-data-lake-storage-gen-2", "title": "Azure Data Lake Storage Gen 2", "text": "<p>To add a Warehouse backed by ADLS, we need two Azure objects: The Storage Account itself and an App Registration which Lakekeeper can use to access it and delegate access to compute engines.</p> <p>Lets start by creating a new \"App Registration\":</p> <ol> <li>Create a new \"App Registration\"<ul> <li>Name: choose any, for this example we choose <code>Lakekeeper Warehouse (Development)</code></li> <li>Redirect URI: Leave empty</li> </ul> </li> <li>When the App Registration is created, select \"Manage\" -&gt; \"Certificates &amp; secrets\" and create a \"New client secret\". Note down the secrets \"Value\".</li> <li>In the \"Overview\" page of the \"App Registration\" note down the <code>Application (client) ID</code> and the <code>Directory (tenant) ID</code>.</li> </ol> <p>Next, we create a new Storage Account. Make sure to select \"Enable hierarchical namespace\" in the \"Advanced\" section. For existing Storage Accounts make sure \"Hierarchical namespace: Enabled\" is shown in the \"Overview\" page. There are no specific requirements otherwise. Note down the name of the storage account. When the storage account is created, we need to grant the correct permissions to the \"App Registration\" and create the filesystem / container where the data is stored:</p> <ol> <li>Open the Storage Account and select \"Data storage\" -&gt; Containers. Add a new Container, we call it <code>warehouse-dev</code>.</li> <li>Next, select \"Access Control (IAM)\" in the left menu and \"Add role assignment\". Grant the <code>Storage Blob Data Contributor</code> and <code>Storage Blob Delegator</code> roles to the <code>Lakekeeper Warehouse (Development)</code> App Registration that we previously created.</li> </ol> <p>We are now ready to create the Warehouse via the UI or the REST API. Use the following information:</p> <ul> <li>client-id: The <code>Application (client) ID</code> of the <code>Lakekeeper Warehouse (Development)</code> App Registration.</li> <li>client-secret: The \"Value\" of the client secret that we noted down previously.</li> <li>tenant-id: The <code>Directory (tenant) ID</code> from the Applications Overview page.</li> <li>account-name: Name of the Storage Account</li> <li>filesystem: Name of the container (that Azure also calls filesystem) previously created. In our example its <code>warehouse-dev</code>.</li> </ul> <p>A POST request to <code>/management/v1/warehouse</code> would expects the following body:</p> <pre><code>{\n  \"warehouse-name\": \"azure_dev\",\n  \"delete-profile\": { \"type\": \"hard\" },\n  \"storage-credential\":\n    {\n      \"client-id\": \"...\",\n      \"client-secret\": \"...\",\n      \"credential-type\": \"client-credentials\",\n      \"tenant-id\": \"...\",\n      \"type\": \"az\",\n    },\n  \"storage-profile\":\n    {\n      \"account-name\": \"...\",\n      \"filesystem\": \"warehouse-dev\",\n      \"type\": \"adls\",\n    },\n}\n</code></pre>"}, {"location": "docs/latest/docs/storage/#gcs", "title": "GCS", "text": "<p>For GCS, the used bucket needs to disable hierarchical namespaces and should have the storage admin role.</p> <p>A sample storage profile could look like this.</p> <pre><code>{\n  \"warehouse-name\": \"gcs_dev\",\n  \"storage-profile\": {\n    \"type\": \"gcs\",\n    \"bucket\": \"...\",\n    \"key-prefix\": \"...\"\n  },\n  \"storage-credential\": {\n    \"type\": \"gcs\",\n    \"credential-type\": \"service-account-key\",\n    \"key\": {\n      \"type\": \"service_account\",\n      \"project_id\": \"example-project-1234\",\n      \"private_key_id\": \"....\",\n      \"private_key\": \"-----BEGIN PRIVATE KEY-----\\n.....\\n-----END PRIVATE KEY-----\\n\",\n      \"client_email\": \"abc@example-project-1234.iam.gserviceaccount.com\",\n      \"client_id\": \"123456789012345678901\",\n      \"auth_uri\": \"https://accounts.google.com/o/oauth2/auth\",\n      \"token_uri\": \"https://oauth2.googleapis.com/token\",\n      \"auth_provider_x509_cert_url\": \"https://www.googleapis.com/oauth2/v1/certs\",\n      \"client_x509_cert_url\": \"https://www.googleapis.com/robot/v1/metadata/x509/abc%example-project-1234.iam.gserviceaccount.com\",\n      \"universe_domain\": \"googleapis.com\"\n    }\n  }\n}\n</code></pre>"}]}